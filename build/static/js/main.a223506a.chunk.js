(this["webpackJsonpreact-amplified"]=this["webpackJsonpreact-amplified"]||[]).push([[0],{276:function(e,t,a){e.exports=a(476)},281:function(e,t,a){},284:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},285:function(e,t,a){},451:function(e,t,a){var n={"./amplify-amazon-button_5.entry.js":[482,4],"./amplify-auth-fields_9.entry.js":[483,9],"./amplify-authenticator.entry.js":[484,13],"./amplify-button_3.entry.js":[485,10],"./amplify-checkbox.entry.js":[486,18],"./amplify-confirm-sign-in_8.entry.js":[487,5],"./amplify-federated-buttons_2.entry.js":[488,11],"./amplify-federated-sign-in.entry.js":[489,14],"./amplify-form-field_4.entry.js":[490,19],"./amplify-greetings.entry.js":[491,12],"./amplify-icon-button.entry.js":[492,20],"./amplify-icon.entry.js":[493,15],"./amplify-link.entry.js":[494,21],"./amplify-nav_2.entry.js":[495,6],"./amplify-radio-button_2.entry.js":[496,7],"./amplify-select-mfa-type.entry.js":[497,8],"./amplify-sign-in-button.entry.js":[498,16],"./amplify-tooltip.entry.js":[499,22]};function s(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],s=t[0];return a.e(t[1]).then((function(){return a(s)}))}s.keys=function(){return Object.keys(n)},s.id=451,e.exports=s},476:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),o=a(34),r=a.n(o),l=(a(281),a(24)),i=a.n(l),c=a(54),u=a(226),m=a(227),d=a(260),h=a(259),v=(a(283),a(284),a(225)),p=(a(285),{aws_project_region:"us-east-1",aws_cognito_identity_pool_id:"us-east-1:f0e42c30-fcd7-4e05-a810-e0566f39f5fa",aws_cognito_region:"us-east-1",aws_user_pools_id:"us-east-1_71UsD1skO",aws_user_pools_web_client_id:"23g6kk2a9k53ochc5le848gfrc",oauth:{},aws_cloud_logic_custom:[{name:"api75996003",endpoint:"https://9xu5b3oocg.execute-api.us-east-1.amazonaws.com/env",region:"us-east-1"}],aws_content_delivery_bucket:"reactamplified-20200429081254-hostingbucket-env",aws_content_delivery_bucket_region:"us-east-1",aws_content_delivery_url:"https://d3niie3w5fztox.cloudfront.net"}),f=(a(477),a(141)),g=a.n(f),E=a(533),y=a(534),w=a(537),b=a(82),k=a(42),C=a(538),_=a(539),x=a(258),M=a(535),S=a(531),j=a(478),A=a(536);var T=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e,t){var a=t.value;n.setState({value:a})},n.handleTemplateChange=function(e,t){var a=t.value;n.setState({template:a})},n.handleTopicChange=function(e,t){var a=t.value;n.setState({topic:a})},n.handleModelNameChange=function(e,t){var a=t.value;n.setState({modelname:a})},n.handleTimeoutChange=function(e,t){var a=t.value;n.setState({timeout:a})},n.handleEventModelChange=function(e,t){var a=t.value;n.setState({viewmodelname:a}),n.loadDetectorInstances(a)},n.handleEventModelIdChange=function(e,t){var a=t.value;n.setState({modelUniqueId:a})},n.handleClickRefresh=function(e,t){t.value;n.loadDetectorInstances(n.state.viewmodelname)},n.handleEventModelRemoveChange=function(e,t){var a=t.value;n.setState({deletemodelname:a})},n.handleClickRemove=function(e,t){t.value;n.removeEventModel(n.state.deletemodelname)},n.handleClickAdd=Object(c.a)(i.a.mark((function e(){var t,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Adding now..."),"/iotevents/add",console.log(n.state.topic),t={template:n.state.template,topic:n.state.topic,timeout:n.state.timeout,modelname:n.state.modelname},console.log(t),a={body:t},e.next=9,v.a.put("api75996003","/iotevents/add",a);case 9:s=e.sent,console.log(s.result),1==s.result?n.showAddMessage(s.result,"The Event Detector Model was created successfully"):n.showAddMessage(s.result,s.errormessage),console.log("response:"+s),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),n.showAddMessage(!1,e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[0,15]])}))),n.state={isFetching:!0,isFetchingDetectors:!1,value:[],options:[],template:[],modelname:"",topic:"",timeout:0,viewmodelname:[],modelUniqueId:[],detectorinstances:[],deletemodelname:[],addmessagevisible:!1,addmessagestring:"",addmessageresult:!0,removemessageresult:!0,removemessagestring:"",removemessagevisible:!1},n}return Object(m.a)(a,[{key:"loadEvents",value:function(){var e=Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/iotevents/list",e.prev=1,e.next=4,v.a.get("api75996003","/iotevents/list");case 4:t=e.sent,this.setState({options:t.options}),this.setState({isFetching:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("error calling api: "+e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadDetectorInstances",value:function(){var e=Object(c.a)(i.a.mark((function e(t){var a,n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({isFetchingDetectors:!0}),"/iotevents/detectors",a={viewmodelname:t},console.log(a),n={body:a},e.next=8,v.a.put("api75996003","/iotevents/detectors",n);case 8:s=e.sent,this.setState({detectorinstances:s.options}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("error calling loaddetectorinstances: "+e.t0);case 15:this.setState({isFetchingDetectors:!1});case 16:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"showAddMessage",value:function(){var e=Object(c.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({addmessageresult:t}),this.setState({addmessagestring:a}),this.setState({addmessagevisible:!0}),e.next=5,g()(5e3);case 5:this.setState({addmessagevisible:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"showRemoveMessage",value:function(){var e=Object(c.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({removemessageresult:t}),this.setState({removemessagestring:a}),this.setState({removemessagevisible:!0}),e.next=5,g()(5e3);case 5:this.setState({removemessagevisible:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"removeEventModel",value:function(){var e=Object(c.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"/iotevents/delete",t={modelname:this.state.deletemodelname},console.log(t),a={body:t},e.next=7,v.a.put("api75996003","/iotevents/delete",a);case 7:1==(n=e.sent).result?this.showRemoveMessage(n.result,"The Event Detector Model was deleted successfully"):this.showRemoveMessage(n.result,n.errormessage),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),this.showRemoveMessage(!1,e.t0.message);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"Items",value:function(){return this.state.detectorinstances.sort(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";return function(a,n){if(!a.hasOwnProperty(e)||!n.hasOwnProperty(e))return 0;var s="string"===typeof a[e]?a[e].toUpperCase():a[e],o="string"===typeof n[e]?n[e].toUpperCase():n[e],r=0;return s>o&&(r=1),s<o&&(r=-1),"desc"===t?-1*r:r}}("key")).map((function(e){return s.a.createElement(y.a.Item,{key:e.key},s.a.createElement("div",null,s.a.createElement(w.a,null,s.a.createElement(b.a,{as:"a",color:"green",image:!0},s.a.createElement(k.a,{name:"eye"}),e.key,s.a.createElement(b.a.Detail,null,e.text)))))}))}},{key:"componentDidMount",value:function(){this.loadEvents()}},{key:"render",value:function(){var e=this.state,t=e.isFetching,a=(e.isFetchingDetectors,e.removemessageresult),n=e.removemessagestring,o=e.removemessagevisible,r=e.addmessageresult,l=e.addmessagestring,i=e.addmessagevisible,c=e.options,u=e.deletemodelname,m=(e.value,e.viewmodelname);e.modelUniqueId,e.template,e.topic,e.modelname,e.timeout,e.detectorinstances;return s.a.createElement(E.a,null,s.a.createElement("div",{className:"App"},s.a.createElement(C.a,{padded:!0,centered:!0},s.a.createElement(C.a.Column,{width:"10"},s.a.createElement(_.a,{as:"h1",icon:!0,textAlign:"center"},s.a.createElement(x.a,{src:"./iotevents.png"}),s.a.createElement(_.a.Content,null,"IoT Events - Demo")),s.a.createElement(w.a,null,s.a.createElement(_.a,{as:"h3",textAlign:"left"},s.a.createElement(k.a,{name:"plus circle"}),s.a.createElement(_.a.Content,null,"Create Event Model",s.a.createElement(_.a.Subheader,null,"Create a new IoT Event model"))),s.a.createElement(w.a,{basic:!0},s.a.createElement(w.a.Group,null,s.a.createElement(w.a.Group,null,s.a.createElement(M.a,{placeholder:"Select Event Model template",fluid:!0,options:[{key:"Simple Alarm",text:"Simple Alarm",value:"Simple Alarm"},{key:"HVAC Temperature Control",text:"HVAC Temperature Control",value:"HVAC Temperature Control"}],onChange:this.handleTemplateChange})),s.a.createElement(w.a,null,s.a.createElement(S.a,{fluid:!0,onChange:this.handleModelNameChange,placeholder:"Event Model Name..."})),s.a.createElement(w.a,null,s.a.createElement(S.a,{fluid:!0,onChange:this.handleTimeoutChange,placeholder:"Alarm Timeout(s)..."})),s.a.createElement(w.a,null,s.a.createElement(S.a,{fluid:!0,onChange:this.handleTopicChange,placeholder:"Input Topic..."})),s.a.createElement(w.a,null,s.a.createElement(j.a,{primary:!0,onClick:this.handleClickAdd},"Add Model")))),s.a.createElement(A.a,{success:r,header:l,hidden:!i,negative:!r})),s.a.createElement(w.a,null,s.a.createElement(_.a,{as:"h3",textAlign:"left"},s.a.createElement(k.a,{name:"dashboard"}),s.a.createElement(_.a.Content,null,"Monitor Event Model",s.a.createElement(_.a.Subheader,null,"Select an IoT Event to monitor it's state"))),s.a.createElement(w.a,{basic:!0},s.a.createElement(w.a.Group,null,s.a.createElement(w.a.Group,{horizontal:!0},s.a.createElement(M.a,{fluid:!0,placeholder:"Select an Event Model",disabled:t,loading:t,options:c,defaultValue:m,onChange:this.handleEventModelChange}),s.a.createElement(j.a,{circular:!0,icon:"refresh",onClick:this.handleClickRefresh,color:"black"})),this.Items()))),s.a.createElement(w.a,null,s.a.createElement(_.a,{as:"h3",textAlign:"left"},s.a.createElement(k.a,{name:"remove circle"}),s.a.createElement(_.a.Content,null,"Remove Event Models",s.a.createElement(_.a.Subheader,null,"Remove existing IoT Event models"))),s.a.createElement(w.a,{basic:!0},s.a.createElement(w.a.Group,{horizontal:!0},s.a.createElement(M.a,{fluid:!0,placeholder:"Existing Event Models",disabled:t,loading:t,options:c,defaultValue:u,onChange:this.handleEventModelRemoveChange}),s.a.createElement(j.a,{secondary:!0,onClick:this.handleClickRemove},"Remove")),s.a.createElement(A.a,{success:a,header:n,hidden:!o,negative:!a}))),s.a.createElement(E.b,null)))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(137).default.configure(p),r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[276,2,3]]]);
//# sourceMappingURL=main.a223506a.chunk.js.map
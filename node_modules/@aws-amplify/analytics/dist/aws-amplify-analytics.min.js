!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@aws-amplify/core"),require("@aws-amplify/cache")):"function"==typeof define&&define.amd?define("aws_amplify_analytics",["@aws-amplify/core","@aws-amplify/cache"],t):"object"==typeof exports?exports.aws_amplify_analytics=t(require("@aws-amplify/core"),require("@aws-amplify/cache")):e.aws_amplify_analytics=t(e["@aws-amplify/core"],e["@aws-amplify/cache"])}(this,(function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=104)}([function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return u})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return f})),n.d(t,"__generator",(function(){return l})),n.d(t,"__exportStar",(function(){return d})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return h})),n.d(t,"__spread",(function(){return v})),n.d(t,"__spreadArrays",(function(){return g})),n.d(t,"__await",(function(){return _})),n.d(t,"__asyncGenerator",(function(){return y})),n.d(t,"__asyncDelegator",(function(){return m})),n.d(t,"__asyncValues",(function(){return b})),n.d(t,"__makeTemplateObject",(function(){return w})),n.d(t,"__importStar",(function(){return E})),n.d(t,"__importDefault",(function(){return O})),n.d(t,"__classPrivateFieldGet",(function(){return S})),n.d(t,"__classPrivateFieldSet",(function(){return A}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function _(e){return this instanceof _?(this.v=e,this):new _(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof _?Promise.resolve(n.value.v).then(u,c):f(o[0][2],n)}catch(e){f(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function f(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function m(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:_(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function O(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function A(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);r.__exportStar(n(60),t),r.__exportStar(n(62),t),r.__exportStar(n(63),t),r.__exportStar(n(64),t),r.__exportStar(n(65),t),r.__exportStar(n(66),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);r.__exportStar(n(67),t),r.__exportStar(n(68),t),r.__exportStar(n(69),t)},function(t,n){t.exports=e},function(e,t,n){(function(e,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o="Expected a function",a="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],u="[object Arguments]",c="[object Array]",f="[object Boolean]",l="[object Date]",d="[object Error]",p="[object Function]",h="[object GeneratorFunction]",v="[object Map]",g="[object Number]",_="[object Object]",y="[object RegExp]",m="[object Set]",b="[object String]",w="[object Symbol]",E="[object WeakMap]",O="[object ArrayBuffer]",S="[object DataView]",A="[object Float32Array]",j="[object Float64Array]",I="[object Int8Array]",P="[object Int16Array]",x="[object Int32Array]",R="[object Uint8Array]",C="[object Uint16Array]",k="[object Uint32Array]",M=/\b__p \+= '';/g,T=/\b(__p \+=) '' \+/g,U=/(__e\(.*?\)|\b__t\)) \+\n'';/g,D=/&(?:amp|lt|gt|quot|#39);/g,L=/[&<>"']/g,z=RegExp(D.source),B=RegExp(L.source),N=/<%-([\s\S]+?)%>/g,q=/<%([\s\S]+?)%>/g,H=/<%=([\s\S]+?)%>/g,F=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$=/^\w*$/,V=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,K=/[\\^$.*+?()[\]{}|]/g,W=RegExp(K.source),Y=/^\s+|\s+$/g,G=/^\s+/,J=/\s+$/,Z=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,X=/\{\n\/\* \[wrapped with (.+)\] \*/,Q=/,? & /,ee=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,te=/\\(\\)?/g,ne=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,re=/\w*$/,ie=/^[-+]0x[0-9a-f]+$/i,oe=/^0b[01]+$/i,ae=/^\[object .+?Constructor\]$/,se=/^0o[0-7]+$/i,ue=/^(?:0|[1-9]\d*)$/,ce=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,fe=/($^)/,le=/['\n\r\u2028\u2029\\]/g,de="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",pe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",he="[\\ud800-\\udfff]",ve="["+pe+"]",ge="["+de+"]",_e="\\d+",ye="[\\u2700-\\u27bf]",me="[a-z\\xdf-\\xf6\\xf8-\\xff]",be="[^\\ud800-\\udfff"+pe+_e+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",we="\\ud83c[\\udffb-\\udfff]",Ee="[^\\ud800-\\udfff]",Oe="(?:\\ud83c[\\udde6-\\uddff]){2}",Se="[\\ud800-\\udbff][\\udc00-\\udfff]",Ae="[A-Z\\xc0-\\xd6\\xd8-\\xde]",je="(?:"+me+"|"+be+")",Ie="(?:"+Ae+"|"+be+")",Pe="(?:"+ge+"|"+we+")"+"?",xe="[\\ufe0e\\ufe0f]?"+Pe+("(?:\\u200d(?:"+[Ee,Oe,Se].join("|")+")[\\ufe0e\\ufe0f]?"+Pe+")*"),Re="(?:"+[ye,Oe,Se].join("|")+")"+xe,Ce="(?:"+[Ee+ge+"?",ge,Oe,Se,he].join("|")+")",ke=RegExp("['’]","g"),Me=RegExp(ge,"g"),Te=RegExp(we+"(?="+we+")|"+Ce+xe,"g"),Ue=RegExp([Ae+"?"+me+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[ve,Ae,"$"].join("|")+")",Ie+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[ve,Ae+je,"$"].join("|")+")",Ae+"?"+je+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Ae+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",_e,Re].join("|"),"g"),De=RegExp("[\\u200d\\ud800-\\udfff"+de+"\\ufe0e\\ufe0f]"),Le=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ze=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Be=-1,Ne={};Ne[A]=Ne[j]=Ne[I]=Ne[P]=Ne[x]=Ne[R]=Ne["[object Uint8ClampedArray]"]=Ne[C]=Ne[k]=!0,Ne[u]=Ne[c]=Ne[O]=Ne[f]=Ne[S]=Ne[l]=Ne[d]=Ne[p]=Ne[v]=Ne[g]=Ne[_]=Ne[y]=Ne[m]=Ne[b]=Ne[E]=!1;var qe={};qe[u]=qe[c]=qe[O]=qe[S]=qe[f]=qe[l]=qe[A]=qe[j]=qe[I]=qe[P]=qe[x]=qe[v]=qe[g]=qe[_]=qe[y]=qe[m]=qe[b]=qe[w]=qe[R]=qe["[object Uint8ClampedArray]"]=qe[C]=qe[k]=!0,qe[d]=qe[p]=qe[E]=!1;var He={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Fe=parseFloat,$e=parseInt,Ve="object"==typeof e&&e&&e.Object===Object&&e,Ke="object"==typeof self&&self&&self.Object===Object&&self,We=Ve||Ke||Function("return this")(),Ye=t&&!t.nodeType&&t,Ge=Ye&&"object"==typeof r&&r&&!r.nodeType&&r,Je=Ge&&Ge.exports===Ye,Ze=Je&&Ve.process,Xe=function(){try{var e=Ge&&Ge.require&&Ge.require("util").types;return e||Ze&&Ze.binding&&Ze.binding("util")}catch(e){}}(),Qe=Xe&&Xe.isArrayBuffer,et=Xe&&Xe.isDate,tt=Xe&&Xe.isMap,nt=Xe&&Xe.isRegExp,rt=Xe&&Xe.isSet,it=Xe&&Xe.isTypedArray;function ot(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function at(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function st(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function ut(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function ft(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function lt(e,t){return!!(null==e?0:e.length)&&wt(e,t,0)>-1}function dt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function pt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function ht(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function vt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function gt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function _t(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var yt=At("length");function mt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function bt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function wt(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):bt(e,Ot,n)}function Et(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Ot(e){return e!=e}function St(e,t){var n=null==e?0:e.length;return n?Pt(e,t)/n:NaN}function At(e){return function(t){return null==t?void 0:t[e]}}function jt(e){return function(t){return null==e?void 0:e[t]}}function It(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Pt(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function xt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Rt(e){return function(t){return e(t)}}function Ct(e,t){return pt(t,(function(t){return e[t]}))}function kt(e,t){return e.has(t)}function Mt(e,t){for(var n=-1,r=e.length;++n<r&&wt(t,e[n],0)>-1;);return n}function Tt(e,t){for(var n=e.length;n--&&wt(t,e[n],0)>-1;);return n}function Ut(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Dt=jt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Lt=jt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function zt(e){return"\\"+He[e]}function Bt(e){return De.test(e)}function Nt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function qt(e,t){return function(n){return e(t(n))}}function Ht(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[i++]=n)}return o}function Ft(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function $t(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function Vt(e){return Bt(e)?function(e){var t=Te.lastIndex=0;for(;Te.test(e);)++t;return t}(e):yt(e)}function Kt(e){return Bt(e)?function(e){return e.match(Te)||[]}(e):function(e){return e.split("")}(e)}var Wt=jt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Yt=function e(t){var n,r=(t=null==t?We:Yt.defaults(We.Object(),t,Yt.pick(We,ze))).Array,i=t.Date,de=t.Error,pe=t.Function,he=t.Math,ve=t.Object,ge=t.RegExp,_e=t.String,ye=t.TypeError,me=r.prototype,be=pe.prototype,we=ve.prototype,Ee=t["__core-js_shared__"],Oe=be.toString,Se=we.hasOwnProperty,Ae=0,je=(n=/[^.]+$/.exec(Ee&&Ee.keys&&Ee.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ie=we.toString,Pe=Oe.call(ve),xe=We._,Re=ge("^"+Oe.call(Se).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ce=Je?t.Buffer:void 0,Te=t.Symbol,De=t.Uint8Array,He=Ce?Ce.allocUnsafe:void 0,Ve=qt(ve.getPrototypeOf,ve),Ke=ve.create,Ye=we.propertyIsEnumerable,Ge=me.splice,Ze=Te?Te.isConcatSpreadable:void 0,Xe=Te?Te.iterator:void 0,yt=Te?Te.toStringTag:void 0,jt=function(){try{var e=Qi(ve,"defineProperty");return e({},"",{}),e}catch(e){}}(),Gt=t.clearTimeout!==We.clearTimeout&&t.clearTimeout,Jt=i&&i.now!==We.Date.now&&i.now,Zt=t.setTimeout!==We.setTimeout&&t.setTimeout,Xt=he.ceil,Qt=he.floor,en=ve.getOwnPropertySymbols,tn=Ce?Ce.isBuffer:void 0,nn=t.isFinite,rn=me.join,on=qt(ve.keys,ve),an=he.max,sn=he.min,un=i.now,cn=t.parseInt,fn=he.random,ln=me.reverse,dn=Qi(t,"DataView"),pn=Qi(t,"Map"),hn=Qi(t,"Promise"),vn=Qi(t,"Set"),gn=Qi(t,"WeakMap"),_n=Qi(ve,"create"),yn=gn&&new gn,mn={},bn=Io(dn),wn=Io(pn),En=Io(hn),On=Io(vn),Sn=Io(gn),An=Te?Te.prototype:void 0,jn=An?An.valueOf:void 0,In=An?An.toString:void 0;function Pn(e){if($a(e)&&!Ma(e)&&!(e instanceof kn)){if(e instanceof Cn)return e;if(Se.call(e,"__wrapped__"))return Po(e)}return new Cn(e)}var xn=function(){function e(){}return function(t){if(!Fa(t))return{};if(Ke)return Ke(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Rn(){}function Cn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function kn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Mn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Tn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Un(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Dn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Un;++t<n;)this.add(e[t])}function Ln(e){var t=this.__data__=new Tn(e);this.size=t.size}function zn(e,t){var n=Ma(e),r=!n&&ka(e),i=!n&&!r&&La(e),o=!n&&!r&&!i&&Xa(e),a=n||r||i||o,s=a?xt(e.length,_e):[],u=s.length;for(var c in e)!t&&!Se.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ao(c,u))||s.push(c);return s}function Bn(e){var t=e.length;return t?e[Dr(0,t-1)]:void 0}function Nn(e,t){return So(_i(e),Gn(t,0,e.length))}function qn(e){return So(_i(e))}function Hn(e,t,n){(void 0!==n&&!xa(e[t],n)||void 0===n&&!(t in e))&&Wn(e,t,n)}function Fn(e,t,n){var r=e[t];Se.call(e,t)&&xa(r,n)&&(void 0!==n||t in e)||Wn(e,t,n)}function $n(e,t){for(var n=e.length;n--;)if(xa(e[n][0],t))return n;return-1}function Vn(e,t,n,r){return er(e,(function(e,i,o){t(r,e,n(e),o)})),r}function Kn(e,t){return e&&yi(t,bs(t),e)}function Wn(e,t,n){"__proto__"==t&&jt?jt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Yn(e,t){for(var n=-1,i=t.length,o=r(i),a=null==e;++n<i;)o[n]=a?void 0:vs(e,t[n]);return o}function Gn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Jn(e,t,n,r,i,o){var a,s=1&t,c=2&t,d=4&t;if(n&&(a=i?n(e,r,i,o):n(e)),void 0!==a)return a;if(!Fa(e))return e;var E=Ma(e);if(E){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Se.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return _i(e,a)}else{var M=no(e),T=M==p||M==h;if(La(e))return li(e,s);if(M==_||M==u||T&&!i){if(a=c||T?{}:io(e),!s)return c?function(e,t){return yi(e,to(e),t)}(e,function(e,t){return e&&yi(t,ws(t),e)}(a,e)):function(e,t){return yi(e,eo(e),t)}(e,Kn(a,e))}else{if(!qe[M])return i?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case O:return di(e);case f:case l:return new r(+e);case S:return function(e,t){var n=t?di(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case A:case j:case I:case P:case x:case R:case"[object Uint8ClampedArray]":case C:case k:return pi(e,n);case v:return new r;case g:case b:return new r(e);case y:return function(e){var t=new e.constructor(e.source,re.exec(e));return t.lastIndex=e.lastIndex,t}(e);case m:return new r;case w:return i=e,jn?ve(jn.call(i)):{}}var i}(e,M,s)}}o||(o=new Ln);var U=o.get(e);if(U)return U;o.set(e,a),Ga(e)?e.forEach((function(r){a.add(Jn(r,t,n,r,e,o))})):Va(e)&&e.forEach((function(r,i){a.set(i,Jn(r,t,n,i,e,o))}));var D=E?void 0:(d?c?Ki:Vi:c?ws:bs)(e);return st(D||e,(function(r,i){D&&(r=e[i=r]),Fn(a,i,Jn(r,t,n,i,e,o))})),a}function Zn(e,t,n){var r=n.length;if(null==e)return!r;for(e=ve(e);r--;){var i=n[r],o=t[i],a=e[i];if(void 0===a&&!(i in e)||!o(a))return!1}return!0}function Xn(e,t,n){if("function"!=typeof e)throw new ye(o);return bo((function(){e.apply(void 0,n)}),t)}function Qn(e,t,n,r){var i=-1,o=lt,a=!0,s=e.length,u=[],c=t.length;if(!s)return u;n&&(t=pt(t,Rt(n))),r?(o=dt,a=!1):t.length>=200&&(o=kt,a=!1,t=new Dn(t));e:for(;++i<s;){var f=e[i],l=null==n?f:n(f);if(f=r||0!==f?f:0,a&&l==l){for(var d=c;d--;)if(t[d]===l)continue e;u.push(f)}else o(t,l,r)||u.push(f)}return u}Pn.templateSettings={escape:N,evaluate:q,interpolate:H,variable:"",imports:{_:Pn}},Pn.prototype=Rn.prototype,Pn.prototype.constructor=Pn,Cn.prototype=xn(Rn.prototype),Cn.prototype.constructor=Cn,kn.prototype=xn(Rn.prototype),kn.prototype.constructor=kn,Mn.prototype.clear=function(){this.__data__=_n?_n(null):{},this.size=0},Mn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Mn.prototype.get=function(e){var t=this.__data__;if(_n){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Se.call(t,e)?t[e]:void 0},Mn.prototype.has=function(e){var t=this.__data__;return _n?void 0!==t[e]:Se.call(t,e)},Mn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=_n&&void 0===t?"__lodash_hash_undefined__":t,this},Tn.prototype.clear=function(){this.__data__=[],this.size=0},Tn.prototype.delete=function(e){var t=this.__data__,n=$n(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ge.call(t,n,1),--this.size,!0)},Tn.prototype.get=function(e){var t=this.__data__,n=$n(t,e);return n<0?void 0:t[n][1]},Tn.prototype.has=function(e){return $n(this.__data__,e)>-1},Tn.prototype.set=function(e,t){var n=this.__data__,r=$n(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Un.prototype.clear=function(){this.size=0,this.__data__={hash:new Mn,map:new(pn||Tn),string:new Mn}},Un.prototype.delete=function(e){var t=Zi(this,e).delete(e);return this.size-=t?1:0,t},Un.prototype.get=function(e){return Zi(this,e).get(e)},Un.prototype.has=function(e){return Zi(this,e).has(e)},Un.prototype.set=function(e,t){var n=Zi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Dn.prototype.add=Dn.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Dn.prototype.has=function(e){return this.__data__.has(e)},Ln.prototype.clear=function(){this.__data__=new Tn,this.size=0},Ln.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ln.prototype.get=function(e){return this.__data__.get(e)},Ln.prototype.has=function(e){return this.__data__.has(e)},Ln.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Tn){var r=n.__data__;if(!pn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Un(r)}return n.set(e,t),this.size=n.size,this};var er=wi(ur),tr=wi(cr,!0);function nr(e,t){var n=!0;return er(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function rr(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(void 0===s?a==a&&!Za(a):n(a,s)))var s=a,u=o}return u}function ir(e,t){var n=[];return er(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function or(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=oo),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?or(s,t-1,n,r,i):ht(i,s):r||(i[i.length]=s)}return i}var ar=Ei(),sr=Ei(!0);function ur(e,t){return e&&ar(e,t,bs)}function cr(e,t){return e&&sr(e,t,bs)}function fr(e,t){return ft(t,(function(t){return Na(e[t])}))}function lr(e,t){for(var n=0,r=(t=si(t,e)).length;null!=e&&n<r;)e=e[jo(t[n++])];return n&&n==r?e:void 0}function dr(e,t,n){var r=t(e);return Ma(e)?r:ht(r,n(e))}function pr(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":yt&&yt in ve(e)?function(e){var t=Se.call(e,yt),n=e[yt];try{e[yt]=void 0;var r=!0}catch(e){}var i=Ie.call(e);r&&(t?e[yt]=n:delete e[yt]);return i}(e):function(e){return Ie.call(e)}(e)}function hr(e,t){return e>t}function vr(e,t){return null!=e&&Se.call(e,t)}function gr(e,t){return null!=e&&t in ve(e)}function _r(e,t,n){for(var i=n?dt:lt,o=e[0].length,a=e.length,s=a,u=r(a),c=1/0,f=[];s--;){var l=e[s];s&&t&&(l=pt(l,Rt(t))),c=sn(l.length,c),u[s]=!n&&(t||o>=120&&l.length>=120)?new Dn(s&&l):void 0}l=e[0];var d=-1,p=u[0];e:for(;++d<o&&f.length<c;){var h=l[d],v=t?t(h):h;if(h=n||0!==h?h:0,!(p?kt(p,v):i(f,v,n))){for(s=a;--s;){var g=u[s];if(!(g?kt(g,v):i(e[s],v,n)))continue e}p&&p.push(v),f.push(h)}}return f}function yr(e,t,n){var r=null==(e=go(e,t=si(t,e)))?e:e[jo(Bo(t))];return null==r?void 0:ot(r,e,n)}function mr(e){return $a(e)&&pr(e)==u}function br(e,t,n,r,i){return e===t||(null==e||null==t||!$a(e)&&!$a(t)?e!=e&&t!=t:function(e,t,n,r,i,o){var a=Ma(e),s=Ma(t),p=a?c:no(e),h=s?c:no(t),E=(p=p==u?_:p)==_,A=(h=h==u?_:h)==_,j=p==h;if(j&&La(e)){if(!La(t))return!1;a=!0,E=!1}if(j&&!E)return o||(o=new Ln),a||Xa(e)?Fi(e,t,n,r,i,o):function(e,t,n,r,i,o,a){switch(n){case S:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case O:return!(e.byteLength!=t.byteLength||!o(new De(e),new De(t)));case f:case l:case g:return xa(+e,+t);case d:return e.name==t.name&&e.message==t.message;case y:case b:return e==t+"";case v:var s=Nt;case m:var u=1&r;if(s||(s=Ft),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var p=Fi(s(e),s(t),r,i,o,a);return a.delete(e),p;case w:if(jn)return jn.call(e)==jn.call(t)}return!1}(e,t,p,n,r,i,o);if(!(1&n)){var I=E&&Se.call(e,"__wrapped__"),P=A&&Se.call(t,"__wrapped__");if(I||P){var x=I?e.value():e,R=P?t.value():t;return o||(o=new Ln),i(x,R,n,r,o)}}if(!j)return!1;return o||(o=new Ln),function(e,t,n,r,i,o){var a=1&n,s=Vi(e),u=s.length,c=Vi(t).length;if(u!=c&&!a)return!1;var f=u;for(;f--;){var l=s[f];if(!(a?l in t:Se.call(t,l)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var p=!0;o.set(e,t),o.set(t,e);var h=a;for(;++f<u;){l=s[f];var v=e[l],g=t[l];if(r)var _=a?r(g,v,l,t,e,o):r(v,g,l,e,t,o);if(!(void 0===_?v===g||i(v,g,n,r,o):_)){p=!1;break}h||(h="constructor"==l)}if(p&&!h){var y=e.constructor,m=t.constructor;y==m||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof m&&m instanceof m||(p=!1)}return o.delete(e),o.delete(t),p}(e,t,n,r,i,o)}(e,t,n,r,br,i))}function wr(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=ve(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var u=(s=n[i])[0],c=e[u],f=s[1];if(a&&s[2]){if(void 0===c&&!(u in e))return!1}else{var l=new Ln;if(r)var d=r(c,f,u,e,t,l);if(!(void 0===d?br(f,c,3,r,l):d))return!1}}return!0}function Er(e){return!(!Fa(e)||(t=e,je&&je in t))&&(Na(e)?Re:ae).test(Io(e));var t}function Or(e){return"function"==typeof e?e:null==e?Ks:"object"==typeof e?Ma(e)?xr(e[0],e[1]):Pr(e):tu(e)}function Sr(e){if(!lo(e))return on(e);var t=[];for(var n in ve(e))Se.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ar(e){if(!Fa(e))return function(e){var t=[];if(null!=e)for(var n in ve(e))t.push(n);return t}(e);var t=lo(e),n=[];for(var r in e)("constructor"!=r||!t&&Se.call(e,r))&&n.push(r);return n}function jr(e,t){return e<t}function Ir(e,t){var n=-1,i=Ua(e)?r(e.length):[];return er(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Pr(e){var t=Xi(e);return 1==t.length&&t[0][2]?ho(t[0][0],t[0][1]):function(n){return n===e||wr(n,e,t)}}function xr(e,t){return uo(e)&&po(t)?ho(jo(e),t):function(n){var r=vs(n,e);return void 0===r&&r===t?gs(n,e):br(t,r,3)}}function Rr(e,t,n,r,i){e!==t&&ar(t,(function(o,a){if(i||(i=new Ln),Fa(o))!function(e,t,n,r,i,o,a){var s=yo(e,n),u=yo(t,n),c=a.get(u);if(c)return void Hn(e,n,c);var f=o?o(s,u,n+"",e,t,a):void 0,l=void 0===f;if(l){var d=Ma(u),p=!d&&La(u),h=!d&&!p&&Xa(u);f=u,d||p||h?Ma(s)?f=s:Da(s)?f=_i(s):p?(l=!1,f=li(u,!0)):h?(l=!1,f=pi(u,!0)):f=[]:Wa(u)||ka(u)?(f=s,ka(s)?f=as(s):Fa(s)&&!Na(s)||(f=io(u))):l=!1}l&&(a.set(u,f),i(f,u,r,o,a),a.delete(u));Hn(e,n,f)}(e,t,a,n,Rr,r,i);else{var s=r?r(yo(e,a),o,a+"",e,t,i):void 0;void 0===s&&(s=o),Hn(e,a,s)}}),ws)}function Cr(e,t){var n=e.length;if(n)return ao(t+=t<0?n:0,n)?e[t]:void 0}function kr(e,t,n){var r=-1;return t=pt(t.length?t:[Ks],Rt(Ji())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Ir(e,(function(e,n,i){return{criteria:pt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;for(;++r<a;){var u=hi(i[r],o[r]);if(u){if(r>=s)return u;var c=n[r];return u*("desc"==c?-1:1)}}return e.index-t.index}(e,t,n)}))}function Mr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=lr(e,a);n(s,a)&&qr(o,si(a,e),s)}return o}function Tr(e,t,n,r){var i=r?Et:wt,o=-1,a=t.length,s=e;for(e===t&&(t=_i(t)),n&&(s=pt(e,Rt(n)));++o<a;)for(var u=0,c=t[o],f=n?n(c):c;(u=i(s,f,u,r))>-1;)s!==e&&Ge.call(s,u,1),Ge.call(e,u,1);return e}function Ur(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;ao(i)?Ge.call(e,i,1):Qr(e,i)}}return e}function Dr(e,t){return e+Qt(fn()*(t-e+1))}function Lr(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=Qt(t/2))&&(e+=e)}while(t);return n}function zr(e,t){return wo(vo(e,t,Ks),e+"")}function Br(e){return Bn(xs(e))}function Nr(e,t){var n=xs(e);return So(n,Gn(t,0,n.length))}function qr(e,t,n,r){if(!Fa(e))return e;for(var i=-1,o=(t=si(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var u=jo(t[i]),c=n;if(i!=a){var f=s[u];void 0===(c=r?r(f,u,s):void 0)&&(c=Fa(f)?f:ao(t[i+1])?[]:{})}Fn(s,u,c),s=s[u]}return e}var Hr=yn?function(e,t){return yn.set(e,t),e}:Ks,Fr=jt?function(e,t){return jt(e,"toString",{configurable:!0,enumerable:!1,value:Fs(t),writable:!0})}:Ks;function $r(e){return So(xs(e))}function Vr(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=r(o);++i<o;)a[i]=e[i+t];return a}function Kr(e,t){var n;return er(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function Wr(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!Za(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return Yr(e,t,Ks,n)}function Yr(e,t,n,r){t=n(t);for(var i=0,o=null==e?0:e.length,a=t!=t,s=null===t,u=Za(t),c=void 0===t;i<o;){var f=Qt((i+o)/2),l=n(e[f]),d=void 0!==l,p=null===l,h=l==l,v=Za(l);if(a)var g=r||h;else g=c?h&&(r||d):s?h&&d&&(r||!p):u?h&&d&&!p&&(r||!v):!p&&!v&&(r?l<=t:l<t);g?i=f+1:o=f}return sn(o,4294967294)}function Gr(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!xa(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function Jr(e){return"number"==typeof e?e:Za(e)?NaN:+e}function Zr(e){if("string"==typeof e)return e;if(Ma(e))return pt(e,Zr)+"";if(Za(e))return In?In.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Xr(e,t,n){var r=-1,i=lt,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=dt;else if(o>=200){var c=t?null:Li(e);if(c)return Ft(c);a=!1,i=kt,u=new Dn}else u=t?[]:s;e:for(;++r<o;){var f=e[r],l=t?t(f):f;if(f=n||0!==f?f:0,a&&l==l){for(var d=u.length;d--;)if(u[d]===l)continue e;t&&u.push(l),s.push(f)}else i(u,l,n)||(u!==s&&u.push(l),s.push(f))}return s}function Qr(e,t){return null==(e=go(e,t=si(t,e)))||delete e[jo(Bo(t))]}function ei(e,t,n,r){return qr(e,t,n(lr(e,t)),r)}function ti(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Vr(e,r?0:o,r?o+1:i):Vr(e,r?o+1:0,r?i:o)}function ni(e,t){var n=e;return n instanceof kn&&(n=n.value()),vt(t,(function(e,t){return t.func.apply(t.thisArg,ht([e],t.args))}),n)}function ri(e,t,n){var i=e.length;if(i<2)return i?Xr(e[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=e[o],u=-1;++u<i;)u!=o&&(a[o]=Qn(a[o]||s,e[u],t,n));return Xr(or(a,1),t,n)}function ii(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:void 0;n(a,e[r],s)}return a}function oi(e){return Da(e)?e:[]}function ai(e){return"function"==typeof e?e:Ks}function si(e,t){return Ma(e)?e:uo(e,t)?[e]:Ao(ss(e))}var ui=zr;function ci(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Vr(e,t,n)}var fi=Gt||function(e){return We.clearTimeout(e)};function li(e,t){if(t)return e.slice();var n=e.length,r=He?He(n):new e.constructor(n);return e.copy(r),r}function di(e){var t=new e.constructor(e.byteLength);return new De(t).set(new De(e)),t}function pi(e,t){var n=t?di(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function hi(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=Za(e),a=void 0!==t,s=null===t,u=t==t,c=Za(t);if(!s&&!c&&!o&&e>t||o&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function vi(e,t,n,i){for(var o=-1,a=e.length,s=n.length,u=-1,c=t.length,f=an(a-s,0),l=r(c+f),d=!i;++u<c;)l[u]=t[u];for(;++o<s;)(d||o<a)&&(l[n[o]]=e[o]);for(;f--;)l[u++]=e[o++];return l}function gi(e,t,n,i){for(var o=-1,a=e.length,s=-1,u=n.length,c=-1,f=t.length,l=an(a-u,0),d=r(l+f),p=!i;++o<l;)d[o]=e[o];for(var h=o;++c<f;)d[h+c]=t[c];for(;++s<u;)(p||o<a)&&(d[h+n[s]]=e[o++]);return d}function _i(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function yi(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?Wn(n,s,u):Fn(n,s,u)}return n}function mi(e,t){return function(n,r){var i=Ma(n)?at:Vn,o=t?t():{};return i(n,e,Ji(r,2),o)}}function bi(e){return zr((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&so(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=ve(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t}))}function wi(e,t){return function(n,r){if(null==n)return n;if(!Ua(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=ve(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Ei(e){return function(t,n,r){for(var i=-1,o=ve(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}function Oi(e){return function(t){var n=Bt(t=ss(t))?Kt(t):void 0,r=n?n[0]:t.charAt(0),i=n?ci(n,1).join(""):t.slice(1);return r[e]()+i}}function Si(e){return function(t){return vt(Ns(ks(t).replace(ke,"")),e,"")}}function Ai(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=xn(e.prototype),r=e.apply(n,t);return Fa(r)?r:n}}function ji(e){return function(t,n,r){var i=ve(t);if(!Ua(t)){var o=Ji(n,3);t=bs(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}}function Ii(e){return $i((function(t){var n=t.length,r=n,i=Cn.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new ye(o);if(i&&!s&&"wrapper"==Yi(a))var s=new Cn([],!0)}for(r=s?r:n;++r<n;){var u=Yi(a=t[r]),c="wrapper"==u?Wi(a):void 0;s=c&&co(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[Yi(c[0])].apply(s,c[3]):1==a.length&&co(a)?s[u]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&Ma(r))return s.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Pi(e,t,n,i,o,a,s,u,c,f){var l=128&t,d=1&t,p=2&t,h=24&t,v=512&t,g=p?void 0:Ai(e);return function _(){for(var y=arguments.length,m=r(y),b=y;b--;)m[b]=arguments[b];if(h)var w=Gi(_),E=Ut(m,w);if(i&&(m=vi(m,i,o,h)),a&&(m=gi(m,a,s,h)),y-=E,h&&y<f){var O=Ht(m,w);return Ui(e,t,Pi,_.placeholder,n,m,O,u,c,f-y)}var S=d?n:this,A=p?S[e]:e;return y=m.length,u?m=_o(m,u):v&&y>1&&m.reverse(),l&&c<y&&(m.length=c),this&&this!==We&&this instanceof _&&(A=g||Ai(A)),A.apply(S,m)}}function xi(e,t){return function(n,r){return function(e,t,n,r){return ur(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Ri(e,t){return function(n,r){var i;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Zr(n),r=Zr(r)):(n=Jr(n),r=Jr(r)),i=e(n,r)}return i}}function Ci(e){return $i((function(t){return t=pt(t,Rt(Ji())),zr((function(n){var r=this;return e(t,(function(e){return ot(e,r,n)}))}))}))}function ki(e,t){var n=(t=void 0===t?" ":Zr(t)).length;if(n<2)return n?Lr(t,e):t;var r=Lr(t,Xt(e/Vt(t)));return Bt(t)?ci(Kt(r),0,e).join(""):r.slice(0,e)}function Mi(e){return function(t,n,i){return i&&"number"!=typeof i&&so(t,n,i)&&(n=i=void 0),t=ns(t),void 0===n?(n=t,t=0):n=ns(n),function(e,t,n,i){for(var o=-1,a=an(Xt((t-e)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=e,e+=n;return s}(t,n,i=void 0===i?t<n?1:-1:ns(i),e)}}function Ti(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=os(t),n=os(n)),e(t,n)}}function Ui(e,t,n,r,i,o,a,s,u,c){var f=8&t;t|=f?32:64,4&(t&=~(f?64:32))||(t&=-4);var l=[e,t,i,f?o:void 0,f?a:void 0,f?void 0:o,f?void 0:a,s,u,c],d=n.apply(void 0,l);return co(e)&&mo(d,l),d.placeholder=r,Eo(d,e,t)}function Di(e){var t=he[e];return function(e,n){if(e=os(e),(n=null==n?0:sn(rs(n),292))&&nn(e)){var r=(ss(e)+"e").split("e");return+((r=(ss(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Li=vn&&1/Ft(new vn([,-0]))[1]==1/0?function(e){return new vn(e)}:Zs;function zi(e){return function(t){var n=no(t);return n==v?Nt(t):n==m?$t(t):function(e,t){return pt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Bi(e,t,n,i,s,u,c,f){var l=2&t;if(!l&&"function"!=typeof e)throw new ye(o);var d=i?i.length:0;if(d||(t&=-97,i=s=void 0),c=void 0===c?c:an(rs(c),0),f=void 0===f?f:rs(f),d-=s?s.length:0,64&t){var p=i,h=s;i=s=void 0}var v=l?void 0:Wi(e),g=[e,t,n,i,s,p,h,u,c,f];if(v&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,s=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var c=e[3];e[3]=c?vi(c,u,t[4]):u,e[4]=c?Ht(e[3],a):t[4]}(u=t[5])&&(c=e[5],e[5]=c?gi(c,u,t[6]):u,e[6]=c?Ht(e[5],a):t[6]);(u=t[7])&&(e[7]=u);128&r&&(e[8]=null==e[8]?t[8]:sn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(g,v),e=g[0],t=g[1],n=g[2],i=g[3],s=g[4],!(f=g[9]=void 0===g[9]?l?0:e.length:an(g[9]-d,0))&&24&t&&(t&=-25),t&&1!=t)_=8==t||16==t?function(e,t,n){var i=Ai(e);return function o(){for(var a=arguments.length,s=r(a),u=a,c=Gi(o);u--;)s[u]=arguments[u];var f=a<3&&s[0]!==c&&s[a-1]!==c?[]:Ht(s,c);if((a-=f.length)<n)return Ui(e,t,Pi,o.placeholder,void 0,s,f,void 0,void 0,n-a);var l=this&&this!==We&&this instanceof o?i:e;return ot(l,this,s)}}(e,t,f):32!=t&&33!=t||s.length?Pi.apply(void 0,g):function(e,t,n,i){var o=1&t,a=Ai(e);return function t(){for(var s=-1,u=arguments.length,c=-1,f=i.length,l=r(f+u),d=this&&this!==We&&this instanceof t?a:e;++c<f;)l[c]=i[c];for(;u--;)l[c++]=arguments[++s];return ot(d,o?n:this,l)}}(e,t,n,i);else var _=function(e,t,n){var r=1&t,i=Ai(e);return function t(){var o=this&&this!==We&&this instanceof t?i:e;return o.apply(r?n:this,arguments)}}(e,t,n);return Eo((v?Hr:mo)(_,g),e,t)}function Ni(e,t,n,r){return void 0===e||xa(e,we[n])&&!Se.call(r,n)?t:e}function qi(e,t,n,r,i,o){return Fa(e)&&Fa(t)&&(o.set(t,e),Rr(e,t,void 0,qi,o),o.delete(t)),e}function Hi(e){return Wa(e)?void 0:e}function Fi(e,t,n,r,i,o){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var f=-1,l=!0,d=2&n?new Dn:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var p=e[f],h=t[f];if(r)var v=a?r(h,p,f,t,e,o):r(p,h,f,e,t,o);if(void 0!==v){if(v)continue;l=!1;break}if(d){if(!_t(t,(function(e,t){if(!kt(d,t)&&(p===e||i(p,e,n,r,o)))return d.push(t)}))){l=!1;break}}else if(p!==h&&!i(p,h,n,r,o)){l=!1;break}}return o.delete(e),o.delete(t),l}function $i(e){return wo(vo(e,void 0,To),e+"")}function Vi(e){return dr(e,bs,eo)}function Ki(e){return dr(e,ws,to)}var Wi=yn?function(e){return yn.get(e)}:Zs;function Yi(e){for(var t=e.name+"",n=mn[t],r=Se.call(mn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Gi(e){return(Se.call(Pn,"placeholder")?Pn:e).placeholder}function Ji(){var e=Pn.iteratee||Ws;return e=e===Ws?Or:e,arguments.length?e(arguments[0],arguments[1]):e}function Zi(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Xi(e){for(var t=bs(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,po(i)]}return t}function Qi(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Er(n)?n:void 0}var eo=en?function(e){return null==e?[]:(e=ve(e),ft(en(e),(function(t){return Ye.call(e,t)})))}:iu,to=en?function(e){for(var t=[];e;)ht(t,eo(e)),e=Ve(e);return t}:iu,no=pr;function ro(e,t,n){for(var r=-1,i=(t=si(t,e)).length,o=!1;++r<i;){var a=jo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Ha(i)&&ao(a,i)&&(Ma(e)||ka(e))}function io(e){return"function"!=typeof e.constructor||lo(e)?{}:xn(Ve(e))}function oo(e){return Ma(e)||ka(e)||!!(Ze&&e&&e[Ze])}function ao(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ue.test(e))&&e>-1&&e%1==0&&e<t}function so(e,t,n){if(!Fa(n))return!1;var r=typeof t;return!!("number"==r?Ua(n)&&ao(t,n.length):"string"==r&&t in n)&&xa(n[t],e)}function uo(e,t){if(Ma(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Za(e))||($.test(e)||!F.test(e)||null!=t&&e in ve(t))}function co(e){var t=Yi(e),n=Pn[t];if("function"!=typeof n||!(t in kn.prototype))return!1;if(e===n)return!0;var r=Wi(n);return!!r&&e===r[0]}(dn&&no(new dn(new ArrayBuffer(1)))!=S||pn&&no(new pn)!=v||hn&&"[object Promise]"!=no(hn.resolve())||vn&&no(new vn)!=m||gn&&no(new gn)!=E)&&(no=function(e){var t=pr(e),n=t==_?e.constructor:void 0,r=n?Io(n):"";if(r)switch(r){case bn:return S;case wn:return v;case En:return"[object Promise]";case On:return m;case Sn:return E}return t});var fo=Ee?Na:ou;function lo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||we)}function po(e){return e==e&&!Fa(e)}function ho(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in ve(n)))}}function vo(e,t,n){return t=an(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=an(i.length-t,0),s=r(a);++o<a;)s[o]=i[t+o];o=-1;for(var u=r(t+1);++o<t;)u[o]=i[o];return u[t]=n(s),ot(e,this,u)}}function go(e,t){return t.length<2?e:lr(e,Vr(t,0,-1))}function _o(e,t){for(var n=e.length,r=sn(t.length,n),i=_i(e);r--;){var o=t[r];e[r]=ao(o,n)?i[o]:void 0}return e}function yo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var mo=Oo(Hr),bo=Zt||function(e,t){return We.setTimeout(e,t)},wo=Oo(Fr);function Eo(e,t,n){var r=t+"";return wo(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Z,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return st(s,(function(n){var r="_."+n[0];t&n[1]&&!lt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(X);return t?t[1].split(Q):[]}(r),n)))}function Oo(e){var t=0,n=0;return function(){var r=un(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function So(e,t){var n=-1,r=e.length,i=r-1;for(t=void 0===t?r:t;++n<t;){var o=Dr(n,i),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}var Ao=function(e){var t=Oa(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(V,(function(e,n,r,i){t.push(r?i.replace(te,"$1"):n||e)})),t}));function jo(e){if("string"==typeof e||Za(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Io(e){if(null!=e){try{return Oe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Po(e){if(e instanceof kn)return e.clone();var t=new Cn(e.__wrapped__,e.__chain__);return t.__actions__=_i(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var xo=zr((function(e,t){return Da(e)?Qn(e,or(t,1,Da,!0)):[]})),Ro=zr((function(e,t){var n=Bo(t);return Da(n)&&(n=void 0),Da(e)?Qn(e,or(t,1,Da,!0),Ji(n,2)):[]})),Co=zr((function(e,t){var n=Bo(t);return Da(n)&&(n=void 0),Da(e)?Qn(e,or(t,1,Da,!0),void 0,n):[]}));function ko(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:rs(n);return i<0&&(i=an(r+i,0)),bt(e,Ji(t,3),i)}function Mo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=rs(n),i=n<0?an(r+i,0):sn(i,r-1)),bt(e,Ji(t,3),i,!0)}function To(e){return(null==e?0:e.length)?or(e,1):[]}function Uo(e){return e&&e.length?e[0]:void 0}var Do=zr((function(e){var t=pt(e,oi);return t.length&&t[0]===e[0]?_r(t):[]})),Lo=zr((function(e){var t=Bo(e),n=pt(e,oi);return t===Bo(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?_r(n,Ji(t,2)):[]})),zo=zr((function(e){var t=Bo(e),n=pt(e,oi);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?_r(n,void 0,t):[]}));function Bo(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var No=zr(qo);function qo(e,t){return e&&e.length&&t&&t.length?Tr(e,t):e}var Ho=$i((function(e,t){var n=null==e?0:e.length,r=Yn(e,t);return Ur(e,pt(t,(function(e){return ao(e,n)?+e:e})).sort(hi)),r}));function Fo(e){return null==e?e:ln.call(e)}var $o=zr((function(e){return Xr(or(e,1,Da,!0))})),Vo=zr((function(e){var t=Bo(e);return Da(t)&&(t=void 0),Xr(or(e,1,Da,!0),Ji(t,2))})),Ko=zr((function(e){var t=Bo(e);return t="function"==typeof t?t:void 0,Xr(or(e,1,Da,!0),void 0,t)}));function Wo(e){if(!e||!e.length)return[];var t=0;return e=ft(e,(function(e){if(Da(e))return t=an(e.length,t),!0})),xt(t,(function(t){return pt(e,At(t))}))}function Yo(e,t){if(!e||!e.length)return[];var n=Wo(e);return null==t?n:pt(n,(function(e){return ot(t,void 0,e)}))}var Go=zr((function(e,t){return Da(e)?Qn(e,t):[]})),Jo=zr((function(e){return ri(ft(e,Da))})),Zo=zr((function(e){var t=Bo(e);return Da(t)&&(t=void 0),ri(ft(e,Da),Ji(t,2))})),Xo=zr((function(e){var t=Bo(e);return t="function"==typeof t?t:void 0,ri(ft(e,Da),void 0,t)})),Qo=zr(Wo);var ea=zr((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Yo(e,n)}));function ta(e){var t=Pn(e);return t.__chain__=!0,t}function na(e,t){return t(e)}var ra=$i((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Yn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof kn&&ao(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:na,args:[i],thisArg:void 0}),new Cn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(i)}));var ia=mi((function(e,t,n){Se.call(e,n)?++e[n]:Wn(e,n,1)}));var oa=ji(ko),aa=ji(Mo);function sa(e,t){return(Ma(e)?st:er)(e,Ji(t,3))}function ua(e,t){return(Ma(e)?ut:tr)(e,Ji(t,3))}var ca=mi((function(e,t,n){Se.call(e,n)?e[n].push(t):Wn(e,n,[t])}));var fa=zr((function(e,t,n){var i=-1,o="function"==typeof t,a=Ua(e)?r(e.length):[];return er(e,(function(e){a[++i]=o?ot(t,e,n):yr(e,t,n)})),a})),la=mi((function(e,t,n){Wn(e,n,t)}));function da(e,t){return(Ma(e)?pt:Ir)(e,Ji(t,3))}var pa=mi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var ha=zr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&so(e,t[0],t[1])?t=[]:n>2&&so(t[0],t[1],t[2])&&(t=[t[0]]),kr(e,or(t,1),[])})),va=Jt||function(){return We.Date.now()};function ga(e,t,n){return t=n?void 0:t,Bi(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function _a(e,t){var n;if("function"!=typeof t)throw new ye(o);return e=rs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var ya=zr((function(e,t,n){var r=1;if(n.length){var i=Ht(n,Gi(ya));r|=32}return Bi(e,r,t,n,i)})),ma=zr((function(e,t,n){var r=3;if(n.length){var i=Ht(n,Gi(ma));r|=32}return Bi(t,r,e,n,i)}));function ba(e,t,n){var r,i,a,s,u,c,f=0,l=!1,d=!1,p=!0;if("function"!=typeof e)throw new ye(o);function h(t){var n=r,o=i;return r=i=void 0,f=t,s=e.apply(o,n)}function v(e){return f=e,u=bo(_,t),l?h(e):s}function g(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-f>=a}function _(){var e=va();if(g(e))return y(e);u=bo(_,function(e){var n=t-(e-c);return d?sn(n,a-(e-f)):n}(e))}function y(e){return u=void 0,p&&r?h(e):(r=i=void 0,s)}function m(){var e=va(),n=g(e);if(r=arguments,i=this,c=e,n){if(void 0===u)return v(c);if(d)return fi(u),u=bo(_,t),h(c)}return void 0===u&&(u=bo(_,t)),s}return t=os(t)||0,Fa(n)&&(l=!!n.leading,a=(d="maxWait"in n)?an(os(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),m.cancel=function(){void 0!==u&&fi(u),f=0,r=c=i=u=void 0},m.flush=function(){return void 0===u?s:y(va())},m}var wa=zr((function(e,t){return Xn(e,1,t)})),Ea=zr((function(e,t,n){return Xn(e,os(t)||0,n)}));function Oa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ye(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Oa.Cache||Un),n}function Sa(e){if("function"!=typeof e)throw new ye(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Oa.Cache=Un;var Aa=ui((function(e,t){var n=(t=1==t.length&&Ma(t[0])?pt(t[0],Rt(Ji())):pt(or(t,1),Rt(Ji()))).length;return zr((function(r){for(var i=-1,o=sn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return ot(e,this,r)}))})),ja=zr((function(e,t){return Bi(e,32,void 0,t,Ht(t,Gi(ja)))})),Ia=zr((function(e,t){return Bi(e,64,void 0,t,Ht(t,Gi(Ia)))})),Pa=$i((function(e,t){return Bi(e,256,void 0,void 0,void 0,t)}));function xa(e,t){return e===t||e!=e&&t!=t}var Ra=Ti(hr),Ca=Ti((function(e,t){return e>=t})),ka=mr(function(){return arguments}())?mr:function(e){return $a(e)&&Se.call(e,"callee")&&!Ye.call(e,"callee")},Ma=r.isArray,Ta=Qe?Rt(Qe):function(e){return $a(e)&&pr(e)==O};function Ua(e){return null!=e&&Ha(e.length)&&!Na(e)}function Da(e){return $a(e)&&Ua(e)}var La=tn||ou,za=et?Rt(et):function(e){return $a(e)&&pr(e)==l};function Ba(e){if(!$a(e))return!1;var t=pr(e);return t==d||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Wa(e)}function Na(e){if(!Fa(e))return!1;var t=pr(e);return t==p||t==h||"[object AsyncFunction]"==t||"[object Proxy]"==t}function qa(e){return"number"==typeof e&&e==rs(e)}function Ha(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Fa(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function $a(e){return null!=e&&"object"==typeof e}var Va=tt?Rt(tt):function(e){return $a(e)&&no(e)==v};function Ka(e){return"number"==typeof e||$a(e)&&pr(e)==g}function Wa(e){if(!$a(e)||pr(e)!=_)return!1;var t=Ve(e);if(null===t)return!0;var n=Se.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Oe.call(n)==Pe}var Ya=nt?Rt(nt):function(e){return $a(e)&&pr(e)==y};var Ga=rt?Rt(rt):function(e){return $a(e)&&no(e)==m};function Ja(e){return"string"==typeof e||!Ma(e)&&$a(e)&&pr(e)==b}function Za(e){return"symbol"==typeof e||$a(e)&&pr(e)==w}var Xa=it?Rt(it):function(e){return $a(e)&&Ha(e.length)&&!!Ne[pr(e)]};var Qa=Ti(jr),es=Ti((function(e,t){return e<=t}));function ts(e){if(!e)return[];if(Ua(e))return Ja(e)?Kt(e):_i(e);if(Xe&&e[Xe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Xe]());var t=no(e);return(t==v?Nt:t==m?Ft:xs)(e)}function ns(e){return e?(e=os(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function rs(e){var t=ns(e),n=t%1;return t==t?n?t-n:t:0}function is(e){return e?Gn(rs(e),0,4294967295):0}function os(e){if("number"==typeof e)return e;if(Za(e))return NaN;if(Fa(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Fa(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Y,"");var n=oe.test(e);return n||se.test(e)?$e(e.slice(2),n?2:8):ie.test(e)?NaN:+e}function as(e){return yi(e,ws(e))}function ss(e){return null==e?"":Zr(e)}var us=bi((function(e,t){if(lo(t)||Ua(t))yi(t,bs(t),e);else for(var n in t)Se.call(t,n)&&Fn(e,n,t[n])})),cs=bi((function(e,t){yi(t,ws(t),e)})),fs=bi((function(e,t,n,r){yi(t,ws(t),e,r)})),ls=bi((function(e,t,n,r){yi(t,bs(t),e,r)})),ds=$i(Yn);var ps=zr((function(e,t){e=ve(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&so(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],a=ws(o),s=-1,u=a.length;++s<u;){var c=a[s],f=e[c];(void 0===f||xa(f,we[c])&&!Se.call(e,c))&&(e[c]=o[c])}return e})),hs=zr((function(e){return e.push(void 0,qi),ot(Os,void 0,e)}));function vs(e,t,n){var r=null==e?void 0:lr(e,t);return void 0===r?n:r}function gs(e,t){return null!=e&&ro(e,t,gr)}var _s=xi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ie.call(t)),e[t]=n}),Fs(Ks)),ys=xi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ie.call(t)),Se.call(e,t)?e[t].push(n):e[t]=[n]}),Ji),ms=zr(yr);function bs(e){return Ua(e)?zn(e):Sr(e)}function ws(e){return Ua(e)?zn(e,!0):Ar(e)}var Es=bi((function(e,t,n){Rr(e,t,n)})),Os=bi((function(e,t,n,r){Rr(e,t,n,r)})),Ss=$i((function(e,t){var n={};if(null==e)return n;var r=!1;t=pt(t,(function(t){return t=si(t,e),r||(r=t.length>1),t})),yi(e,Ki(e),n),r&&(n=Jn(n,7,Hi));for(var i=t.length;i--;)Qr(n,t[i]);return n}));var As=$i((function(e,t){return null==e?{}:function(e,t){return Mr(e,t,(function(t,n){return gs(e,n)}))}(e,t)}));function js(e,t){if(null==e)return{};var n=pt(Ki(e),(function(e){return[e]}));return t=Ji(t),Mr(e,n,(function(e,n){return t(e,n[0])}))}var Is=zi(bs),Ps=zi(ws);function xs(e){return null==e?[]:Ct(e,bs(e))}var Rs=Si((function(e,t,n){return t=t.toLowerCase(),e+(n?Cs(t):t)}));function Cs(e){return Bs(ss(e).toLowerCase())}function ks(e){return(e=ss(e))&&e.replace(ce,Dt).replace(Me,"")}var Ms=Si((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ts=Si((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Us=Oi("toLowerCase");var Ds=Si((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Ls=Si((function(e,t,n){return e+(n?" ":"")+Bs(t)}));var zs=Si((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Bs=Oi("toUpperCase");function Ns(e,t,n){return e=ss(e),void 0===(t=n?void 0:t)?function(e){return Le.test(e)}(e)?function(e){return e.match(Ue)||[]}(e):function(e){return e.match(ee)||[]}(e):e.match(t)||[]}var qs=zr((function(e,t){try{return ot(e,void 0,t)}catch(e){return Ba(e)?e:new de(e)}})),Hs=$i((function(e,t){return st(t,(function(t){t=jo(t),Wn(e,t,ya(e[t],e))})),e}));function Fs(e){return function(){return e}}var $s=Ii(),Vs=Ii(!0);function Ks(e){return e}function Ws(e){return Or("function"==typeof e?e:Jn(e,1))}var Ys=zr((function(e,t){return function(n){return yr(n,e,t)}})),Gs=zr((function(e,t){return function(n){return yr(e,n,t)}}));function Js(e,t,n){var r=bs(t),i=fr(t,r);null!=n||Fa(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=fr(t,bs(t)));var o=!(Fa(n)&&"chain"in n&&!n.chain),a=Na(e);return st(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=_i(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,ht([this.value()],arguments))})})),e}function Zs(){}var Xs=Ci(pt),Qs=Ci(ct),eu=Ci(_t);function tu(e){return uo(e)?At(jo(e)):function(e){return function(t){return lr(t,e)}}(e)}var nu=Mi(),ru=Mi(!0);function iu(){return[]}function ou(){return!1}var au=Ri((function(e,t){return e+t}),0),su=Di("ceil"),uu=Ri((function(e,t){return e/t}),1),cu=Di("floor");var fu,lu=Ri((function(e,t){return e*t}),1),du=Di("round"),pu=Ri((function(e,t){return e-t}),0);return Pn.after=function(e,t){if("function"!=typeof t)throw new ye(o);return e=rs(e),function(){if(--e<1)return t.apply(this,arguments)}},Pn.ary=ga,Pn.assign=us,Pn.assignIn=cs,Pn.assignInWith=fs,Pn.assignWith=ls,Pn.at=ds,Pn.before=_a,Pn.bind=ya,Pn.bindAll=Hs,Pn.bindKey=ma,Pn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ma(e)?e:[e]},Pn.chain=ta,Pn.chunk=function(e,t,n){t=(n?so(e,t,n):void 0===t)?1:an(rs(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,a=0,s=r(Xt(i/t));o<i;)s[a++]=Vr(e,o,o+=t);return s},Pn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Pn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return ht(Ma(n)?_i(n):[n],or(t,1))},Pn.cond=function(e){var t=null==e?0:e.length,n=Ji();return e=t?pt(e,(function(e){if("function"!=typeof e[1])throw new ye(o);return[n(e[0]),e[1]]})):[],zr((function(n){for(var r=-1;++r<t;){var i=e[r];if(ot(i[0],this,n))return ot(i[1],this,n)}}))},Pn.conforms=function(e){return function(e){var t=bs(e);return function(n){return Zn(n,e,t)}}(Jn(e,1))},Pn.constant=Fs,Pn.countBy=ia,Pn.create=function(e,t){var n=xn(e);return null==t?n:Kn(n,t)},Pn.curry=function e(t,n,r){var i=Bi(t,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},Pn.curryRight=function e(t,n,r){var i=Bi(t,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},Pn.debounce=ba,Pn.defaults=ps,Pn.defaultsDeep=hs,Pn.defer=wa,Pn.delay=Ea,Pn.difference=xo,Pn.differenceBy=Ro,Pn.differenceWith=Co,Pn.drop=function(e,t,n){var r=null==e?0:e.length;return r?Vr(e,(t=n||void 0===t?1:rs(t))<0?0:t,r):[]},Pn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Vr(e,0,(t=r-(t=n||void 0===t?1:rs(t)))<0?0:t):[]},Pn.dropRightWhile=function(e,t){return e&&e.length?ti(e,Ji(t,3),!0,!0):[]},Pn.dropWhile=function(e,t){return e&&e.length?ti(e,Ji(t,3),!0):[]},Pn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&so(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=rs(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:rs(r))<0&&(r+=i),r=n>r?0:is(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Pn.filter=function(e,t){return(Ma(e)?ft:ir)(e,Ji(t,3))},Pn.flatMap=function(e,t){return or(da(e,t),1)},Pn.flatMapDeep=function(e,t){return or(da(e,t),1/0)},Pn.flatMapDepth=function(e,t,n){return n=void 0===n?1:rs(n),or(da(e,t),n)},Pn.flatten=To,Pn.flattenDeep=function(e){return(null==e?0:e.length)?or(e,1/0):[]},Pn.flattenDepth=function(e,t){return(null==e?0:e.length)?or(e,t=void 0===t?1:rs(t)):[]},Pn.flip=function(e){return Bi(e,512)},Pn.flow=$s,Pn.flowRight=Vs,Pn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Pn.functions=function(e){return null==e?[]:fr(e,bs(e))},Pn.functionsIn=function(e){return null==e?[]:fr(e,ws(e))},Pn.groupBy=ca,Pn.initial=function(e){return(null==e?0:e.length)?Vr(e,0,-1):[]},Pn.intersection=Do,Pn.intersectionBy=Lo,Pn.intersectionWith=zo,Pn.invert=_s,Pn.invertBy=ys,Pn.invokeMap=fa,Pn.iteratee=Ws,Pn.keyBy=la,Pn.keys=bs,Pn.keysIn=ws,Pn.map=da,Pn.mapKeys=function(e,t){var n={};return t=Ji(t,3),ur(e,(function(e,r,i){Wn(n,t(e,r,i),e)})),n},Pn.mapValues=function(e,t){var n={};return t=Ji(t,3),ur(e,(function(e,r,i){Wn(n,r,t(e,r,i))})),n},Pn.matches=function(e){return Pr(Jn(e,1))},Pn.matchesProperty=function(e,t){return xr(e,Jn(t,1))},Pn.memoize=Oa,Pn.merge=Es,Pn.mergeWith=Os,Pn.method=Ys,Pn.methodOf=Gs,Pn.mixin=Js,Pn.negate=Sa,Pn.nthArg=function(e){return e=rs(e),zr((function(t){return Cr(t,e)}))},Pn.omit=Ss,Pn.omitBy=function(e,t){return js(e,Sa(Ji(t)))},Pn.once=function(e){return _a(2,e)},Pn.orderBy=function(e,t,n,r){return null==e?[]:(Ma(t)||(t=null==t?[]:[t]),Ma(n=r?void 0:n)||(n=null==n?[]:[n]),kr(e,t,n))},Pn.over=Xs,Pn.overArgs=Aa,Pn.overEvery=Qs,Pn.overSome=eu,Pn.partial=ja,Pn.partialRight=Ia,Pn.partition=pa,Pn.pick=As,Pn.pickBy=js,Pn.property=tu,Pn.propertyOf=function(e){return function(t){return null==e?void 0:lr(e,t)}},Pn.pull=No,Pn.pullAll=qo,Pn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Tr(e,t,Ji(n,2)):e},Pn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Tr(e,t,void 0,n):e},Pn.pullAt=Ho,Pn.range=nu,Pn.rangeRight=ru,Pn.rearg=Pa,Pn.reject=function(e,t){return(Ma(e)?ft:ir)(e,Sa(Ji(t,3)))},Pn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Ji(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Ur(e,i),n},Pn.rest=function(e,t){if("function"!=typeof e)throw new ye(o);return zr(e,t=void 0===t?t:rs(t))},Pn.reverse=Fo,Pn.sampleSize=function(e,t,n){return t=(n?so(e,t,n):void 0===t)?1:rs(t),(Ma(e)?Nn:Nr)(e,t)},Pn.set=function(e,t,n){return null==e?e:qr(e,t,n)},Pn.setWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:qr(e,t,n,r)},Pn.shuffle=function(e){return(Ma(e)?qn:$r)(e)},Pn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&so(e,t,n)?(t=0,n=r):(t=null==t?0:rs(t),n=void 0===n?r:rs(n)),Vr(e,t,n)):[]},Pn.sortBy=ha,Pn.sortedUniq=function(e){return e&&e.length?Gr(e):[]},Pn.sortedUniqBy=function(e,t){return e&&e.length?Gr(e,Ji(t,2)):[]},Pn.split=function(e,t,n){return n&&"number"!=typeof n&&so(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=ss(e))&&("string"==typeof t||null!=t&&!Ya(t))&&!(t=Zr(t))&&Bt(e)?ci(Kt(e),0,n):e.split(t,n):[]},Pn.spread=function(e,t){if("function"!=typeof e)throw new ye(o);return t=null==t?0:an(rs(t),0),zr((function(n){var r=n[t],i=ci(n,0,t);return r&&ht(i,r),ot(e,this,i)}))},Pn.tail=function(e){var t=null==e?0:e.length;return t?Vr(e,1,t):[]},Pn.take=function(e,t,n){return e&&e.length?Vr(e,0,(t=n||void 0===t?1:rs(t))<0?0:t):[]},Pn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Vr(e,(t=r-(t=n||void 0===t?1:rs(t)))<0?0:t,r):[]},Pn.takeRightWhile=function(e,t){return e&&e.length?ti(e,Ji(t,3),!1,!0):[]},Pn.takeWhile=function(e,t){return e&&e.length?ti(e,Ji(t,3)):[]},Pn.tap=function(e,t){return t(e),e},Pn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new ye(o);return Fa(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ba(e,t,{leading:r,maxWait:t,trailing:i})},Pn.thru=na,Pn.toArray=ts,Pn.toPairs=Is,Pn.toPairsIn=Ps,Pn.toPath=function(e){return Ma(e)?pt(e,jo):Za(e)?[e]:_i(Ao(ss(e)))},Pn.toPlainObject=as,Pn.transform=function(e,t,n){var r=Ma(e),i=r||La(e)||Xa(e);if(t=Ji(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Fa(e)&&Na(o)?xn(Ve(e)):{}}return(i?st:ur)(e,(function(e,r,i){return t(n,e,r,i)})),n},Pn.unary=function(e){return ga(e,1)},Pn.union=$o,Pn.unionBy=Vo,Pn.unionWith=Ko,Pn.uniq=function(e){return e&&e.length?Xr(e):[]},Pn.uniqBy=function(e,t){return e&&e.length?Xr(e,Ji(t,2)):[]},Pn.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Xr(e,void 0,t):[]},Pn.unset=function(e,t){return null==e||Qr(e,t)},Pn.unzip=Wo,Pn.unzipWith=Yo,Pn.update=function(e,t,n){return null==e?e:ei(e,t,ai(n))},Pn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:ei(e,t,ai(n),r)},Pn.values=xs,Pn.valuesIn=function(e){return null==e?[]:Ct(e,ws(e))},Pn.without=Go,Pn.words=Ns,Pn.wrap=function(e,t){return ja(ai(t),e)},Pn.xor=Jo,Pn.xorBy=Zo,Pn.xorWith=Xo,Pn.zip=Qo,Pn.zipObject=function(e,t){return ii(e||[],t||[],Fn)},Pn.zipObjectDeep=function(e,t){return ii(e||[],t||[],qr)},Pn.zipWith=ea,Pn.entries=Is,Pn.entriesIn=Ps,Pn.extend=cs,Pn.extendWith=fs,Js(Pn,Pn),Pn.add=au,Pn.attempt=qs,Pn.camelCase=Rs,Pn.capitalize=Cs,Pn.ceil=su,Pn.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=os(n))==n?n:0),void 0!==t&&(t=(t=os(t))==t?t:0),Gn(os(e),t,n)},Pn.clone=function(e){return Jn(e,4)},Pn.cloneDeep=function(e){return Jn(e,5)},Pn.cloneDeepWith=function(e,t){return Jn(e,5,t="function"==typeof t?t:void 0)},Pn.cloneWith=function(e,t){return Jn(e,4,t="function"==typeof t?t:void 0)},Pn.conformsTo=function(e,t){return null==t||Zn(e,t,bs(t))},Pn.deburr=ks,Pn.defaultTo=function(e,t){return null==e||e!=e?t:e},Pn.divide=uu,Pn.endsWith=function(e,t,n){e=ss(e),t=Zr(t);var r=e.length,i=n=void 0===n?r:Gn(rs(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Pn.eq=xa,Pn.escape=function(e){return(e=ss(e))&&B.test(e)?e.replace(L,Lt):e},Pn.escapeRegExp=function(e){return(e=ss(e))&&W.test(e)?e.replace(K,"\\$&"):e},Pn.every=function(e,t,n){var r=Ma(e)?ct:nr;return n&&so(e,t,n)&&(t=void 0),r(e,Ji(t,3))},Pn.find=oa,Pn.findIndex=ko,Pn.findKey=function(e,t){return mt(e,Ji(t,3),ur)},Pn.findLast=aa,Pn.findLastIndex=Mo,Pn.findLastKey=function(e,t){return mt(e,Ji(t,3),cr)},Pn.floor=cu,Pn.forEach=sa,Pn.forEachRight=ua,Pn.forIn=function(e,t){return null==e?e:ar(e,Ji(t,3),ws)},Pn.forInRight=function(e,t){return null==e?e:sr(e,Ji(t,3),ws)},Pn.forOwn=function(e,t){return e&&ur(e,Ji(t,3))},Pn.forOwnRight=function(e,t){return e&&cr(e,Ji(t,3))},Pn.get=vs,Pn.gt=Ra,Pn.gte=Ca,Pn.has=function(e,t){return null!=e&&ro(e,t,vr)},Pn.hasIn=gs,Pn.head=Uo,Pn.identity=Ks,Pn.includes=function(e,t,n,r){e=Ua(e)?e:xs(e),n=n&&!r?rs(n):0;var i=e.length;return n<0&&(n=an(i+n,0)),Ja(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&wt(e,t,n)>-1},Pn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:rs(n);return i<0&&(i=an(r+i,0)),wt(e,t,i)},Pn.inRange=function(e,t,n){return t=ns(t),void 0===n?(n=t,t=0):n=ns(n),function(e,t,n){return e>=sn(t,n)&&e<an(t,n)}(e=os(e),t,n)},Pn.invoke=ms,Pn.isArguments=ka,Pn.isArray=Ma,Pn.isArrayBuffer=Ta,Pn.isArrayLike=Ua,Pn.isArrayLikeObject=Da,Pn.isBoolean=function(e){return!0===e||!1===e||$a(e)&&pr(e)==f},Pn.isBuffer=La,Pn.isDate=za,Pn.isElement=function(e){return $a(e)&&1===e.nodeType&&!Wa(e)},Pn.isEmpty=function(e){if(null==e)return!0;if(Ua(e)&&(Ma(e)||"string"==typeof e||"function"==typeof e.splice||La(e)||Xa(e)||ka(e)))return!e.length;var t=no(e);if(t==v||t==m)return!e.size;if(lo(e))return!Sr(e).length;for(var n in e)if(Se.call(e,n))return!1;return!0},Pn.isEqual=function(e,t){return br(e,t)},Pn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?br(e,t,void 0,n):!!r},Pn.isError=Ba,Pn.isFinite=function(e){return"number"==typeof e&&nn(e)},Pn.isFunction=Na,Pn.isInteger=qa,Pn.isLength=Ha,Pn.isMap=Va,Pn.isMatch=function(e,t){return e===t||wr(e,t,Xi(t))},Pn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,wr(e,t,Xi(t),n)},Pn.isNaN=function(e){return Ka(e)&&e!=+e},Pn.isNative=function(e){if(fo(e))throw new de("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Er(e)},Pn.isNil=function(e){return null==e},Pn.isNull=function(e){return null===e},Pn.isNumber=Ka,Pn.isObject=Fa,Pn.isObjectLike=$a,Pn.isPlainObject=Wa,Pn.isRegExp=Ya,Pn.isSafeInteger=function(e){return qa(e)&&e>=-9007199254740991&&e<=9007199254740991},Pn.isSet=Ga,Pn.isString=Ja,Pn.isSymbol=Za,Pn.isTypedArray=Xa,Pn.isUndefined=function(e){return void 0===e},Pn.isWeakMap=function(e){return $a(e)&&no(e)==E},Pn.isWeakSet=function(e){return $a(e)&&"[object WeakSet]"==pr(e)},Pn.join=function(e,t){return null==e?"":rn.call(e,t)},Pn.kebabCase=Ms,Pn.last=Bo,Pn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=rs(n))<0?an(r+i,0):sn(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):bt(e,Ot,i,!0)},Pn.lowerCase=Ts,Pn.lowerFirst=Us,Pn.lt=Qa,Pn.lte=es,Pn.max=function(e){return e&&e.length?rr(e,Ks,hr):void 0},Pn.maxBy=function(e,t){return e&&e.length?rr(e,Ji(t,2),hr):void 0},Pn.mean=function(e){return St(e,Ks)},Pn.meanBy=function(e,t){return St(e,Ji(t,2))},Pn.min=function(e){return e&&e.length?rr(e,Ks,jr):void 0},Pn.minBy=function(e,t){return e&&e.length?rr(e,Ji(t,2),jr):void 0},Pn.stubArray=iu,Pn.stubFalse=ou,Pn.stubObject=function(){return{}},Pn.stubString=function(){return""},Pn.stubTrue=function(){return!0},Pn.multiply=lu,Pn.nth=function(e,t){return e&&e.length?Cr(e,rs(t)):void 0},Pn.noConflict=function(){return We._===this&&(We._=xe),this},Pn.noop=Zs,Pn.now=va,Pn.pad=function(e,t,n){e=ss(e);var r=(t=rs(t))?Vt(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return ki(Qt(i),n)+e+ki(Xt(i),n)},Pn.padEnd=function(e,t,n){e=ss(e);var r=(t=rs(t))?Vt(e):0;return t&&r<t?e+ki(t-r,n):e},Pn.padStart=function(e,t,n){e=ss(e);var r=(t=rs(t))?Vt(e):0;return t&&r<t?ki(t-r,n)+e:e},Pn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),cn(ss(e).replace(G,""),t||0)},Pn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&so(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ns(e),void 0===t?(t=e,e=0):t=ns(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=fn();return sn(e+i*(t-e+Fe("1e-"+((i+"").length-1))),t)}return Dr(e,t)},Pn.reduce=function(e,t,n){var r=Ma(e)?vt:It,i=arguments.length<3;return r(e,Ji(t,4),n,i,er)},Pn.reduceRight=function(e,t,n){var r=Ma(e)?gt:It,i=arguments.length<3;return r(e,Ji(t,4),n,i,tr)},Pn.repeat=function(e,t,n){return t=(n?so(e,t,n):void 0===t)?1:rs(t),Lr(ss(e),t)},Pn.replace=function(){var e=arguments,t=ss(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Pn.result=function(e,t,n){var r=-1,i=(t=si(t,e)).length;for(i||(i=1,e=void 0);++r<i;){var o=null==e?void 0:e[jo(t[r])];void 0===o&&(r=i,o=n),e=Na(o)?o.call(e):o}return e},Pn.round=du,Pn.runInContext=e,Pn.sample=function(e){return(Ma(e)?Bn:Br)(e)},Pn.size=function(e){if(null==e)return 0;if(Ua(e))return Ja(e)?Vt(e):e.length;var t=no(e);return t==v||t==m?e.size:Sr(e).length},Pn.snakeCase=Ds,Pn.some=function(e,t,n){var r=Ma(e)?_t:Kr;return n&&so(e,t,n)&&(t=void 0),r(e,Ji(t,3))},Pn.sortedIndex=function(e,t){return Wr(e,t)},Pn.sortedIndexBy=function(e,t,n){return Yr(e,t,Ji(n,2))},Pn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Wr(e,t);if(r<n&&xa(e[r],t))return r}return-1},Pn.sortedLastIndex=function(e,t){return Wr(e,t,!0)},Pn.sortedLastIndexBy=function(e,t,n){return Yr(e,t,Ji(n,2),!0)},Pn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Wr(e,t,!0)-1;if(xa(e[n],t))return n}return-1},Pn.startCase=Ls,Pn.startsWith=function(e,t,n){return e=ss(e),n=null==n?0:Gn(rs(n),0,e.length),t=Zr(t),e.slice(n,n+t.length)==t},Pn.subtract=pu,Pn.sum=function(e){return e&&e.length?Pt(e,Ks):0},Pn.sumBy=function(e,t){return e&&e.length?Pt(e,Ji(t,2)):0},Pn.template=function(e,t,n){var r=Pn.templateSettings;n&&so(e,t,n)&&(t=void 0),e=ss(e),t=fs({},t,r,Ni);var i,o,a=fs({},t.imports,r.imports,Ni),s=bs(a),u=Ct(a,s),c=0,f=t.interpolate||fe,l="__p += '",d=ge((t.escape||fe).source+"|"+f.source+"|"+(f===H?ne:fe).source+"|"+(t.evaluate||fe).source+"|$","g"),p="//# sourceURL="+(Se.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Be+"]")+"\n";e.replace(d,(function(t,n,r,a,s,u){return r||(r=a),l+=e.slice(c,u).replace(le,zt),n&&(i=!0,l+="' +\n__e("+n+") +\n'"),s&&(o=!0,l+="';\n"+s+";\n__p += '"),r&&(l+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t})),l+="';\n";var h=Se.call(t,"variable")&&t.variable;h||(l="with (obj) {\n"+l+"\n}\n"),l=(o?l.replace(M,""):l).replace(T,"$1").replace(U,"$1;"),l="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var v=qs((function(){return pe(s,p+"return "+l).apply(void 0,u)}));if(v.source=l,Ba(v))throw v;return v},Pn.times=function(e,t){if((e=rs(e))<1||e>9007199254740991)return[];var n=4294967295,r=sn(e,4294967295);e-=4294967295;for(var i=xt(r,t=Ji(t));++n<e;)t(n);return i},Pn.toFinite=ns,Pn.toInteger=rs,Pn.toLength=is,Pn.toLower=function(e){return ss(e).toLowerCase()},Pn.toNumber=os,Pn.toSafeInteger=function(e){return e?Gn(rs(e),-9007199254740991,9007199254740991):0===e?e:0},Pn.toString=ss,Pn.toUpper=function(e){return ss(e).toUpperCase()},Pn.trim=function(e,t,n){if((e=ss(e))&&(n||void 0===t))return e.replace(Y,"");if(!e||!(t=Zr(t)))return e;var r=Kt(e),i=Kt(t);return ci(r,Mt(r,i),Tt(r,i)+1).join("")},Pn.trimEnd=function(e,t,n){if((e=ss(e))&&(n||void 0===t))return e.replace(J,"");if(!e||!(t=Zr(t)))return e;var r=Kt(e);return ci(r,0,Tt(r,Kt(t))+1).join("")},Pn.trimStart=function(e,t,n){if((e=ss(e))&&(n||void 0===t))return e.replace(G,"");if(!e||!(t=Zr(t)))return e;var r=Kt(e);return ci(r,Mt(r,Kt(t))).join("")},Pn.truncate=function(e,t){var n=30,r="...";if(Fa(t)){var i="separator"in t?t.separator:i;n="length"in t?rs(t.length):n,r="omission"in t?Zr(t.omission):r}var o=(e=ss(e)).length;if(Bt(e)){var a=Kt(e);o=a.length}if(n>=o)return e;var s=n-Vt(r);if(s<1)return r;var u=a?ci(a,0,s).join(""):e.slice(0,s);if(void 0===i)return u+r;if(a&&(s+=u.length-s),Ya(i)){if(e.slice(s).search(i)){var c,f=u;for(i.global||(i=ge(i.source,ss(re.exec(i))+"g")),i.lastIndex=0;c=i.exec(f);)var l=c.index;u=u.slice(0,void 0===l?s:l)}}else if(e.indexOf(Zr(i),s)!=s){var d=u.lastIndexOf(i);d>-1&&(u=u.slice(0,d))}return u+r},Pn.unescape=function(e){return(e=ss(e))&&z.test(e)?e.replace(D,Wt):e},Pn.uniqueId=function(e){var t=++Ae;return ss(e)+t},Pn.upperCase=zs,Pn.upperFirst=Bs,Pn.each=sa,Pn.eachRight=ua,Pn.first=Uo,Js(Pn,(fu={},ur(Pn,(function(e,t){Se.call(Pn.prototype,t)||(fu[t]=e)})),fu),{chain:!1}),Pn.VERSION="4.17.15",st(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Pn[e].placeholder=Pn})),st(["drop","take"],(function(e,t){kn.prototype[e]=function(n){n=void 0===n?1:an(rs(n),0);var r=this.__filtered__&&!t?new kn(this):this.clone();return r.__filtered__?r.__takeCount__=sn(n,r.__takeCount__):r.__views__.push({size:sn(n,4294967295),type:e+(r.__dir__<0?"Right":"")}),r},kn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),st(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;kn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Ji(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),st(["head","last"],(function(e,t){var n="take"+(t?"Right":"");kn.prototype[e]=function(){return this[n](1).value()[0]}})),st(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");kn.prototype[e]=function(){return this.__filtered__?new kn(this):this[n](1)}})),kn.prototype.compact=function(){return this.filter(Ks)},kn.prototype.find=function(e){return this.filter(e).head()},kn.prototype.findLast=function(e){return this.reverse().find(e)},kn.prototype.invokeMap=zr((function(e,t){return"function"==typeof e?new kn(this):this.map((function(n){return yr(n,e,t)}))})),kn.prototype.reject=function(e){return this.filter(Sa(Ji(e)))},kn.prototype.slice=function(e,t){e=rs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new kn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=rs(t))<0?n.dropRight(-t):n.take(t-e)),n)},kn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},kn.prototype.toArray=function(){return this.take(4294967295)},ur(kn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Pn[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);i&&(Pn.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,s=t instanceof kn,u=a[0],c=s||Ma(t),f=function(e){var t=i.apply(Pn,ht([e],a));return r&&l?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(s=c=!1);var l=this.__chain__,d=!!this.__actions__.length,p=o&&!l,h=s&&!d;if(!o&&c){t=h?t:new kn(this);var v=e.apply(t,a);return v.__actions__.push({func:na,args:[f],thisArg:void 0}),new Cn(v,l)}return p&&h?e.apply(this,a):(v=this.thru(f),p?r?v.value()[0]:v.value():v)})})),st(["pop","push","shift","sort","splice","unshift"],(function(e){var t=me[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Pn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ma(i)?i:[],e)}return this[n]((function(n){return t.apply(Ma(n)?n:[],e)}))}})),ur(kn.prototype,(function(e,t){var n=Pn[t];if(n){var r=n.name+"";Se.call(mn,r)||(mn[r]=[]),mn[r].push({name:t,func:n})}})),mn[Pi(void 0,2).name]=[{name:"wrapper",func:void 0}],kn.prototype.clone=function(){var e=new kn(this.__wrapped__);return e.__actions__=_i(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=_i(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=_i(this.__views__),e},kn.prototype.reverse=function(){if(this.__filtered__){var e=new kn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},kn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ma(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=sn(t,e+a);break;case"takeRight":e=an(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,f=this.__iteratees__,l=f.length,d=0,p=sn(u,this.__takeCount__);if(!n||!r&&i==u&&p==u)return ni(e,this.__actions__);var h=[];e:for(;u--&&d<p;){for(var v=-1,g=e[c+=t];++v<l;){var _=f[v],y=_.iteratee,m=_.type,b=y(g);if(2==m)g=b;else if(!b){if(1==m)continue e;break e}}h[d++]=g}return h},Pn.prototype.at=ra,Pn.prototype.chain=function(){return ta(this)},Pn.prototype.commit=function(){return new Cn(this.value(),this.__chain__)},Pn.prototype.next=function(){void 0===this.__values__&&(this.__values__=ts(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},Pn.prototype.plant=function(e){for(var t,n=this;n instanceof Rn;){var r=Po(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Pn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof kn){var t=e;return this.__actions__.length&&(t=new kn(this)),(t=t.reverse()).__actions__.push({func:na,args:[Fo],thisArg:void 0}),new Cn(t,this.__chain__)}return this.thru(Fo)},Pn.prototype.toJSON=Pn.prototype.valueOf=Pn.prototype.value=function(){return ni(this.__wrapped__,this.__actions__)},Pn.prototype.first=Pn.prototype.head,Xe&&(Pn.prototype[Xe]=function(){return this}),Pn}();We._=Yt,void 0===(i=function(){return Yt}.call(t,n,t,r))||(r.exports=i)}).call(this)}).call(this,n(52),n(102)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(82),i=n(83);t.fromUtf8=function(e){return"function"==typeof TextEncoder?i.fromUtf8(e):r.fromUtf8(e)},t.toUtf8=function(e){return"function"==typeof TextDecoder?i.toUtf8(e):r.toUtf8(e)}},function(e,t,n){var r=n(57),i=n(58),o=i;o.v1=r,o.v4=i,e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);r.__exportStar(n(36),t),r.__exportStar(n(37),t),r.__exportStar(n(59),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);r.__exportStar(n(70),t),r.__exportStar(n(71),t),r.__exportStar(n(72),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(2);t.resolveHostHeaderConfig=function(e){return e},t.hostHeaderMiddleware=function(e){return function(t){return function(n){return r.__awaiter(void 0,void 0,void 0,(function(){var o,a;return r.__generator(this,(function(r){return i.HttpRequest.isInstance(n.request)?(o=n.request,a=(e.requestHandler.metadata||{}).handlerProtocol,(void 0===a?"":a).indexOf("h2")>=0&&!o.headers[":authority"]?(delete o.headers.host,o.headers[":authority"]=""):o.headers.host||(o.headers.host=o.hostname),[2,t(n)]):[2,t(n)]}))}))}}},t.hostHeaderMiddlewareOptions={name:"hostHeaderMiddleware",step:"build",tags:["HOST"]},t.getHostHeaderPlugin=function(e){return{applyToStack:function(n){n.add(t.hostHeaderMiddleware(e),t.hostHeaderMiddlewareOptions)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);r.__exportStar(n(73),t),r.__exportStar(n(39),t),r.__exportStar(n(75),t),r.__exportStar(n(40),t),r.__exportStar(n(41),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);r.__exportStar(n(76),t),r.__exportStar(n(78),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);r.__exportStar(n(79),t),r.__exportStar(n(80),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.invalidFunction=function(e){return function(){throw new Error(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});for(var r={},i=new Array(64),o=0,a="A".charCodeAt(0),s="Z".charCodeAt(0);o+a<=s;o++){var u=String.fromCharCode(o+a);r[u]=o,i[o]=u}for(o=0,a="a".charCodeAt(0),s="z".charCodeAt(0);o+a<=s;o++){u=String.fromCharCode(o+a);var c=o+26;r[u]=c,i[c]=u}for(o=0;o<10;o++){r[o.toString(10)]=o+52;u=o.toString(10),c=o+52;r[u]=c,i[c]=u}r["+"]=62,i[62]="+",r["/"]=63,i[63]="/";t.fromBase64=function(e){var t=e.length/4*3;"=="===e.substr(-2)?t-=2:"="===e.substr(-1)&&t--;for(var n=new ArrayBuffer(t),i=new DataView(n),o=0;o<e.length;o+=4){for(var a=0,s=0,u=o,c=o+3;u<=c;u++)"="!==e[u]?(a|=r[e[u]]<<6*(c-u),s+=6):a>>=6;var f=o/4*3;a>>=s%8;for(var l=Math.floor(s/8),d=0;d<l;d++){var p=8*(l-d-1);i.setUint8(f+d,(a&255<<p)>>p)}}return new Uint8Array(n)},t.toBase64=function(e){for(var t="",n=0;n<e.length;n+=3){for(var r=0,o=0,a=n,s=Math.min(n+3,e.length);a<s;a++)r|=e[a]<<8*(s-a-1),o+=8;var u=Math.ceil(o/6);r<<=6*u-o;for(var c=1;c<=u;c++){var f=6*(u-c);t+=i[(r&63<<f)>>f]}t+="==".slice(0,4-u)}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});for(var r={},i={},o=0;o<256;o++){var a=o.toString(16).toLowerCase();1===a.length&&(a="0"+a),r[o]=a,i[a]=o}t.fromHex=function(e){if(e.length%2!=0)throw new Error("Hex encoded strings must have an even number length");for(var t=new Uint8Array(e.length/2),n=0;n<e.length;n+=2){var r=e.substr(n,2).toLowerCase();if(!(r in i))throw new Error("Cannot decode unrecognized sequence "+r+" as hexadecimal");t[n/2]=i[r]}return t},t.toHex=function(e){for(var t="",n=0;n<e.byteLength;n++)t+=r[e[n]];return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(2);function o(e){var t=this;return function(n){return function(o){return r.__awaiter(t,void 0,void 0,(function(){var t,a,s,u,c;return r.__generator(this,(function(f){return t=o.request,i.HttpRequest.isInstance(t)&&(a=t.body,s=t.headers,a&&-1===Object.keys(s).map((function(e){return e.toLowerCase()})).indexOf("content-length")&&void 0!==(u=e(a))&&(t.headers=r.__assign(r.__assign({},t.headers),((c={})["content-length"]=String(u),c)))),[2,n(r.__assign(r.__assign({},o),{request:t}))]}))}))}}}t.contentLengthMiddleware=o,t.contentLengthMiddlewareOptions={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware"},t.getContentLengthPlugin=function(e){return{applyToStack:function(n){n.add(o(e.bodyLengthChecker),t.contentLengthMiddlewareOptions)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(0).__exportStar(n(81),t);var r=n(44);t.Ie11Sha256=r.Sha256;var i=n(47);t.WebCryptoSha256=i.Sha256},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(0).__exportStar(n(91),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(94);t.parseUrl=function(e){var t,n=new URL(e),i=n.hostname,o=n.pathname,a=n.port,s=n.protocol,u=n.search;return u&&(t=r.parseQueryString(u)),{hostname:i,port:a?parseInt(a):void 0,protocol:s,path:o,query:t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateBodyLength=function(e){return"string"==typeof e?e.length:"number"==typeof e.byteLength?e.byteLength:"number"==typeof e.size?e.size:void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.streamCollector=function(e){return new Response(e).arrayBuffer().then((function(e){return new Uint8Array(e)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultUserAgent=function(e,t){return"aws-sdk-js-v3-"+e+"/"+t+" "+("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}},function(e,n){e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);r.__exportStar(n(43),t),r.__exportStar(n(77),t)},function(e,t,n){"use strict";n.d(t,"a",(function(){return Ne}));var r=n(3),i=n(0),o=n(2),a=n(1);function s(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a,s,u,c,g,_,y,m,b,w;return Object(i.__generator)(this,(function(E){switch(E.label){case 0:return r=[Object(i.__assign)({},e)],o={},[4,H(e.body,t)];case 1:switch(n=i.__assign.apply(void 0,r.concat([(o.body=E.sent(),o)])),s="UnknownError",s=F(e,n.body),s){case"BadRequestException":case"com.amazonaws.pinpoint#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.pinpoint#ForbiddenException":return[3,4];case"InternalServerErrorException":case"com.amazonaws.pinpoint#InternalServerErrorException":return[3,6];case"MethodNotAllowedException":case"com.amazonaws.pinpoint#MethodNotAllowedException":return[3,8];case"NotFoundException":case"com.amazonaws.pinpoint#NotFoundException":return[3,10];case"TooManyRequestsException":case"com.amazonaws.pinpoint#TooManyRequestsException":return[3,12]}return[3,14];case 2:return u=[{}],[4,f(n,t)];case 3:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,u.concat([E.sent()])),{name:s,$metadata:N(e)}]),[3,15];case 4:return c=[{}],[4,l(n,t)];case 5:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,c.concat([E.sent()])),{name:s,$metadata:N(e)}]),[3,15];case 6:return g=[{}],[4,d(n,t)];case 7:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,g.concat([E.sent()])),{name:s,$metadata:N(e)}]),[3,15];case 8:return _=[{}],[4,p(n,t)];case 9:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,_.concat([E.sent()])),{name:s,$metadata:N(e)}]),[3,15];case 10:return y=[{}],[4,h(n,t)];case 11:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,y.concat([E.sent()])),{name:s,$metadata:N(e)}]),[3,15];case 12:return m=[{}],[4,v(n,t)];case 13:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,m.concat([E.sent()])),{name:s,$metadata:N(e)}]),[3,15];case 14:b=n.body,s=b.code||b.Code||s,a=Object(i.__assign)(Object(i.__assign)({},b),{name:""+s,message:b.message||b.Message||s,$fault:"client",$metadata:N(e)}),E.label=15;case 15:return w=a.message||a.Message||s,a.message=w,delete a.Message,[2,Promise.reject(Object.assign(new Error(w),a))]}}))}))}function u(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a,s,u,c,g,_,y,m,b,w;return Object(i.__generator)(this,(function(E){switch(E.label){case 0:return r=[Object(i.__assign)({},e)],o={},[4,H(e.body,t)];case 1:switch(n=i.__assign.apply(void 0,r.concat([(o.body=E.sent(),o)])),s="UnknownError",s=F(e,n.body),s){case"BadRequestException":case"com.amazonaws.pinpoint#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.pinpoint#ForbiddenException":return[3,4];case"InternalServerErrorException":case"com.amazonaws.pinpoint#InternalServerErrorException":return[3,6];case"MethodNotAllowedException":case"com.amazonaws.pinpoint#MethodNotAllowedException":return[3,8];case"NotFoundException":case"com.amazonaws.pinpoint#NotFoundException":return[3,10];case"TooManyRequestsException":case"com.amazonaws.pinpoint#TooManyRequestsException":return[3,12]}return[3,14];case 2:return u=[{}],[4,f(n,t)];case 3:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,u.concat([E.sent()])),{name:s,$metadata:N(e)}]),[3,15];case 4:return c=[{}],[4,l(n,t)];case 5:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,c.concat([E.sent()])),{name:s,$metadata:N(e)}]),[3,15];case 6:return g=[{}],[4,d(n,t)];case 7:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,g.concat([E.sent()])),{name:s,$metadata:N(e)}]),[3,15];case 8:return _=[{}],[4,p(n,t)];case 9:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,_.concat([E.sent()])),{name:s,$metadata:N(e)}]),[3,15];case 10:return y=[{}],[4,h(n,t)];case 11:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,y.concat([E.sent()])),{name:s,$metadata:N(e)}]),[3,15];case 12:return m=[{}],[4,v(n,t)];case 13:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,m.concat([E.sent()])),{name:s,$metadata:N(e)}]),[3,15];case 14:b=n.body,s=b.code||b.Code||s,a=Object(i.__assign)(Object(i.__assign)({},b),{name:""+s,message:b.message||b.Message||s,$fault:"client",$metadata:N(e)}),E.label=15;case 15:return w=a.message||a.Message||s,a.message=w,delete a.Message,[2,Promise.reject(Object.assign(new Error(w),a))]}}))}))}function c(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a,s,u,c,g,_,y,m,b,w;return Object(i.__generator)(this,(function(E){switch(E.label){case 0:return r=[Object(i.__assign)({},e)],o={},[4,H(e.body,t)];case 1:switch(n=i.__assign.apply(void 0,r.concat([(o.body=E.sent(),o)])),s="UnknownError",s=F(e,n.body),s){case"BadRequestException":case"com.amazonaws.pinpoint#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.pinpoint#ForbiddenException":return[3,4];case"InternalServerErrorException":case"com.amazonaws.pinpoint#InternalServerErrorException":return[3,6];case"MethodNotAllowedException":case"com.amazonaws.pinpoint#MethodNotAllowedException":return[3,8];case"NotFoundException":case"com.amazonaws.pinpoint#NotFoundException":return[3,10];case"TooManyRequestsException":case"com.amazonaws.pinpoint#TooManyRequestsException":return[3,12]}return[3,14];case 2:return u=[{}],[4,f(n,t)];case 3:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,u.concat([E.sent()])),{name:s,$metadata:N(e)}]),[3,15];case 4:return c=[{}],[4,l(n,t)];case 5:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,c.concat([E.sent()])),{name:s,$metadata:N(e)}]),[3,15];case 6:return g=[{}],[4,d(n,t)];case 7:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,g.concat([E.sent()])),{name:s,$metadata:N(e)}]),[3,15];case 8:return _=[{}],[4,p(n,t)];case 9:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,_.concat([E.sent()])),{name:s,$metadata:N(e)}]),[3,15];case 10:return y=[{}],[4,h(n,t)];case 11:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,y.concat([E.sent()])),{name:s,$metadata:N(e)}]),[3,15];case 12:return m=[{}],[4,v(n,t)];case 13:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,m.concat([E.sent()])),{name:s,$metadata:N(e)}]),[3,15];case 14:b=n.body,s=b.code||b.Code||s,a=Object(i.__assign)(Object(i.__assign)({},b),{name:""+s,message:b.message||b.Message||s,$fault:"client",$metadata:N(e)}),E.label=15;case 15:return w=a.message||a.Message||s,a.message=w,delete a.Message,[2,Promise.reject(Object.assign(new Error(w),a))]}}))}))}var f=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return Object(i.__generator)(this,(function(r){return t={name:"BadRequestException",$fault:"client",$metadata:N(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},l=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return Object(i.__generator)(this,(function(r){return t={name:"ForbiddenException",$fault:"client",$metadata:N(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},d=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return Object(i.__generator)(this,(function(r){return t={name:"InternalServerErrorException",$fault:"server",$metadata:N(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},p=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return Object(i.__generator)(this,(function(r){return t={name:"MethodNotAllowedException",$fault:"client",$metadata:N(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},h=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return Object(i.__generator)(this,(function(r){return t={name:"NotFoundException",$fault:"client",$metadata:N(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},v=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return Object(i.__generator)(this,(function(r){return t={name:"TooManyRequestsException",$fault:"client",$metadata:N(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},g=function(e,t){var n={};return void 0!==e.AppVersion&&(n.AppVersion=e.AppVersion),void 0!==e.Locale&&(n.Locale=e.Locale),void 0!==e.Make&&(n.Make=e.Make),void 0!==e.Model&&(n.Model=e.Model),void 0!==e.ModelVersion&&(n.ModelVersion=e.ModelVersion),void 0!==e.Platform&&(n.Platform=e.Platform),void 0!==e.PlatformVersion&&(n.PlatformVersion=e.PlatformVersion),void 0!==e.Timezone&&(n.Timezone=e.Timezone),n},_=function(e,t){var n={};return void 0!==e.City&&(n.City=e.City),void 0!==e.Country&&(n.Country=e.Country),void 0!==e.Latitude&&(n.Latitude=e.Latitude),void 0!==e.Longitude&&(n.Longitude=e.Longitude),void 0!==e.PostalCode&&(n.PostalCode=e.PostalCode),void 0!==e.Region&&(n.Region=e.Region),n},y=function(e,t){var n={};return void 0!==e.Address&&(n.Address=e.Address),void 0!==e.Attributes&&(n.Attributes=S(e.Attributes,t)),void 0!==e.ChannelType&&(n.ChannelType=e.ChannelType),void 0!==e.Demographic&&(n.Demographic=g(e.Demographic,t)),void 0!==e.EffectiveDate&&(n.EffectiveDate=e.EffectiveDate),void 0!==e.EndpointStatus&&(n.EndpointStatus=e.EndpointStatus),void 0!==e.Location&&(n.Location=_(e.Location,t)),void 0!==e.Metrics&&(n.Metrics=A(e.Metrics,t)),void 0!==e.OptOut&&(n.OptOut=e.OptOut),void 0!==e.RequestId&&(n.RequestId=e.RequestId),void 0!==e.User&&(n.User=m(e.User,t)),n},m=function(e,t){var n={};return void 0!==e.UserAttributes&&(n.UserAttributes=S(e.UserAttributes,t)),void 0!==e.UserId&&(n.UserId=e.UserId),n},b=function(e,t){var n={};return void 0!==e.BatchItem&&(n.BatchItem=O(e.BatchItem,t)),n},w=function(e,t){var n,r,o=[];try{for(var a=Object(i.__values)(e),s=a.next();!s.done;s=a.next()){var u=s.value;o.push(u)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o},E=function(e,t){var n={};return Object.keys(e).forEach((function(r){n[r]=function(e,t){var n={};return void 0!==e.AppPackageName&&(n.AppPackageName=e.AppPackageName),void 0!==e.AppTitle&&(n.AppTitle=e.AppTitle),void 0!==e.AppVersionCode&&(n.AppVersionCode=e.AppVersionCode),void 0!==e.Attributes&&(n.Attributes=j(e.Attributes,t)),void 0!==e.ClientSdkVersion&&(n.ClientSdkVersion=e.ClientSdkVersion),void 0!==e.EventType&&(n.EventType=e.EventType),void 0!==e.Metrics&&(n.Metrics=A(e.Metrics,t)),void 0!==e.SdkName&&(n.SdkName=e.SdkName),void 0!==e.Session&&(n.Session=P(e.Session,t)),void 0!==e.Timestamp&&(n.Timestamp=e.Timestamp),n}(e[r],t)})),n},O=function(e,t){var n={};return Object.keys(e).forEach((function(r){n[r]=function(e,t){var n={};return void 0!==e.Endpoint&&(n.Endpoint=I(e.Endpoint,t)),void 0!==e.Events&&(n.Events=E(e.Events,t)),n}(e[r],t)})),n},S=function(e,t){var n={};return Object.keys(e).forEach((function(r){n[r]=w(e[r],t)})),n},A=function(e,t){var n={};return Object.keys(e).forEach((function(t){n[t]=e[t]})),n},j=function(e,t){var n={};return Object.keys(e).forEach((function(t){n[t]=e[t]})),n},I=function(e,t){var n={};return void 0!==e.Address&&(n.Address=e.Address),void 0!==e.Attributes&&(n.Attributes=S(e.Attributes,t)),void 0!==e.ChannelType&&(n.ChannelType=e.ChannelType),void 0!==e.Demographic&&(n.Demographic=g(e.Demographic,t)),void 0!==e.EffectiveDate&&(n.EffectiveDate=e.EffectiveDate),void 0!==e.EndpointStatus&&(n.EndpointStatus=e.EndpointStatus),void 0!==e.Location&&(n.Location=_(e.Location,t)),void 0!==e.Metrics&&(n.Metrics=A(e.Metrics,t)),void 0!==e.OptOut&&(n.OptOut=e.OptOut),void 0!==e.RequestId&&(n.RequestId=e.RequestId),void 0!==e.User&&(n.User=m(e.User,t)),n},P=function(e,t){var n={};return void 0!==e.Duration&&(n.Duration=e.Duration),void 0!==e.Id&&(n.Id=e.Id),void 0!==e.StartTimestamp&&(n.StartTimestamp=e.StartTimestamp),void 0!==e.StopTimestamp&&(n.StopTimestamp=e.StopTimestamp),n},x=function(e,t){var n={__type:"EndpointResponse",Address:void 0,ApplicationId:void 0,Attributes:void 0,ChannelType:void 0,CohortId:void 0,CreationDate:void 0,Demographic:void 0,EffectiveDate:void 0,EndpointStatus:void 0,Id:void 0,Location:void 0,Metrics:void 0,OptOut:void 0,RequestId:void 0,User:void 0};return void 0!==e.Address&&null!==e.Address&&(n.Address=e.Address),void 0!==e.ApplicationId&&null!==e.ApplicationId&&(n.ApplicationId=e.ApplicationId),void 0!==e.Attributes&&null!==e.Attributes&&(n.Attributes=L(e.Attributes,t)),void 0!==e.ChannelType&&null!==e.ChannelType&&(n.ChannelType=e.ChannelType),void 0!==e.CohortId&&null!==e.CohortId&&(n.CohortId=e.CohortId),void 0!==e.CreationDate&&null!==e.CreationDate&&(n.CreationDate=e.CreationDate),void 0!==e.Demographic&&null!==e.Demographic&&(n.Demographic=function(e,t){var n={__type:"EndpointDemographic",AppVersion:void 0,Locale:void 0,Make:void 0,Model:void 0,ModelVersion:void 0,Platform:void 0,PlatformVersion:void 0,Timezone:void 0};return void 0!==e.AppVersion&&null!==e.AppVersion&&(n.AppVersion=e.AppVersion),void 0!==e.Locale&&null!==e.Locale&&(n.Locale=e.Locale),void 0!==e.Make&&null!==e.Make&&(n.Make=e.Make),void 0!==e.Model&&null!==e.Model&&(n.Model=e.Model),void 0!==e.ModelVersion&&null!==e.ModelVersion&&(n.ModelVersion=e.ModelVersion),void 0!==e.Platform&&null!==e.Platform&&(n.Platform=e.Platform),void 0!==e.PlatformVersion&&null!==e.PlatformVersion&&(n.PlatformVersion=e.PlatformVersion),void 0!==e.Timezone&&null!==e.Timezone&&(n.Timezone=e.Timezone),n}(e.Demographic)),void 0!==e.EffectiveDate&&null!==e.EffectiveDate&&(n.EffectiveDate=e.EffectiveDate),void 0!==e.EndpointStatus&&null!==e.EndpointStatus&&(n.EndpointStatus=e.EndpointStatus),void 0!==e.Id&&null!==e.Id&&(n.Id=e.Id),void 0!==e.Location&&null!==e.Location&&(n.Location=function(e,t){var n={__type:"EndpointLocation",City:void 0,Country:void 0,Latitude:void 0,Longitude:void 0,PostalCode:void 0,Region:void 0};return void 0!==e.City&&null!==e.City&&(n.City=e.City),void 0!==e.Country&&null!==e.Country&&(n.Country=e.Country),void 0!==e.Latitude&&null!==e.Latitude&&(n.Latitude=e.Latitude),void 0!==e.Longitude&&null!==e.Longitude&&(n.Longitude=e.Longitude),void 0!==e.PostalCode&&null!==e.PostalCode&&(n.PostalCode=e.PostalCode),void 0!==e.Region&&null!==e.Region&&(n.Region=e.Region),n}(e.Location)),void 0!==e.Metrics&&null!==e.Metrics&&(n.Metrics=z(e.Metrics,t)),void 0!==e.OptOut&&null!==e.OptOut&&(n.OptOut=e.OptOut),void 0!==e.RequestId&&null!==e.RequestId&&(n.RequestId=e.RequestId),void 0!==e.User&&null!==e.User&&(n.User=R(e.User,t)),n},R=function(e,t){var n={__type:"EndpointUser",UserAttributes:void 0,UserId:void 0};return void 0!==e.UserAttributes&&null!==e.UserAttributes&&(n.UserAttributes=L(e.UserAttributes,t)),void 0!==e.UserId&&null!==e.UserId&&(n.UserId=e.UserId),n},C=function(e,t){var n={__type:"EndpointsResponse",Item:void 0};return void 0!==e.Item&&null!==e.Item&&(n.Item=M(e.Item,t)),n},k=function(e,t){var n={__type:"EventsResponse",Results:void 0};return void 0!==e.Results&&null!==e.Results&&(n.Results=D(e.Results,t)),n},M=function(e,t){return(e||[]).map((function(e){return x(e,t)}))},T=function(e,t){return(e||[]).map((function(e){return e}))},U=function(e,t){var n={};return Object.keys(e).forEach((function(t){n[t]=function(e,t){var n={__type:"EventItemResponse",Message:void 0,StatusCode:void 0};return void 0!==e.Message&&null!==e.Message&&(n.Message=e.Message),void 0!==e.StatusCode&&null!==e.StatusCode&&(n.StatusCode=e.StatusCode),n}(e[t])})),n},D=function(e,t){var n={};return Object.keys(e).forEach((function(r){n[r]=function(e,t){var n={__type:"ItemResponse",EndpointItemResponse:void 0,EventsItemResponse:void 0};return void 0!==e.EndpointItemResponse&&null!==e.EndpointItemResponse&&(n.EndpointItemResponse=function(e,t){var n={__type:"EndpointItemResponse",Message:void 0,StatusCode:void 0};return void 0!==e.Message&&null!==e.Message&&(n.Message=e.Message),void 0!==e.StatusCode&&null!==e.StatusCode&&(n.StatusCode=e.StatusCode),n}(e.EndpointItemResponse)),void 0!==e.EventsItemResponse&&null!==e.EventsItemResponse&&(n.EventsItemResponse=U(e.EventsItemResponse,t)),n}(e[r],t)})),n},L=function(e,t){var n={};return Object.keys(e).forEach((function(r){n[r]=T(e[r],t)})),n},z=function(e,t){var n={};return Object.keys(e).forEach((function(t){n[t]=e[t]})),n},B=function(e,t){var n={__type:"MessageBody",Message:void 0,RequestID:void 0};return void 0!==e.Message&&null!==e.Message&&(n.Message=e.Message),void 0!==e.RequestID&&null!==e.RequestID&&(n.RequestID=e.RequestID),n},N=function(e){return{httpStatusCode:e.statusCode,httpHeaders:e.headers,requestId:e.headers["x-amzn-requestid"]}},q=function(e,t){return e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},H=function(e,t){return function(e,t){return q(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},F=function(e,t){var n,r,i=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,r="x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()===r.toLowerCase()})));return void 0!==o?i(e.headers[o]):void 0!==t.code?i(t.code):void 0!==t.__type?i(t.__type):""},$=n(7),V=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object($.getSerdePlugin)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r,s,u;return Object(i.__generator)(this,(function(c){if((n={})["Content-Type"]="application/json",r="/v1/apps/{ApplicationId}/events",void 0===e.ApplicationId)throw new Error("No value provided for input HTTP label: ApplicationId.");if((s=e.ApplicationId).length<=0)throw new Error("Empty value provided for input HTTP label: ApplicationId.");return r=r.replace("{ApplicationId}",Object(a.extendedEncodeURIComponent)(s)),void 0!==e.EventsRequest&&(u=b(e.EventsRequest,t)),void 0===u&&(u={}),u=JSON.stringify(u),[2,new o.HttpRequest(Object(i.__assign)(Object(i.__assign)({},t.endpoint),{protocol:"https",method:"POST",headers:n,path:r,body:u}))]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return 202!==e.statusCode&&e.statusCode>=400?[2,u(e,t)]:(n={$metadata:N(e),__type:"PutEventsResponse",EventsResponse:void 0},[4,H(e.body,t)]);case 1:return r=i.sent(),n.EventsResponse=k(r,t),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(a.Command),K=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object($.getSerdePlugin)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r,s,u;return Object(i.__generator)(this,(function(c){if((n={})["Content-Type"]="application/json",r="/v1/apps/{ApplicationId}/endpoints/{EndpointId}",void 0===e.ApplicationId)throw new Error("No value provided for input HTTP label: ApplicationId.");if((s=e.ApplicationId).length<=0)throw new Error("Empty value provided for input HTTP label: ApplicationId.");if(r=r.replace("{ApplicationId}",Object(a.extendedEncodeURIComponent)(s)),void 0===e.EndpointId)throw new Error("No value provided for input HTTP label: EndpointId.");if((s=e.EndpointId).length<=0)throw new Error("Empty value provided for input HTTP label: EndpointId.");return r=r.replace("{EndpointId}",Object(a.extendedEncodeURIComponent)(s)),void 0!==e.EndpointRequest&&(u=y(e.EndpointRequest,t)),void 0===u&&(u={}),u=JSON.stringify(u),[2,new o.HttpRequest(Object(i.__assign)(Object(i.__assign)({},t.endpoint),{protocol:"https",method:"PUT",headers:n,path:r,body:u}))]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return 202!==e.statusCode&&e.statusCode>=400?[2,c(e,t)]:(n={$metadata:N(e),__type:"UpdateEndpointResponse",MessageBody:void 0},[4,H(e.body,t)]);case 1:return r=i.sent(),n.MessageBody=B(r,t),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(a.Command),W=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object($.getSerdePlugin)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r,s;return Object(i.__generator)(this,(function(u){if((n={})["Content-Type"]="",r="/v1/apps/{ApplicationId}/users/{UserId}",void 0===e.ApplicationId)throw new Error("No value provided for input HTTP label: ApplicationId.");if((s=e.ApplicationId).length<=0)throw new Error("Empty value provided for input HTTP label: ApplicationId.");if(r=r.replace("{ApplicationId}",Object(a.extendedEncodeURIComponent)(s)),void 0===e.UserId)throw new Error("No value provided for input HTTP label: UserId.");if((s=e.UserId).length<=0)throw new Error("Empty value provided for input HTTP label: UserId.");return r=r.replace("{UserId}",Object(a.extendedEncodeURIComponent)(s)),[2,new o.HttpRequest(Object(i.__assign)(Object(i.__assign)({},t.endpoint),{protocol:"https",method:"GET",headers:n,path:r,body:void 0}))]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=400?[2,s(e,t)]:(n={$metadata:N(e),__type:"GetUserEndpointsResponse",EndpointsResponse:void 0},[4,H(e.body,t)]);case 1:return r=i.sent(),n.EndpointsResponse=C(r,t),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(a.Command),Y=n(13),G=n(17),J=n(18),Z=n(19),X=n(20),Q=n(21),ee=n(5),te=n(14),ne=n(22),re=n(30),ie=new Set(["ap-south-1","eu-north-1","eu-west-3","eu-west-2","eu-west-1","ap-northeast-2","ap-northeast-1","me-south-1","ca-central-1","sa-east-1","ap-east-1","ap-southeast-1","ap-southeast-2","eu-central-1","us-east-1","us-east-2","us-west-1","us-west-2"]),oe=new Set(["cn-north-1","cn-northwest-1"]),ae=new Set(["us-iso-east-1"]),se=new Set(["us-isob-east-1"]),ue=new Set(["us-gov-west-1","us-gov-east-1"]),ce={apiVersion:"2016-12-01",disableHostPrefix:!1,signingName:"mobiletargeting",regionInfoProvider:function(e,t){var n=void 0;switch(e){case"ap-south-1":n={hostname:"pinpoint.ap-south-1.amazonaws.com",signingService:"mobiletargeting"};break;case"ap-southeast-2":n={hostname:"pinpoint.ap-southeast-2.amazonaws.com",signingService:"mobiletargeting"};break;case"eu-central-1":n={hostname:"pinpoint.eu-central-1.amazonaws.com",signingService:"mobiletargeting"};break;case"eu-west-1":n={hostname:"pinpoint.eu-west-1.amazonaws.com",signingService:"mobiletargeting"};break;case"us-east-1":n={hostname:"pinpoint.us-east-1.amazonaws.com",signingService:"mobiletargeting"};break;case"us-west-2":n={hostname:"pinpoint.us-west-2.amazonaws.com",signingService:"mobiletargeting"};break;default:ie.has(e)&&(n={hostname:"pinpoint.{region}.amazonaws.com".replace("{region}",e),signingService:"mobiletargeting"}),oe.has(e)&&(n={hostname:"pinpoint.{region}.amazonaws.com.cn".replace("{region}",e)}),ae.has(e)&&(n={hostname:"pinpoint.{region}.c2s.ic.gov".replace("{region}",e)}),se.has(e)&&(n={hostname:"pinpoint.{region}.sc2s.sgov.gov".replace("{region}",e)}),ue.has(e)&&(n={hostname:"pinpoint.{region}.amazonaws.com".replace("{region}",e)}),void 0===n&&(n={hostname:"pinpoint.{region}.amazonaws.com".replace("{region}",e),signingService:"mobiletargeting"})}return Promise.resolve(n)}},fe=Object(i.__assign)(Object(i.__assign)({},ce),{requestHandler:new J.FetchHttpHandler,sha256:G.Sha256,urlParser:Z.parseUrl,bodyLengthChecker:X.calculateBodyLength,streamCollector:Q.streamCollector,base64Decoder:te.fromBase64,base64Encoder:te.toBase64,utf8Decoder:ee.fromUtf8,utf8Encoder:ee.toUtf8,defaultUserAgent:Object(ne.defaultUserAgent)(re.a,re.b),runtime:"browser",credentialDefaultProvider:Object(Y.invalidFunction)("Credential is missing"),regionDefaultProvider:Object(Y.invalidFunction)("Region is missing")}),le=n(8),de=n(16),pe=n(9),he=n(10),ve=n(11),ge=n(12),_e=function(e){function t(t){var n=this,r=Object(i.__assign)(Object(i.__assign)({},fe),t),o=Object(le.resolveRegionConfig)(r),a=Object(le.resolveEndpointsConfig)(o),s=Object(ve.resolveAwsAuthConfig)(a),u=Object(he.resolveRetryConfig)(s),c=Object(ge.resolveUserAgentConfig)(u),f=Object(pe.resolveHostHeaderConfig)(c);return(n=e.call(this,f)||this).config=f,n.middlewareStack.use(Object(ve.getAwsAuthPlugin)(n.config)),n.middlewareStack.use(Object(he.getRetryPlugin)(n.config)),n.middlewareStack.use(Object(ge.getUserAgentPlugin)(n.config)),n.middlewareStack.use(Object(de.getContentLengthPlugin)(n.config)),n.middlewareStack.use(Object(pe.getHostHeaderPlugin)(n.config)),n}return Object(i.__extends)(t,e),t.prototype.destroy=function(){},t}(a.Client),ye=n(23),me=n.n(ye),be=n(6),we=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Ee=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Oe=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Se=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Oe(arguments[t]));return e},Ae=new r.ConsoleLogger("EventsBuffer"),je=[429,500],Ie=[202],Pe=function(){function e(e,t){this._pause=!1,this._flush=!1,Ae.debug("Instantiating buffer with config:",t),this._buffer=[],this._client=e,this._config=t,this._sendBatch=this._sendBatch.bind(this),this._startLoop()}return e.prototype.push=function(e){var t;if(this._buffer>this._config.bufferSize)return Ae.debug("Exceeded analytics events buffer size"),e.handlers.reject(new Error("Exceeded the size of analytics events buffer"));var n=((t={})[e.params.event.eventId]=e,t);this._buffer.push(n)},e.prototype.pause=function(){this._pause=!0},e.prototype.resume=function(){this._pause=!1},e.prototype.updateClient=function(e){this._client=e},e.prototype.flush=function(){this._flush=!0},e.prototype._startLoop=function(){this._interval&&clearInterval(this._interval);var e=this._config.flushInterval;this._interval=setInterval(this._sendBatch,e)},e.prototype._sendBatch=function(){var e=this._buffer.length;if(this._flush&&!e&&clearInterval(this._interval),!this._pause&&e){var t=this._config.flushSize,n=Math.min(t,e),r=this._buffer.splice(0,n);this._putEvents(r)}},e.prototype._putEvents=function(e){return we(this,void 0,void 0,(function(){var t,n,r,i,o;return Ee(this,(function(a){switch(a.label){case 0:t=this._bufferToMap(e),n=this._generateBatchEventParams(t),a.label=1;case 1:return a.trys.push([1,3,,4]),r=new V(n),[4,this._client.send(r)];case 2:return i=a.sent(),this._processPutEventsSuccessResponse(i,t),[3,4];case 3:return o=a.sent(),[2,this._handlePutEventsFailure(o,t)];case 4:return[2]}}))}))},e.prototype._generateBatchEventParams=function(e){var t={ApplicationId:"",EventsRequest:{BatchItem:{}}};return Object.values(e).forEach((function(e){var n=e.params,r=n.event,i=n.timestamp,o=n.config,a=r.name,s=r.attributes,u=r.metrics,c=r.eventId,f=r.session,l=o.appId,d=o.endpointId,p=t.EventsRequest.BatchItem;t.ApplicationId=t.ApplicationId||l,p[d]||(p[d]={Endpoint:{},Events:{}}),p[d].Events[c]={EventType:a,Timestamp:new Date(i).toISOString(),Attributes:s,Metrics:u,Session:f}})),t},e.prototype._handlePutEventsFailure=function(e,t){Ae.debug("_putEvents Failed:",e);var n=e.statusCode;if(je.includes(n)){var r=Object.values(t);this._retry(r)}else;},e.prototype._processPutEventsSuccessResponse=function(e,t){var n=e.EventsResponse.Results,r=[];Object.entries(n).forEach((function(e){var n=Oe(e,2),i=n[0],o=n[1].EventsItemResponse;Object.entries(o).forEach((function(e){var n,o,a=Oe(e,2),s=a[0],u=a[1],c=u.StatusCode,f=u.Message,l=t[s],d={EventsResponse:{Results:(n={},n[i]={EventsItemResponse:(o={},o[s]={StatusCode:c,Message:f},o)},n)}};if(Ie.includes(c))l.handlers.resolve(d);else{if(!je.includes(c)){var p=l.params.event.name;return Ae.error("event "+s+" : "+p+" failed with error: "+f),l.handlers.reject(d)}r.push(l)}}))})),r.length&&this._retry(r)},e.prototype._retry=function(e){var t,n=[];e.forEach((function(e){var t,r=e.params,i=r.event,o=i.eventId,a=i.name;if(r.resendLimit-- >0)return Ae.debug("resending event "+o+" : "+a+" with "+r.resendLimit+" retry attempts remaining"),void n.push((t={},t[o]=e,t));Ae.debug("no retry attempts remaining for event "+o+" : "+a)})),(t=this._buffer).unshift.apply(t,Se(n))},e.prototype._bufferToMap=function(e){return e.reduce((function(e,t){var n=Oe(Object.entries(t),1),r=Oe(n[0],2),i=r[0],o=r[1];return e[i]=o,e}),{})},e}();function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Re=function(){return(Re=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Ce=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},ke=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Me=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Te="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Ue=function(e,t){r.Hub.dispatch("analytics",{event:e,data:t},"Analytics",Te)},De=new r.ConsoleLogger("AWSPinpointProvider"),Le=[429,500],ze=[202],Be="undefined"!=typeof navigator&&navigator&&"function"==typeof navigator.sendBeacon,Ne=function(){function e(e){this._endpointGenerating=!0,this._endpointUpdateInProgress=!1,this._buffer=null,this._endpointBuffer=[],this._config=e||{},this._config.bufferSize=this._config.bufferSize||1e3,this._config.flushSize=this._config.flushSize||100,this._config.flushInterval=this._config.flushInterval||5e3,this._config.resendLimit=this._config.resendLimit||5,this._clientInfo=r.ClientDevice.clientInfo()}return e.prototype.getCategory=function(){return e.category},e.prototype.getProviderName=function(){return e.providerName},e.prototype.configure=function(e){var t=this;De.debug("configure Analytics",e);var n=e||{};if(this._config=Object.assign({},this._config,n),this._config.appId&&!this._config.disabled)if(this._config.endpointId)Ue("pinpointProvider_configured",null);else{var r=this.getProviderName()+"_"+this._config.appId;this._getEndpointId(r).then((function(e){De.debug("setting endpoint id from the cache",e),t._config.endpointId=e,Ue("pinpointProvider_configured",null)})).catch((function(e){De.debug("Failed to generate endpointId",e)}))}else this._flushBuffer();return this._config},e.prototype.record=function(e,t){return Ce(this,void 0,void 0,(function(){var n,r;return ke(this,(function(i){switch(i.label){case 0:return De.debug("_public record",e),[4,this._getCredentials()];case 1:return(n=i.sent())&&this._config.appId&&this._config.region?(this._initClients(n),r=(new Date).getTime(),this._generateSession(e),e.event.eventId=Object(be.v1)(),Object.assign(e,{timestamp:r,config:this._config}),e.event.immediate?[2,this._send(e,t)]:(this._putToBuffer(e,t),[2])):(De.debug("cannot send events without credentials, applicationId or region"),[2,t.reject(new Error("No credentials, applicationId or region"))])}}))}))},e.prototype._sendEndpointUpdate=function(e){return Ce(this,void 0,void 0,(function(){var t;return ke(this,(function(n){switch(n.label){case 0:return this._endpointUpdateInProgress?(this._endpointBuffer.push(e),[2]):(this._endpointUpdateInProgress=!0,[4,this._updateEndpoint(e)]);case 1:return n.sent(),t=this._endpointBuffer.shift(),this._endpointUpdateInProgress=!1,t&&this._sendEndpointUpdate(t),[2]}}))}))},e.prototype._putToBuffer=function(e,t){"_update_endpoint"!==e.event.name?this._buffer&&this._buffer.push({params:e,handlers:t}):this._sendEndpointUpdate({params:e,handlers:t})},e.prototype._generateSession=function(e){this._sessionId=this._sessionId||Object(be.v1)();var t=e.event;switch(t.name){case"_session.start":this._sessionStartTimestamp=(new Date).getTime(),this._sessionId=Object(be.v1)(),t.session={Id:this._sessionId,StartTimestamp:new Date(this._sessionStartTimestamp).toISOString()};break;case"_session.stop":var n=(new Date).getTime();this._sessionStartTimestamp=this._sessionStartTimestamp||(new Date).getTime(),this._sessionId=this._sessionId||Object(be.v1)(),t.session={Id:this._sessionId,Duration:n-this._sessionStartTimestamp,StartTimestamp:new Date(this._sessionStartTimestamp).toISOString(),StopTimestamp:new Date(n).toISOString()},this._sessionId=void 0,this._sessionStartTimestamp=void 0;break;default:this._sessionStartTimestamp=this._sessionStartTimestamp||(new Date).getTime(),this._sessionId=this._sessionId||Object(be.v1)(),t.session={Id:this._sessionId,StartTimestamp:new Date(this._sessionStartTimestamp).toISOString()}}},e.prototype._send=function(e,t){return Ce(this,void 0,void 0,(function(){return ke(this,(function(n){switch(e.event.name){case"_update_endpoint":return[2,this._updateEndpoint({params:e,handlers:t})];case"_session.stop":return[2,this._pinpointSendStopSession(e,t)];default:return[2,this._pinpointPutEvents(e,t)]}return[2]}))}))},e.prototype._generateBatchItemContext=function(e){var t,n=e.event,r=e.timestamp,i=e.config,o=n.name,a=n.attributes,s=n.metrics,u=n.eventId,c=n.session,f=i.appId,l=i.endpointId,d={ApplicationId:f,EventsRequest:{BatchItem:{}}},p={Endpoint:{}};return p.Events=((t={})[u]={EventType:o,Timestamp:new Date(r).toISOString(),Attributes:a,Metrics:s,Session:c},t),d.EventsRequest.BatchItem[l]=p,d},e.prototype._pinpointPutEvents=function(e,t){return Ce(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,f,l,d;return ke(this,(function(p){switch(p.label){case 0:n=e.event.eventId,r=e.config.endpointId,i=this._generateBatchItemContext(e),o=new V(i),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,this.pinpointClient.send(o)];case 2:return a=p.sent(),s=r,u=n,c=a.EventsResponse.Results[s].EventsItemResponse[u],f=c.StatusCode,l=c.Message,ze.includes(f)?(De.debug("record event success. ",a),[2,t.resolve(a)]):Le.includes(f)?(this._retry(e,t),[3,4]):(De.error("Event "+n+" is not accepted, the error is "+l),[2,t.reject(a)]);case 3:return d=p.sent(),this._eventError(d),[2,t.reject(d)];case 4:return[2]}}))}))},e.prototype._pinpointSendStopSession=function(e,t){if(Be){var n=this._generateBatchItemContext(e),i=this._config.region,o=n.ApplicationId,a=n.EventsRequest,s={secret_key:this._config.credentials.secretAccessKey,access_key:this._config.credentials.accessKeyId,session_token:this._config.credentials.sessionToken},u="https://pinpoint."+i+".amazonaws.com/v1/apps/"+o+"/events/legacy",c=JSON.stringify(a),f={url:u,body:c,method:"POST"},l={region:i,service:"mobiletargeting"},d=r.Signer.signUrl(f,s,l,null);return navigator.sendBeacon(d,c)?t.resolve("sendBeacon success"):t.reject("sendBeacon failure")}this._pinpointPutEvents(e,t)},e.prototype._retry=function(e,t){var n=e.config.resendLimit;e.resendLimit="number"==typeof e.resendLimit?e.resendLimit:n,e.resendLimit-- >0?(De.debug("resending event "+e.eventName+" with "+e.resendLimit+" retry times left"),this._pinpointPutEvents(e,t)):De.debug("retry times used up for event "+e.eventName)},e.prototype._updateEndpoint=function(e){return Ce(this,void 0,void 0,(function(){var t,n,i,o,a,s,u,c,f,l,d,p;return ke(this,(function(h){switch(h.label){case 0:t=e.params,n=e.handlers,i=t.config,o=t.event,a=i.appId,s=i.endpointId,u=this._endpointRequest(i,r.JS.transferKeyToLowerCase(o,[],["attributes","userAttributes","Attributes","UserAttributes"])),c={ApplicationId:a,EndpointId:s,EndpointRequest:u},h.label=1;case 1:return h.trys.push([1,3,,4]),f=new K(c),[4,this.pinpointClient.send(f)];case 2:return l=h.sent(),De.debug("updateEndpoint success",l),this._endpointGenerating=!1,this._resumeBuffer(),n.resolve(l),[2];case 3:return d=h.sent(),p={err:d,update_params:c,endpointObject:e},[2,this._handleEndpointUpdateFailure(p)];case 4:return[2]}}))}))},e.prototype._handleEndpointUpdateFailure=function(e){return Ce(this,void 0,void 0,(function(){var t,n,r;return ke(this,(function(i){switch(t=e.err,n=e.endpointObject,r=t.statusCode,De.debug("updateEndpoint failed",t),r){case 400:return[2,this._handleEndpointUpdateBadRequest(e)];case 403:return[2,this._handleEndpointUpdateForbidden(e)];default:if(Le.includes(r))return!0,[2,this._retryEndpointUpdate(n,!0)];n.handlers.reject(t)}return[2]}))}))},e.prototype._handleEndpointUpdateBadRequest=function(e){return Ce(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return ke(this,(function(u){switch(u.label){case 0:if(t=e.err,n=e.update_params,r=e.endpointObject,i=t.message,o=n.ApplicationId,a=n.EndpointRequest,!String(i).startsWith("Exceeded maximum endpoint per user count"))return[2,r.handlers.reject(t)];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this._removeUnusedEndpoints(o,a.User.UserId)];case 2:return u.sent(),De.debug("Removed unused endpoints successfully"),this._retryEndpointUpdate(r),[3,4];case 3:return s=u.sent(),De.warn("Failed to remove unused endpoints with error: "+s),De.warn('Please ensure you have updated your Pinpoint IAM Policy with the Action: "mobiletargeting:GetUserEndpoints" in order to get endpoints info of the user'),[2,r.handlers.reject(s)];case 4:return[2]}}))}))},e.prototype._handleEndpointUpdateForbidden=function(e){var t=e.err,n=e.endpointObject,r=t.code,i=t.retryable;if("ExpiredTokenException"!==r&&!i)return n.handlers.reject(t);this._retryEndpointUpdate(n)},e.prototype._retryEndpointUpdate=function(e,t){void 0===t&&(t=!1),De.debug("_retryEndpointUpdate",e);var n=e.params,r=n.config.resendLimit;if(n.resendLimit="number"==typeof n.resendLimit?n.resendLimit:r,n.resendLimit-- >0)return De.debug("resending endpoint update "+n.event.eventId+" with "+n.resendLimit+" retry attempts remaining"),void(this._endpointBuffer.length?this._endpointBuffer.unshift(e):this._updateEndpoint(e));De.warn("resending endpoint update "+n.event.eventId+" failed after "+n.config.resendLimit+" attempts"),this._endpointGenerating&&De.error("Initial endpoint update failed. ")},e.prototype._removeUnusedEndpoints=function(e,t){return Ce(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,f,l,d,p;return ke(this,(function(h){switch(h.label){case 0:return h.trys.push([0,6,,7]),n=new W({ApplicationId:e,UserId:t}),[4,this.pinpointClient.send(n)];case 1:for(r=h.sent(),i=r.EndpointsResponse.Item,De.debug("get endpoints associated with the userId: "+t+" with data",i),o=i[0],a=1;a<i.length&&(s=Date.parse(o.EffectiveDate),u=Date.parse(i[a].EffectiveDate),!isNaN(s));a++){if(isNaN(u)){o=i[a];break}u<s&&(o=i[a])}c={ApplicationId:e,EndpointId:o.Id,EndpointRequest:{User:{UserId:""}}},h.label=2;case 2:return h.trys.push([2,4,,5]),f=new K(c),[4,this.pinpointClient.send(f)];case 3:return l=h.sent(),De.debug("The old endpoint is updated with an empty string for user id"),[2,l];case 4:throw d=h.sent(),De.debug("Failed to update the endpoint",d),d;case 5:return[3,7];case 6:throw p=h.sent(),De.debug("Failed to get endpoints associated with the userId: "+t+" with error",p),p;case 7:return[2]}}))}))},e.prototype._initClients=function(e){return Ce(this,void 0,void 0,(function(){var t,n;return ke(this,(function(i){return De.debug("init clients"),this.pinpointClient&&this._config.credentials&&this._config.credentials.sessionToken===e.sessionToken&&this._config.credentials.identityId===e.identityId?(De.debug("no change for aws credentials, directly return from init"),[2]):(t=this._config.credentials?this._config.credentials.identityId:null,this._config.credentials=e,n=this._config.region,De.debug("init clients with credentials",e),this.pinpointClient=new _e({region:n,credentials:e,customUserAgent:Object(r.getAmplifyUserAgent)()}),this._bufferExists()&&t===e.identityId?this._updateBufferClient():this._initBuffer(),this._customizePinpointClientReq(),[2])}))}))},e.prototype._bufferExists=function(){return this._buffer&&this._buffer instanceof Pe},e.prototype._initBuffer=function(){this._bufferExists()&&this._flushBuffer(),this._buffer=new Pe(this.pinpointClient,this._config),this._endpointGenerating&&this._buffer.pause()},e.prototype._updateBufferClient=function(){this._bufferExists()&&this._buffer.updateClient(this.pinpointClient)},e.prototype._flushBuffer=function(){this._bufferExists()&&(this._buffer.flush(),this._buffer=null)},e.prototype._resumeBuffer=function(){this._bufferExists()&&this._buffer.resume()},e.prototype._customizePinpointClientReq=function(){},e.prototype._getEndpointId=function(e){return Ce(this,void 0,void 0,(function(){var t;return ke(this,(function(n){switch(n.label){case 0:return[4,me.a.getItem(e)];case 1:return t=n.sent(),De.debug("endpointId from cache",t,"type",xe(t)),t||(t=Object(be.v1)(),me.a.setItem(e,t)),[2,t]}}))}))},e.prototype._endpointRequest=function(e,t){var n=e.credentials,i=this._clientInfo||{},o=e.clientContext||{},a=e.endpoint||{},s={appVersion:i.appVersion,make:i.make,model:i.model,modelVersion:i.version,platform:i.platform},u=(o.clientId,o.appTitle,o.appVersionName,o.appVersionCode,o.appPackageName,Me(o,["clientId","appTitle","appVersionName","appVersionCode","appPackageName"])),c=t.address?"android"===i.platform?"GCM":"APNS":void 0,f=Re(Re(Re({channelType:c,requestId:Object(be.v1)(),effectiveDate:(new Date).toISOString()},a),t),{attributes:Re(Re({},a.attributes),t.attributes),demographic:Re(Re(Re(Re({},s),u),a.demographic),t.demographic),location:Re(Re({},a.location),t.location),metrics:Re(Re({},a.metrics),t.metrics),user:{userId:t.userId||a.userId||n.identityId,userAttributes:Re(Re({},a.userAttributes),t.userAttributes)}}),l=(f.userId,f.userAttributes,f.name,f.session,f.eventId,f.immediate,Me(f,["userId","userAttributes","name","session","eventId","immediate"]));return r.JS.transferKeyToUpperCase(l,[],["metrics","userAttributes","attributes"])},e.prototype._eventError=function(e){De.error("record event failed.",e),De.warn('Please ensure you have updated your Pinpoint IAM Policy with the Action: "mobiletargeting:PutEvents" in order to record events')},e.prototype._getCredentials=function(){return Ce(this,void 0,void 0,(function(){var e,t;return ke(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,r.Credentials.get()];case 1:return(e=n.sent())?(De.debug("set credentials for analytics",e),[2,r.Credentials.shear(e)]):[2,null];case 2:return t=n.sent(),De.debug("ensure credentials error",t),[2,null];case 3:return[2]}}))}))},e.category="Analytics",e.providerName="AWSPinpoint",e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_RETRY_DELAY_BASE=100,t.MAXIMUM_RETRY_DELAY=2e4,t.RETRYABLE_STATUS_CODES=new Set,[429,500,502,503,504,509].forEach((function(e){return t.RETRYABLE_STATUS_CODES.add(e)})),t.THROTTLING_RETRY_DELAY_BASE=500},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={};t.locateWindow=function(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:n}},function(e,t,n){"use strict";n.d(t,"c",(function(){return r.a})),n.d(t,"b",(function(){return i.a})),n.d(t,"a",(function(){return o.a})),n.d(t,"d",(function(){return re}));var r=n(25),i=n(29),o=n(51),a=n(3),s=n(0),u=n(2),c=n(1);function f(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,u,c,f;return Object(s.__generator)(this,(function(l){switch(l.label){case 0:return r=[Object(s.__assign)({},e)],i={},[4,m(e.body,t)];case 1:switch(n=s.__assign.apply(void 0,r.concat([(i.body=l.sent(),i)])),a="UnknownError",a=b(e,n.body),a){case"InvalidInputException":case"com.amazonaws.services.personalize.events.exceptions#InvalidInputException":return[3,2]}return[3,4];case 2:return u=[{}],[4,h(n,t)];case 3:return o=s.__assign.apply(void 0,[s.__assign.apply(void 0,u.concat([l.sent()])),{name:a,$metadata:_(e)}]),[3,5];case 4:c=n.body,a=c.code||c.Code||a,o=Object(s.__assign)(Object(s.__assign)({},c),{name:""+a,message:c.message||c.Message||a,$fault:"client",$metadata:_(e)}),l.label=5;case 5:return f=o.message||o.Message||a,o.message=f,delete o.Message,[2,Promise.reject(Object.assign(new Error(f),o))]}}))}))}var l,d,p,h=function(e,t){return Object(s.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return Object(s.__generator)(this,(function(r){return t={name:"InvalidInputException",$fault:"client",$metadata:_(e),message:void 0},void 0!==(n=e.body).message&&null!==n.message&&(t.message=n.message),[2,t]}))}))},v=function(e,t){var n={};return void 0!==e.eventId&&(n.eventId=e.eventId),void 0!==e.eventType&&(n.eventType=e.eventType),void 0!==e.properties&&(n.properties=c.LazyJsonString.fromObject(e.properties)),void 0!==e.sentAt&&(n.sentAt=Math.round(e.sentAt.getTime()/1e3)),n},g=function(e,t){var n,r,i=[];try{for(var o=Object(s.__values)(e),a=o.next();!a.done;a=o.next()){var u=a.value;i.push(v(u))}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},_=function(e){return{httpStatusCode:e.statusCode,httpHeaders:e.headers,requestId:e.headers["x-amzn-requestid"]}},y=function(e,t){return e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},m=function(e,t){return function(e,t){return y(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},b=function(e,t){var n,r,i=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,r="x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()===r.toLowerCase()})));return void 0!==o?i(e.headers[o]):void 0!==t.code?i(t.code):void 0!==t.__type?i(t.__type):""},w=n(7),E=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(s.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(w.getSerdePlugin)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return function(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(s.__generator)(this,(function(o){return(n={})["Content-Type"]="application/json","/events",i={},void 0!==e.eventList&&(i.eventList=g(e.eventList,t)),void 0!==e.sessionId&&(i.sessionId=e.sessionId),void 0!==e.trackingId&&(i.trackingId=e.trackingId),void 0!==e.userId&&(i.userId=e.userId),r=JSON.stringify(i),[2,new u.HttpRequest(Object(s.__assign)(Object(s.__assign)({},t.endpoint),{protocol:"https",method:"POST",headers:n,path:"/events",body:r}))]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return 200!==e.statusCode&&e.statusCode>=400?[2,f(e,t)]:(n={$metadata:_(e)},[4,y(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(c.Command),O=n(13),S=n(17),A=n(18),j=n(19),I=n(20),P=n(21),x=n(5),R=n(14),C=n(22),k=n(33),M="personalize-events.{region}.amazonaws.com",T=new Set(["ap-south-1","eu-north-1","eu-west-3","eu-west-2","eu-west-1","ap-northeast-2","ap-northeast-1","me-south-1","ca-central-1","sa-east-1","ap-east-1","ap-southeast-1","ap-southeast-2","eu-central-1","us-east-1","us-east-2","us-west-1","us-west-2"]),U=new Set(["cn-north-1","cn-northwest-1"]),D=new Set(["us-iso-east-1"]),L=new Set(["us-isob-east-1"]),z=new Set(["us-gov-west-1","us-gov-east-1"]),B={apiVersion:"2018-03-22",disableHostPrefix:!1,signingName:"personalize",regionInfoProvider:function(e,t){var n=void 0;return T.has(e)&&(n={hostname:M.replace("{region}",e)}),U.has(e)&&(n={hostname:"personalize-events.{region}.amazonaws.com.cn".replace("{region}",e)}),D.has(e)&&(n={hostname:"personalize-events.{region}.c2s.ic.gov".replace("{region}",e)}),L.has(e)&&(n={hostname:"personalize-events.{region}.sc2s.sgov.gov".replace("{region}",e)}),z.has(e)&&(n={hostname:"personalize-events.{region}.amazonaws.com".replace("{region}",e)}),void 0===n&&(n={hostname:M.replace("{region}",e)}),Promise.resolve(n)}},N=Object(s.__assign)(Object(s.__assign)({},B),{requestHandler:new A.FetchHttpHandler,sha256:S.Sha256,urlParser:j.parseUrl,bodyLengthChecker:I.calculateBodyLength,streamCollector:P.streamCollector,base64Decoder:R.fromBase64,base64Encoder:R.toBase64,utf8Decoder:x.fromUtf8,utf8Encoder:x.toUtf8,defaultUserAgent:Object(C.defaultUserAgent)(k.a,k.b),runtime:"browser",credentialDefaultProvider:Object(O.invalidFunction)("Credential is missing"),regionDefaultProvider:Object(O.invalidFunction)("Region is missing")}),q=n(8),H=n(16),F=n(9),$=n(10),V=n(11),K=n(12),W=function(e){function t(t){var n=this,r=Object(s.__assign)(Object(s.__assign)({},N),t),i=Object(q.resolveRegionConfig)(r),o=Object(q.resolveEndpointsConfig)(i),a=Object(V.resolveAwsAuthConfig)(o),u=Object($.resolveRetryConfig)(a),c=Object(K.resolveUserAgentConfig)(u),f=Object(F.resolveHostHeaderConfig)(c);return(n=e.call(this,f)||this).config=f,n.middlewareStack.use(Object(V.getAwsAuthPlugin)(n.config)),n.middlewareStack.use(Object($.getRetryPlugin)(n.config)),n.middlewareStack.use(Object(K.getUserAgentPlugin)(n.config)),n.middlewareStack.use(Object(H.getContentLengthPlugin)(n.config)),n.middlewareStack.use(Object(F.getHostHeaderPlugin)(n.config)),n}return Object(s.__extends)(t,e),t.prototype.destroy=function(){},t}(c.Client),Y=n(4),G=n(6),J=n(23),Z=n.n(J),X=(new a.ConsoleLogger("AmazonPersonalizeProvider"),function(){function e(e){void 0===e&&(e=""),this._isBrowser=a.JS.browserOrNode().isBrowser,this._timerKey=Object(G.v1)().substr(0,15),this._refreshTimer()}return e.prototype._refreshTimer=function(){this._timer&&clearInterval(this._timer);var e=this;this._timer=setInterval((function(){e._timerKey=Object(G.v1)().substr(0,15)}),3e4)},e.prototype.storeValue=function(e,t){var n=new Date,r=new Date;r.setTime(n.getTime()+6048e5),Z.a.setItem(this._getCachePrefix(e),t,{expires:r.getTime()})},e.prototype.retrieveValue=function(e){return Z.a.getItem(this._getCachePrefix(e))},e.prototype._getCachePrefix=function(e){return this._isBrowser?e+"."+window.location.host:"peronslize"},e.prototype.getTimerKey=function(){return this._timerKey},e.prototype.updateSessionInfo=function(e,t){var n=t.userId,r=t.sessionId;if(this._isRequireNewSession(e,n,r)){var i=Object(G.v1)();this.storeValue("_awsct_uid",e),this.storeValue("_awsct_sid",i),t.sessionId=i}else this._isRequireUpdateSessionInfo(e,n,r)&&this.storeValue("_awsct_uid",e);t.userId=e},e.prototype._isRequireUpdateSessionInfo=function(e,t,n){return!Object(Y.isEmpty)(n)&&Object(Y.isEmpty)(t)&&!Object(Y.isEmpty)(e)},e.prototype.retrieveSessionInfo=function(e){var t={};return t.trackingId=e,t.sessionId=this.retrieveValue("_awsct_sid"),t.userId=this.retrieveValue("_awsct_uid"),Object(Y.isEmpty)(t.sessionId)&&(t.sessionId=Object(G.v1)(),this.storeValue("_awsct_sid",t.sessionId)),this.storeValue("_awsct",e),t},e.prototype._isRequireNewSession=function(e,t,n){var r=Object(Y.isEmpty)(n),i=Object(Y.isEmpty)(e)&&!Object(Y.isEmpty)(t),o=!Object(Y.isEmpty)(e)&&!Object(Y.isEmpty)(t)&&!Object(Y.isEqual)(e,t);return r||i||o},e}());!function(e){e.PLAY="play",e.PAUSE="pause",e.ENDED="Ended"}(l||(l={})),function(e){e.IFRAME="IFRAME",e.VIDEO="VIDEO",e.AUDIO="AUDIO"}(d||(d={})),function(e){e.PLAY="Play",e.ENDED="Ended",e.PAUSE="Pause",e.TIME_WATCHED="TimeWatched"}(p||(p={}));var Q=function(){function e(e,t){var n;this.eventActionMapping=((n={})[p.ENDED]=this.endedEventAction.bind(this),n[p.PLAY]=this.playEventAction.bind(this),n[p.PAUSE]=this.pauseEventAction.bind(this),n);var r=e.eventData;this._params=e,this._mediaElement=document.getElementById(r.properties.domElementId),this._started=!1,this._provider=t,{IFRAME:this._iframeMediaTracker,VIDEO:this._html5MediaTracker,AUDIO:this._html5MediaTracker}[this._mediaElement.tagName].bind(this)(),this._initYoutubeFrame()}return e.prototype._initYoutubeFrame=function(){this._youTubeIframeLoader={src:"https://www.youtube.com/iframe_api",loading:!1,loaded:!1,listeners:[],load:function(e){var t=this;if(this.listeners.push(e),this.loaded)setTimeout((function(){t.done()}));else if(!this.loading){this.loading=!0,window.onYouTubeIframeAPIReady=function(){t.loaded=!0,t.done()};var n=document.createElement("script");n.type="text/javascript",n.src=this.src,document.body.appendChild(n)}},done:function(){for(delete window.onYouTubeIframeAPIReady;this.listeners.length;)this.listeners.pop()(window.YT)}}},e.prototype._iframeMediaTracker=function(){var e=this;setInterval((function(){e._started&&e.recordEvent(d.IFRAME,p.TIME_WATCHED)}),3e3),this._youTubeIframeLoader.load((function(t){e._iframePlayer=new t.Player(e._mediaElement.id,{events:{onStateChange:e._onPlayerStateChange.bind(e)}})}))},e.prototype._onPlayerStateChange=function(e){var t={0:p.ENDED,1:p.PLAY,2:p.PAUSE}[e.data];t&&this.eventActionMapping[t](d.IFRAME)},e.prototype._html5MediaTracker=function(){var e=this;setInterval((function(){e._started&&e.recordEvent(d.VIDEO,p.TIME_WATCHED)}),3e3),this._mediaElement.addEventListener(l.PLAY,(function(){e.eventActionMapping[p.PLAY](d.VIDEO)}),!1),this._mediaElement.addEventListener(l.PAUSE,(function(){e.eventActionMapping[p.PAUSE](d.VIDEO)}),!1),this._mediaElement.addEventListener(l.ENDED,(function(){e.eventActionMapping[p.ENDED](d.VIDEO)}),!1)},e.prototype.playEventAction=function(e){this._started=!0,this.recordEvent(e,p.PLAY)},e.prototype.pauseEventAction=function(e){this._started=!1,this.recordEvent(e,p.PAUSE)},e.prototype.endedEventAction=function(e){this._started=!1,this.recordEvent(e,p.ENDED)},e.prototype.recordEvent=function(e,t){var n=Object.assign({},this._params),r=n.eventData;r.eventType=t,e===d.VIDEO?(r.properties.timestamp=this._mediaElement.currentTime,r.properties.duration=this._mediaElement.duration):(r.properties.timestamp=this._financial(this._iframePlayer.getCurrentTime()),r.properties.duration=this._financial(this._iframePlayer.getDuration()));var i=parseFloat(r.properties.timestamp)/parseFloat(r.properties.duration);r.properties.eventValue=Number(i.toFixed(4)),delete r.properties.domElementId,this._provider.putToBuffer(n)},e.prototype._financial=function(e){return Number.parseFloat(e).toFixed(4)},e}(),ee=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},te=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},ne=new a.ConsoleLogger("AmazonPersonalizeProvider"),re=function(){function e(e){this._buffer=[],this._config=e||{},this._config.flushSize=this._config.flushSize>0&&this._config.flushSize<=10?this._config.flushSize:5,this._config.flushInterval=this._config.flushInterval||5e3,this._sessionManager=new X,Object(Y.isEmpty)(this._config.trackingId)||(this._sessionInfo=this._sessionManager.retrieveSessionInfo(this._config.trackingId)),this._isBrowser=a.JS.browserOrNode().isBrowser,this._setupTimer()}return e.prototype._setupTimer=function(){this._timer&&clearInterval(this._timer);var e=this._config.flushInterval,t=this;this._timer=setInterval((function(){t._sendFromBuffer()}),e)},e.prototype.record=function(e){return ee(this,void 0,void 0,(function(){var t,n,r,i,o;return te(this,(function(a){switch(a.label){case 0:return[4,this._getCredentials()];case 1:return(t=a.sent())?(Object.assign(e,{config:this._config,credentials:t,sentAt:new Date}),n=e.event,r=n.eventType,i=n.properties,"Identify"===r?(this._sessionManager.updateSessionInfo(i&&i.userId?i.userId:"",this._sessionInfo),[2]):(Object(Y.isEmpty)(e.event.userId)||this._sessionManager.updateSessionInfo(e.event.userId,this._sessionInfo),o=this.generateRequestParams(e,this._sessionInfo),"MediaAutoTrack"!==r?[3,7]:this._isBrowser?Object(Y.isEmpty)(Object(Y.get)(o,"eventData.properties.domElementId",null))?[3,3]:[4,this.isElementFullyLoaded(this.loadElement,o.eventData.properties.domElementId,500,5)]:[3,5])):[2,Promise.resolve(!1)];case 2:return a.sent()?new Q(o,this):ne.debug("Cannot find the media element."),[3,4];case 3:ne.debug("Missing domElementId field in 'properties' for MediaAutoTrack event type."),a.label=4;case 4:return[3,6];case 5:ne.debug("MediaAutoTrack only for browser"),a.label=6;case 6:return[2];case 7:return[2,this.putToBuffer(o)]}}))}))},e.prototype.loadElement=function(e){return new Promise((function(t,n){return document.getElementById(e)&&document.getElementById(e).clientHeight?t(!0):n(!0)}))},e.prototype.isElementFullyLoaded=function(e,t,n,r){var i=this;return new Promise((function(o,a){return e(t).then(o).catch((function(s){return r-1>0?(u=n,new Promise((function(e){return setTimeout(e,u)}))).then(i.isElementFullyLoaded.bind(null,e,t,n,r-1)).then(o).catch(a):a(s);var u}))}))},e.prototype.getCategory=function(){return"Analytics"},e.prototype.getProviderName=function(){return"AmazonPersonalize"},e.prototype.configure=function(e){ne.debug("configure Analytics",e);var t=e||{};return this._config=Object.assign({},this._config,t),Object(Y.isEmpty)(this._config.trackingId)||(this._sessionInfo=this._sessionManager.retrieveSessionInfo(this._config.trackingId)),this._setupTimer(),this._config},e.prototype.generateRequestParams=function(e,t){var n={},r=e.event,i=r.eventType,o=r.properties;return n.eventData={eventType:i,properties:o},n.sessionInfo=t,n.sentAt=e.sentAt,n.credentials=e.credentials,n.config=e.config,n},e.prototype._sendEvents=function(e){var t=e.length;if(0!==t){var n=e[0],r=n.config,i=n.credentials,o=n.sessionInfo;if(!this._init(r,i))return!1;if(t>0){for(var a=[],s=0;s<t;s+=1){var u=e.shift(),c=this._generateSingleRecordPayload(u,o);a.push(c)}var f={};f.trackingId=o.trackingId,f.sessionId=o.sessionId,f.userId=o.userId,f.eventList=[],a.forEach((function(e){f.eventList.push(e)}));var l=new E(f);this._personalize.send(l,(function(e){e?ne.debug("Failed to call putEvents in Personalize",e):ne.debug("Put events")}))}}else ne.debug("events array is empty, directly return")},e.prototype.putToBuffer=function(e){return this._buffer.length<this._config.flushSize?this._buffer.push(e):(this._buffer.push(e),this._sendFromBuffer()),Promise.resolve(!0)},e.prototype._sendFromBuffer=function(){var e=this,t=this._buffer.length;if(!(t<=0)){for(var n=[],r=null,i=[],o=0;o<t;o+=1){var a=this._buffer.shift(),s=a.credentials,u=a.sessionInfo;0===o?(i.push(a),r=s):Object(Y.isEqual)(u,this._sessionInfo)&&s.sessionToken===r.sessionToken&&s.identityId===r.identityId?(ne.debug("no change for cred, put event in the same group"),i.push(a)):(n.push(i),(i=[]).push(a),r=s,this._sessionInfo=u)}n.push(i),n.map((function(t){e._sendEvents(t)}))}},e.prototype._generateSingleRecordPayload=function(e,t){var n=e.eventData,r=e.sentAt,i={};return i.sentAt=r,i.properties=n.properties&&JSON.stringify(n.properties),i.eventId=this._sessionManager.getTimerKey()+t.sessionId,i.eventType=n.eventType,i},e.prototype._init=function(e,t){if(ne.debug("init clients"),this._personalize&&this._config.credentials&&this._config.credentials.sessionToken===t.sessionToken&&this._config.credentials.identityId===t.identityId)return ne.debug("no change for analytics config, directly return from init"),!0;this._config.credentials=t;var n=e.region;return ne.debug("initialize personalize with credentials",t),this._personalize=new W({region:n,credentials:t,customUserAgent:Object(a.getAmplifyUserAgent)()}),!0},e.prototype._getCredentials=function(){var e=this;return a.Credentials.get().then((function(t){return t?(ne.debug("set credentials for analytics",e._config.credentials),a.Credentials.shear(t)):null})).catch((function(e){return ne.debug("ensure credentials error",e),null}))},e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return pe}));var r=n(3),i=n(0),o=n(2);function a(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a,g,_,y,m,b,w,E,O,S,A,j,I,P;return Object(i.__generator)(this,(function(x){switch(x.label){case 0:return r=[Object(i.__assign)({},e)],o={},[4,M(e.body,t)];case 1:switch(n=i.__assign.apply(void 0,r.concat([(o.body=x.sent(),o)])),g="UnknownError",_=n.body.__type.split("#"),g=void 0===_[1]?_[0]:_[1],g){case"InvalidArgumentException":case"com.amazonaws.kinesis.v20131202#InvalidArgumentException":return[3,2];case"KMSAccessDeniedException":case"com.amazonaws.kinesis.v20131202#KMSAccessDeniedException":return[3,4];case"KMSDisabledException":case"com.amazonaws.kinesis.v20131202#KMSDisabledException":return[3,6];case"KMSInvalidStateException":case"com.amazonaws.kinesis.v20131202#KMSInvalidStateException":return[3,8];case"KMSNotFoundException":case"com.amazonaws.kinesis.v20131202#KMSNotFoundException":return[3,10];case"KMSOptInRequired":case"com.amazonaws.kinesis.v20131202#KMSOptInRequired":return[3,12];case"KMSThrottlingException":case"com.amazonaws.kinesis.v20131202#KMSThrottlingException":return[3,14];case"ProvisionedThroughputExceededException":case"com.amazonaws.kinesis.v20131202#ProvisionedThroughputExceededException":return[3,16];case"ResourceNotFoundException":case"com.amazonaws.kinesis.v20131202#ResourceNotFoundException":return[3,18]}return[3,20];case 2:return y=[{}],[4,s(n,t)];case 3:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,y.concat([x.sent()])),{name:g,$metadata:R(e)}]),[3,21];case 4:return m=[{}],[4,u(n,t)];case 5:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,m.concat([x.sent()])),{name:g,$metadata:R(e)}]),[3,21];case 6:return b=[{}],[4,c(n,t)];case 7:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,b.concat([x.sent()])),{name:g,$metadata:R(e)}]),[3,21];case 8:return w=[{}],[4,f(n,t)];case 9:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,w.concat([x.sent()])),{name:g,$metadata:R(e)}]),[3,21];case 10:return E=[{}],[4,l(n,t)];case 11:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,E.concat([x.sent()])),{name:g,$metadata:R(e)}]),[3,21];case 12:return O=[{}],[4,d(n,t)];case 13:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,O.concat([x.sent()])),{name:g,$metadata:R(e)}]),[3,21];case 14:return S=[{}],[4,p(n,t)];case 15:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,S.concat([x.sent()])),{name:g,$metadata:R(e)}]),[3,21];case 16:return A=[{}],[4,h(n,t)];case 17:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,A.concat([x.sent()])),{name:g,$metadata:R(e)}]),[3,21];case 18:return j=[{}],[4,v(n,t)];case 19:return a=i.__assign.apply(void 0,[i.__assign.apply(void 0,j.concat([x.sent()])),{name:g,$metadata:R(e)}]),[3,21];case 20:I=n.body,g=I.code||I.Code||g,a=Object(i.__assign)(Object(i.__assign)({},I),{name:""+g,message:I.message||I.Message||g,$fault:"client",$metadata:R(e)}),x.label=21;case 21:return P=a.message||a.Message||g,a.message=P,delete a.Message,[2,Promise.reject(Object.assign(new Error(P),a))]}}))}))}var s=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(o){return n=e.body,r=m(n,t),[2,Object(i.__assign)({name:"InvalidArgumentException",$fault:"client",$metadata:R(e)},r)]}))}))},u=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(o){return n=e.body,r=b(n,t),[2,Object(i.__assign)({name:"KMSAccessDeniedException",$fault:"client",$metadata:R(e)},r)]}))}))},c=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(o){return n=e.body,r=w(n,t),[2,Object(i.__assign)({name:"KMSDisabledException",$fault:"client",$metadata:R(e)},r)]}))}))},f=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(o){return n=e.body,r=E(n,t),[2,Object(i.__assign)({name:"KMSInvalidStateException",$fault:"client",$metadata:R(e)},r)]}))}))},l=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(o){return n=e.body,r=O(n,t),[2,Object(i.__assign)({name:"KMSNotFoundException",$fault:"client",$metadata:R(e)},r)]}))}))},d=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(o){return n=e.body,r=S(n,t),[2,Object(i.__assign)({name:"KMSOptInRequired",$fault:"client",$metadata:R(e)},r)]}))}))},p=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(o){return n=e.body,r=A(n,t),[2,Object(i.__assign)({name:"KMSThrottlingException",$fault:"client",$metadata:R(e)},r)]}))}))},h=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(o){return n=e.body,r=j(n,t),[2,Object(i.__assign)({name:"ProvisionedThroughputExceededException",$fault:"client",$metadata:R(e)},r)]}))}))},v=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(o){return n=e.body,r=x(n,t),[2,Object(i.__assign)({name:"ResourceNotFoundException",$fault:"client",$metadata:R(e)},r)]}))}))},g=function(e,t){var n={};return void 0!==e.Records&&(n.Records=y(e.Records,t)),void 0!==e.StreamName&&(n.StreamName=e.StreamName),n},_=function(e,t){var n={};return void 0!==e.Data&&(n.Data=t.base64Encoder(e.Data)),void 0!==e.ExplicitHashKey&&(n.ExplicitHashKey=e.ExplicitHashKey),void 0!==e.PartitionKey&&(n.PartitionKey=e.PartitionKey),n},y=function(e,t){var n,r,o=[];try{for(var a=Object(i.__values)(e),s=a.next();!s.done;s=a.next()){var u=s.value;o.push(_(u,t))}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o},m=function(e,t){var n={__type:"InvalidArgumentException",message:void 0};return void 0!==e.message&&null!==e.message&&(n.message=e.message),n},b=function(e,t){var n={__type:"KMSAccessDeniedException",message:void 0};return void 0!==e.message&&null!==e.message&&(n.message=e.message),n},w=function(e,t){var n={__type:"KMSDisabledException",message:void 0};return void 0!==e.message&&null!==e.message&&(n.message=e.message),n},E=function(e,t){var n={__type:"KMSInvalidStateException",message:void 0};return void 0!==e.message&&null!==e.message&&(n.message=e.message),n},O=function(e,t){var n={__type:"KMSNotFoundException",message:void 0};return void 0!==e.message&&null!==e.message&&(n.message=e.message),n},S=function(e,t){var n={__type:"KMSOptInRequired",message:void 0};return void 0!==e.message&&null!==e.message&&(n.message=e.message),n},A=function(e,t){var n={__type:"KMSThrottlingException",message:void 0};return void 0!==e.message&&null!==e.message&&(n.message=e.message),n},j=function(e,t){var n={__type:"ProvisionedThroughputExceededException",message:void 0};return void 0!==e.message&&null!==e.message&&(n.message=e.message),n},I=function(e,t){var n={__type:"PutRecordsOutput",EncryptionType:void 0,FailedRecordCount:void 0,Records:void 0};return void 0!==e.EncryptionType&&null!==e.EncryptionType&&(n.EncryptionType=e.EncryptionType),void 0!==e.FailedRecordCount&&null!==e.FailedRecordCount&&(n.FailedRecordCount=e.FailedRecordCount),void 0!==e.Records&&null!==e.Records&&(n.Records=P(e.Records,t)),n},P=function(e,t){return(e||[]).map((function(e){return function(e,t){var n={__type:"PutRecordsResultEntry",ErrorCode:void 0,ErrorMessage:void 0,SequenceNumber:void 0,ShardId:void 0};return void 0!==e.ErrorCode&&null!==e.ErrorCode&&(n.ErrorCode=e.ErrorCode),void 0!==e.ErrorMessage&&null!==e.ErrorMessage&&(n.ErrorMessage=e.ErrorMessage),void 0!==e.SequenceNumber&&null!==e.SequenceNumber&&(n.SequenceNumber=e.SequenceNumber),void 0!==e.ShardId&&null!==e.ShardId&&(n.ShardId=e.ShardId),n}(e)}))},x=function(e,t){var n={__type:"ResourceNotFoundException",message:void 0};return void 0!==e.message&&null!==e.message&&(n.message=e.message),n},R=function(e){return{httpStatusCode:e.statusCode,httpHeaders:e.headers,requestId:e.headers["x-amzn-requestid"]}},C=function(e,t){return e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},k=function(e,t,n,r,a){var s=Object(i.__assign)(Object(i.__assign)({},e.endpoint),{protocol:"https",method:"POST",path:n,headers:t});return void 0!==r&&(s.hostname=r),void 0!==a&&(s.body=a),new o.HttpRequest(s)},M=function(e,t){return function(e,t){return C(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},T=n(7),U=n(1),D=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(i.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(T.getSerdePlugin)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(i){return(n={})["Content-Type"]="application/x-amz-json-1.1",n["X-Amz-Target"]="Kinesis_20131202.PutRecords",r=JSON.stringify(g(e,t)),[2,k(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r,o;return Object(i.__generator)(this,(function(s){switch(s.label){case 0:return e.statusCode>=400?[2,a(e,t)]:[4,M(e.body,t)];case 1:return n=s.sent(),{},r=I(n,t),o=Object(i.__assign)({$metadata:R(e),__type:"PutRecordsOutput"},r),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(U.Command),L=n(55);var z=function(){function e(e){var t=e.utf8Encoder,n=e.utf8Decoder;this.eventMarshaller=new L.EventStreamMarshaller(t,n)}return e.prototype.deserialize=function(e,t){var n,r,o,a,s,u;return function(e){return Object(i.__asyncGenerator)(this,arguments,(function(){var t,n,r,o,a;return Object(i.__generator)(this,(function(s){switch(s.label){case 0:t=e.getReader(),n=!1,s.label=1;case 1:return n?[3,6]:[4,Object(i.__await)(t.read())];case 2:return r=s.sent(),o=r.done,a=r.value,o?(n=!0,[3,6]):a?[4,Object(i.__await)(a)]:[3,5];case 3:return[4,s.sent()];case 4:s.sent(),s.label=5;case 5:return[3,1];case 6:return[2]}}))}))}(function(e,t){var n=e.getReader();return new ReadableStream({start:function(e){!function r(){var o=this;n.read().then((function(n){var a=n.done,s=n.value;return Object(i.__awaiter)(o,void 0,void 0,(function(){var n,o,u;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(a)return e.close(),[2];i.label=1;case 1:return i.trys.push([1,3,,4]),o=(n=e).enqueue,[4,t(s)];case 2:return o.apply(n,[i.sent()]),r(),[3,4];case 3:return u=i.sent(),e.error(u),[3,4];case 4:return[2]}}))}))}))}()}})}(function(e,t){var n=e.getReader();return new ReadableStream({start:function(e){!function r(){n.read().then((function(n){var i,o,a=n.done,s=n.value;if(a)e.close();else{var u=t.unmarshall(s),c=u.headers[":message-type"].value;if("error"===c){var f=new Error(u.headers[":error-message"].value||"UnknownError");f.name=u.headers[":error-code"].value,e.error(f)}else"exception"===c?e.enqueue(((i={})[u.headers[":exception-type"].value]=u,i)):"event"===c?e.enqueue(((o={})[u.headers[":event-type"].value]=u,o)):e.error(new Error("Unrecognizable event type: "+u.headers[":event-type"].value));r()}}))}()}})}((n=e.getReader(),r=0,o=0,a=null,s=null,u=function(e){if("number"!=typeof e)throw new Error("Attempted to allocate an event message where size was not a number: "+e);r=e,o=4,a=new Uint8Array(e),new DataView(a.buffer).setUint32(0,e,!1)},new ReadableStream({start:function(e){!function t(){return n.read().then((function(n){var i=n.done,c=n.value;if(i){if(r){if(r!==o)throw new Error("Truncated event message received.");e.enqueue(a)}e.close()}else{for(var f=c.length,l=0;l<f;){if(!a){var d=f-l;s||(s=new Uint8Array(4));var p=Math.min(4-o,d);if(s.set(c.slice(l,l+p),o),l+=p,(o+=p)<4)break;u(new DataView(s.buffer).getUint32(0,!1)),s=null}var h=Math.min(r-o,f-l);a.set(c.slice(l,l+h),o),o+=h,l+=h,r&&r===o&&(e.enqueue(a),a=null,r=0,o=0)}t()}}))}()}})),this.eventMarshaller),t))},e.prototype.serialize=function(e,t){throw new Error("event stream request in browser is not supported\nReference: https://bugs.chromium.org/p/chromium/issues/detail?id=688906")},e}(),B=n(13),N=n(17),q=n(18),H=n(19),F=n(20),$=n(21),V=n(5),K=n(14),W=n(22),Y=n(31),G=new Set(["ap-south-1","eu-north-1","eu-west-3","eu-west-2","eu-west-1","ap-northeast-2","ap-northeast-1","me-south-1","ca-central-1","sa-east-1","ap-east-1","ap-southeast-1","ap-southeast-2","eu-central-1","us-east-1","us-east-2","us-west-1","us-west-2"]),J=new Set(["cn-north-1","cn-northwest-1"]),Z=new Set(["us-iso-east-1"]),X=new Set(["us-isob-east-1"]),Q=new Set(["us-gov-west-1","us-gov-east-1"]),ee={apiVersion:"2013-12-02",disableHostPrefix:!1,signingName:"kinesis",regionInfoProvider:function(e,t){var n=void 0;switch(e){case"ap-east-1":n={hostname:"kinesis.ap-east-1.amazonaws.com"};break;case"ap-northeast-1":n={hostname:"kinesis.ap-northeast-1.amazonaws.com"};break;case"ap-northeast-2":n={hostname:"kinesis.ap-northeast-2.amazonaws.com"};break;case"ap-south-1":n={hostname:"kinesis.ap-south-1.amazonaws.com"};break;case"ap-southeast-1":n={hostname:"kinesis.ap-southeast-1.amazonaws.com"};break;case"ap-southeast-2":n={hostname:"kinesis.ap-southeast-2.amazonaws.com"};break;case"ca-central-1":n={hostname:"kinesis.ca-central-1.amazonaws.com"};break;case"cn-north-1":n={hostname:"kinesis.cn-north-1.amazonaws.com.cn"};break;case"cn-northwest-1":n={hostname:"kinesis.cn-northwest-1.amazonaws.com.cn"};break;case"eu-central-1":n={hostname:"kinesis.eu-central-1.amazonaws.com"};break;case"eu-north-1":n={hostname:"kinesis.eu-north-1.amazonaws.com"};break;case"eu-west-1":n={hostname:"kinesis.eu-west-1.amazonaws.com"};break;case"eu-west-2":n={hostname:"kinesis.eu-west-2.amazonaws.com"};break;case"eu-west-3":n={hostname:"kinesis.eu-west-3.amazonaws.com"};break;case"me-south-1":n={hostname:"kinesis.me-south-1.amazonaws.com"};break;case"sa-east-1":n={hostname:"kinesis.sa-east-1.amazonaws.com"};break;case"us-east-1":n={hostname:"kinesis.us-east-1.amazonaws.com"};break;case"us-east-2":n={hostname:"kinesis.us-east-2.amazonaws.com"};break;case"us-gov-east-1":n={hostname:"kinesis.us-gov-east-1.amazonaws.com"};break;case"us-gov-west-1":n={hostname:"kinesis.us-gov-west-1.amazonaws.com"};break;case"us-iso-east-1":n={hostname:"kinesis.us-iso-east-1.c2s.ic.gov"};break;case"us-isob-east-1":n={hostname:"kinesis.us-isob-east-1.sc2s.sgov.gov"};break;case"us-west-1":n={hostname:"kinesis.us-west-1.amazonaws.com"};break;case"us-west-2":n={hostname:"kinesis.us-west-2.amazonaws.com"};break;default:G.has(e)&&(n={hostname:"kinesis.{region}.amazonaws.com".replace("{region}",e)}),J.has(e)&&(n={hostname:"kinesis.{region}.amazonaws.com.cn".replace("{region}",e)}),Z.has(e)&&(n={hostname:"kinesis.{region}.c2s.ic.gov".replace("{region}",e)}),X.has(e)&&(n={hostname:"kinesis.{region}.sc2s.sgov.gov".replace("{region}",e)}),Q.has(e)&&(n={hostname:"kinesis.{region}.amazonaws.com".replace("{region}",e)}),void 0===n&&(n={hostname:"kinesis.{region}.amazonaws.com".replace("{region}",e)})}return Promise.resolve(n)}},te=Object(i.__assign)(Object(i.__assign)({},ee),{requestHandler:new q.FetchHttpHandler,sha256:N.Sha256,urlParser:H.parseUrl,bodyLengthChecker:F.calculateBodyLength,streamCollector:$.streamCollector,base64Decoder:K.fromBase64,base64Encoder:K.toBase64,utf8Decoder:V.fromUtf8,utf8Encoder:V.toUtf8,defaultUserAgent:Object(W.defaultUserAgent)(Y.a,Y.b),runtime:"browser",credentialDefaultProvider:Object(B.invalidFunction)("Credential is missing"),regionDefaultProvider:Object(B.invalidFunction)("Region is missing"),eventStreamSerdeProvider:function(e){return new z(e)}}),ne=n(8),re=n(54),ie=n(16),oe=n(9),ae=n(10),se=n(11),ue=n(12),ce=function(e){function t(t){var n=this,r=Object(i.__assign)(Object(i.__assign)({},te),t),o=Object(ne.resolveRegionConfig)(r),a=Object(ne.resolveEndpointsConfig)(o),s=Object(se.resolveAwsAuthConfig)(a),u=Object(ae.resolveRetryConfig)(s),c=Object(ue.resolveUserAgentConfig)(u),f=Object(oe.resolveHostHeaderConfig)(c),l=Object(re.resolveEventStreamSerdeConfig)(f);return(n=e.call(this,l)||this).config=l,n.middlewareStack.use(Object(se.getAwsAuthPlugin)(n.config)),n.middlewareStack.use(Object(ae.getRetryPlugin)(n.config)),n.middlewareStack.use(Object(ue.getUserAgentPlugin)(n.config)),n.middlewareStack.use(Object(ie.getContentLengthPlugin)(n.config)),n.middlewareStack.use(Object(oe.getHostHeaderPlugin)(n.config)),n}return Object(i.__extends)(t,e),t.prototype.destroy=function(){},t}(U.Client),fe=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},le=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},de=new r.ConsoleLogger("AWSKinesisProvider"),pe=function(){function e(e){this._buffer=[],this._config=e||{},this._config.bufferSize=this._config.bufferSize||1e3,this._config.flushSize=this._config.flushSize||100,this._config.flushInterval=this._config.flushInterval||5e3,this._config.resendLimit=this._config.resendLimit||5,this._setupTimer()}return e.prototype._setupTimer=function(){var e=this;this._timer&&clearInterval(this._timer);var t=this._config,n=t.flushSize,r=t.flushInterval;this._timer=setInterval((function(){for(var t=e._buffer.length<n?e._buffer.length:n,r=[],i=0;i<t;i+=1){var o=e._buffer.shift();r.push(o)}e._sendFromBuffer(r)}),r)},e.prototype.getCategory=function(){return"Analytics"},e.prototype.getProviderName=function(){return"AWSKinesis"},e.prototype.configure=function(e){de.debug("configure Analytics",e);var t=e||{};return this._config=Object.assign({},this._config,t),this._setupTimer(),this._config},e.prototype.record=function(e){return fe(this,void 0,void 0,(function(){var t;return le(this,(function(n){switch(n.label){case 0:return[4,this._getCredentials()];case 1:return(t=n.sent())?(Object.assign(e,{config:this._config,credentials:t}),[2,this._putToBuffer(e)]):[2,Promise.resolve(!1)]}}))}))},e.prototype.updateEndpoint=function(){return de.debug("updateEndpoint is not implemented in Kinesis provider"),Promise.resolve(!0)},e.prototype._putToBuffer=function(e){return this._buffer.length<1e3?(this._buffer.push(e),Promise.resolve(!0)):(de.debug("exceed analytics events buffer size"),Promise.reject(!1))},e.prototype._sendFromBuffer=function(e){for(var t=this,n=[],r=null,i=[],o=0;o<e.length;o+=1){var a=e[o].credentials;0===o?(i.push(e[o]),r=a):a.sessionToken===r.sessionToken&&a.identityId===r.identityId?(de.debug("no change for cred, put event in the same group"),i.push(e[o])):(n.push(i),(i=[]).push(e[o]),r=a)}n.push(i),n.map((function(e){t._sendEvents(e)}))},e.prototype._sendEvents=function(e){var t=this;if(0!==e.length){var n=e[0],r=n.config,i=n.credentials;if(!this._init(r,i))return!1;var o={};e.map((function(e){var t=e.event,n=t.streamName;void 0===o[n]&&(o[n]=[]);var r={Data:JSON.stringify(t.data),PartitionKey:t.partitionKey||"partition-"+i.identityId};o[n].push(r)})),Object.keys(o).map((function(e){return fe(t,void 0,void 0,(function(){var t,n;return le(this,(function(r){switch(r.label){case 0:de.debug("putting records to kinesis with records",o[e]),r.label=1;case 1:return r.trys.push([1,3,,4]),t=new D({Records:o[e],StreamName:e}),[4,this._kinesis.send(t)];case 2:return r.sent(),de.debug("Upload records to stream",e),[3,4];case 3:return n=r.sent(),de.debug("Failed to upload records to Kinesis",n),[3,4];case 4:return[2]}}))}))}))}},e.prototype._init=function(e,t){if(de.debug("init clients"),this._kinesis&&this._config.credentials&&this._config.credentials.sessionToken===t.sessionToken&&this._config.credentials.identityId===t.identityId)return de.debug("no change for analytics config, directly return from init"),!0;this._config.credentials=t;var n=e.region;return this._initKinesis(n,t)},e.prototype._initKinesis=function(e,t){return de.debug("initialize kinesis with credentials",t),this._kinesis=new ce({region:e,credentials:t,customUserAgent:Object(r.getAmplifyUserAgent)()}),!0},e.prototype._getCredentials=function(){var e=this;return r.Credentials.get().then((function(t){return t?(de.debug("set credentials for analytics",e._config.credentials),r.Credentials.shear(t)):null})).catch((function(e){return de.debug("ensure credentials error",e),null}))},e}()},function(e){e.exports=JSON.parse('{"a":"@aws-sdk/client-pinpoint","b":"1.0.0-beta.3"}')},function(e){e.exports=JSON.parse('{"a":"@aws-sdk/client-kinesis","b":"1.0.0-beta.3"}')},function(e){e.exports=JSON.parse('{"a":"@aws-sdk/client-firehose","b":"1.0.0-beta.3"}')},function(e){e.exports=JSON.parse('{"a":"@aws-sdk/client-personalize-events","b":"1.0.0-beta.3"}')},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.deserializerMiddleware=function(e,t){return n=>i=>r.__awaiter(this,void 0,void 0,(function*(){const{response:r}=yield n(i);return{response:r,output:yield t(r,e)}}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.serializerMiddleware=function(e,t){return n=>i=>r.__awaiter(this,void 0,void 0,(function*(){const r=Object.assign(Object.assign({},e),{endpoint:yield e.endpoint()}),o=yield t(i.input,r);return n(Object.assign(Object.assign({},i),{request:o}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(0).__exportStar(n(61),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(26),o=n(40),a=n(41),s=n(42),u=function(){function e(e,t,n){void 0===t&&(t=a.defaultRetryDecider),void 0===n&&(n=o.defaultDelayDecider),this.maxRetries=e,this.retryDecider=t,this.delayDecider=n}return e.prototype.shouldRetry=function(e,t){return t<this.maxRetries&&this.retryDecider(e)},e.prototype.retry=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,o,a,u,c;return r.__generator(this,(function(f){switch(f.label){case 0:n=0,o=0,a=function(){var a,c,f,l,d;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,5]),[4,e(t)];case 1:return a=r.sent(),c=a.response,(f=a.output).$metadata.retries=n,f.$metadata.totalRetryDelay=o,[2,{value:{response:c,output:f}}];case 2:return l=r.sent(),u.shouldRetry(l,n)?(d=u.delayDecider(s.isThrottlingError(l)?i.THROTTLING_RETRY_DELAY_BASE:i.DEFAULT_RETRY_DELAY_BASE,n++),o+=d,[4,new Promise((function(e){return setTimeout(e,d)}))]):[3,4];case 3:return r.sent(),[2,"continue"];case 4:throw l.$metadata||(l.$metadata={}),l.$metadata.retries=n,l.$metadata.totalRetryDelay=o,l;case 5:return[2]}}))},u=this,f.label=1;case 1:return[5,a()];case 2:return"object"==typeof(c=f.sent())?[2,c.value]:[3,1];case 3:return[2]}}))}))},e}();t.ExponentialBackOffStrategy=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(26);t.defaultDelayDecider=function(e,t){return Math.floor(Math.min(r.MAXIMUM_RETRY_DELAY,Math.random()*Math.pow(2,t)*e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(26),i=n(42);t.defaultRetryDecider=function(e){return!!e&&(!!e.connectionError||(!!(function(e){return null==e?void 0:e.$metadata}(e)&&e.$metadata.httpStatusCode&&r.RETRYABLE_STATUS_CODES.has(e.$metadata.httpStatusCode))||(i.isStillProcessingError(e)||i.isThrottlingError(e)||i.isClockSkewError(e))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(74);t.isClockSkewError=function(e){return e.name in r.CLOCK_SKEW_ERROR_CODES},t.isStillProcessingError=function(e){return e.name in r.STILL_PROCESSING_ERROR_CODES},t.isThrottlingError=function(e){return e.name in r.THROTTLING_ERROR_CODES}},function(e,t,n){"use strict";function r(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}Object.defineProperty(t,"__esModule",{value:!0}),t.escapeUri=function(e){var t=encodeURIComponent(e);return t=t.replace(/[!'()*]/g,r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(45),i=n(46),o=n(5),a=n(27),s=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=a.locateWindow().msCrypto.subtle.importKey("raw",u(e),i.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n("ImportKey completed without importing key.")},r.onerror=function(){n("ImportKey failed to import key.")}}))}(e).then((function(e){return a.locateWindow().msCrypto.subtle.sign(i.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve(a.locateWindow().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;r.isEmptyData(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(u(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n("Error encountered finalizing hash")},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n("Error encountered finalizing hash")},e.finish()}))}))},e}();function u(e){return"string"==typeof e?o.fromUtf8(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(45),o=n(46),a=n(27),s=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){a.locateWindow().crypto.subtle.importKey("raw",u(e),o.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!i.isEmptyData(e)){var t=u(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return a.locateWindow().crypto.subtle.sign(o.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):i.isEmptyData(this.toHash)?Promise.resolve(o.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return a.locateWindow().crypto.subtle.digest(o.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();function u(e){return"string"==typeof e?r.fromUtf8(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(15),i=function(){function e(e){if(this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}return e.fromNumber=function(t){if(t>0x8000000000000000||t<-0x8000000000000000)throw new Error(t+" is too large (or, if negative, too small) to represent as an Int64");for(var n=new Uint8Array(8),r=7,i=Math.abs(Math.round(t));r>-1&&i>0;r--,i/=256)n[r]=i;return t<0&&o(n),new e(n)},e.prototype.valueOf=function(){var e=this.bytes.slice(0),t=128&e[0];return t&&o(e),parseInt(r.toHex(e),16)*(t?-1:1)},e.prototype.toString=function(){return String(this.valueOf())},e}();function o(e){for(var t=0;t<8;t++)e[t]^=255;for(t=7;t>-1&&(e[t]++,0===e[t]);t--);}t.Int64=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.crc32=function(e){return(new i).update(e).digest()};var i=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(e){var t,n;try{for(var i=r.__values(e),a=i.next();!a.done;a=i.next()){var s=a.value;this.checksum=this.checksum>>>8^o[255&(this.checksum^s)]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(4294967295^this.checksum)>>>0},e}();t.Crc32=i;var o=Uint32Array.from([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117])},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r,i=n(3),o=n(29),a=n(106),s=n(105),u=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=new i.ConsoleLogger("AWSKineisFirehoseProvider"),f=function(t){function n(e){return t.call(this,e)||this}return u(n,t),n.prototype.getProviderName=function(){return"AWSKinesisFirehose"},n.prototype._sendEvents=function(t){var n=this;if(0!==t.length){var r=t[0],i=r.config,o=r.credentials;if(!this._init(i,o))return!1;var s={};t.map((function(t){var n=t.event,r=n.streamName,i=n.data;void 0===s[r]&&(s[r]=[]);var o=i&&"string"!=typeof i?JSON.stringify(i):i,a={Data:e.from(o)};s[r].push(a)})),Object.keys(s).map((function(e){c.debug("putting records to kinesis",e,"with records",s[e]),n._kinesisFirehose.send(new a.a({Records:s[e],DeliveryStreamName:e})).then((function(t){return c.debug("Upload records to stream",e)})).catch((function(e){return c.debug("Failed to upload records to Kinesis",e)}))}))}},n.prototype._init=function(e,t){if(c.debug("init clients"),this._kinesisFirehose&&this._config.credentials&&this._config.credentials.sessionToken===t.sessionToken&&this._config.credentials.identityId===t.identityId)return c.debug("no change for analytics config, directly return from init"),!0;this._config.credentials=t;var n=e.region;return this._initFirehose(n,t)},n.prototype._initFirehose=function(e,t){return c.debug("initialize kinesis firehose with credentials",t),this._kinesisFirehose=new s.a({apiVersion:"2015-08-04",region:e,credentials:t}),!0},n}(o.a)}).call(this,n(98).Buffer)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isArrayBuffer=function(e){return"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveEventStreamSerdeConfig=function(e){return Object.assign(Object.assign({},e),{eventStreamMarshaller:e.eventStreamSerdeProvider(Object.assign({},e))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);r.__exportStar(n(95),t),r.__exportStar(n(49),t)},,function(e,t,n){var r,i,o=n(34),a=n(35),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,f=t||[],l=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==l||null==d){var p=o();null==l&&(l=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=i=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,g=h-s+(v-u)/1e4;if(g<0&&void 0===e.clockseq&&(d=d+1&16383),(g<0||h>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=v,i=d;var _=(1e4*(268435455&(h+=122192928e5))+v)%4294967296;f[c++]=_>>>24&255,f[c++]=_>>>16&255,f[c++]=_>>>8&255,f[c++]=255&_;var y=h/4294967296*1e4&268435455;f[c++]=y>>>8&255,f[c++]=255&y,f[c++]=y>>>24&15|16,f[c++]=y>>>16&255,f[c++]=d>>>8|128,f[c++]=255&d;for(var m=0;m<6;++m)f[c+m]=l[m];return t||a(f)}},function(e,t,n){var r=n(34),i=n(35);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(36),i=n(37);t.deserializerMiddlewareOption={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"]},t.serializerMiddlewareOption={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"]},t.getSerdePlugin=function(e,n,o){return{applyToStack:a=>{a.add(r.deserializerMiddleware(e,o),t.deserializerMiddlewareOption),a.add(i.serializerMiddleware(e,n),t.serializerMiddlewareOption)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(38),i=function(){function e(e){this.middlewareStack=new r.MiddlewareStack,this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,i="function"==typeof t?t:n,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!i)return o(e).then((function(e){return e.output}));o(e).then((function(e){return i(null,e.output)}),(function(e){return i(e)})).catch((function(){}))},e}();t.Client=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(){this.absoluteEntries=[],this.relativeEntries=[],this.entriesNameMap={}}return e.prototype.add=function(e,t){void 0===t&&(t={});var n=t.name,r=t.step,i=void 0===r?"initialize":r,o=t.tags,a=t.priority,s={name:n,step:i,tags:o,priority:void 0===a?"normal":a,middleware:e};if(n){if(Object.prototype.hasOwnProperty.call(this.entriesNameMap,n))throw new Error("Duplicated middleware name '"+n+"'");this.entriesNameMap[n]=s}this.absoluteEntries.push(s)},e.prototype.addRelativeTo=function(e,t){var n=t.step,r=void 0===n?"initialize":n,i=t.name,o=t.tags,a=t.relation,s=t.toMiddleware,u={middleware:e,step:r,name:i,tags:o,next:"before"===a?s:void 0,prev:"after"===a?s:void 0};if(i){if(Object.prototype.hasOwnProperty.call(this.entriesNameMap,i))throw new Error("Duplicated middleware name '"+i+"'");this.entriesNameMap[i]=u}this.relativeEntries.push(u)},e.prototype.sort=function(e){return e.sort((function(e,t){return o[t.step]-o[e.step]||a[t.priority||"normal"]-a[e.priority||"normal"]}))},e.prototype.clone=function(){var t,n,i=new e;return(t=i.absoluteEntries).push.apply(t,this.absoluteEntries),(n=i.relativeEntries).push.apply(n,this.relativeEntries),i.entriesNameMap=r.__assign({},this.entriesNameMap),i},e.prototype.concat=function(t){var n,i,o=new e;o.entriesNameMap=r.__assign({},this.entriesNameMap);var a=t;for(var s in a.entriesNameMap){if(o.entriesNameMap[s])throw new Error("Duplicated middleware name '"+s+"'");o.entriesNameMap[s]=a.entriesNameMap[s]}return(n=o.absoluteEntries).push.apply(n,r.__spreadArrays(this.absoluteEntries,a.absoluteEntries)),(i=o.relativeEntries).push.apply(i,r.__spreadArrays(this.relativeEntries,a.relativeEntries)),o},e.prototype.remove=function(e){return"string"==typeof e?this.removeByName(e):this.removeByReference(e)},e.prototype.removeByName=function(e){for(var t=this.absoluteEntries.length-1;t>=0;t--)if(this.absoluteEntries[t].name&&this.absoluteEntries[t].name===e)return this.absoluteEntries.splice(t,1),delete this.entriesNameMap[e],!0;for(t=this.relativeEntries.length-1;t>=0;t--)if(this.relativeEntries[t].name&&this.relativeEntries[t].name===e)return this.relativeEntries.splice(t,1),delete this.entriesNameMap[e],!0;return!1},e.prototype.removeByReference=function(e){for(var t=this.absoluteEntries.length-1;t>=0;t--){if(this.absoluteEntries[t].middleware===e)return(n=this.absoluteEntries[t].name)&&delete this.entriesNameMap[n],this.absoluteEntries.splice(t,1),!0}for(t=this.relativeEntries.length-1;t>=0;t--){var n;if(this.relativeEntries[t].middleware===e)return(n=this.relativeEntries[t].name)&&delete this.entriesNameMap[n],this.relativeEntries.splice(t,1),!0}return!1},e.prototype.removeByTag=function(e){for(var t=!1,n=this.absoluteEntries.length-1;n>=0;n--){var r=this.absoluteEntries[n],i=r.tags,o=r.name;i&&i.indexOf(e)>-1&&(this.absoluteEntries.splice(n,1),o&&delete this.entriesNameMap[o],t=!0)}for(n=this.relativeEntries.length-1;n>=0;n--){var a=this.relativeEntries[n];i=a.tags,o=a.name;i&&i.indexOf(e)>-1&&(this.relativeEntries.splice(n,1),o&&delete this.entriesNameMap[o],t=!0)}return t},e.prototype.use=function(e){e.applyToStack(this)},e.prototype.normalizeRelativeEntries=function(){for(var e=this.absoluteEntries.filter((function(e){return e.name})).reduce((function(e,t){return e[t.name]=t,e}),{}),t=this.relativeEntries.map((function(e){return r.__assign(r.__assign({},e),{priority:null,next:void 0,prev:void 0})})),n=t.filter((function(e){return e.name})).reduce((function(e,t){return e[t.name]=t,e}),{}),i={},o=0;o<this.relativeEntries.length;o++){var a=this.relativeEntries[o],s=a.prev,u=a.next,c=t[o];if(s){if(e[s]&&e[s].step===c.step)i[s]||(i[s]={}),c.next=i[s].next,i[s].next&&(i[s].next.prev=c),i[s].next=c;else if(n[s]&&n[s].step===c.step){var f=n[s];if(f.next===c)continue;c.next=f.next,f.next=c,c.next&&(c.next.prev=c),c.prev=f}}else if(u)if(e[u]&&e[u].step===c.step)i[u]||(i[u]={}),c.prev=i[u].prev,i[u].prev&&(i[u].prev.next=c),i[u].prev=c;else if(n[u]&&n[u].step===c.step){var l=n[u];if(l.prev===c)continue;c.prev=l.prev,l.prev=c,c.prev&&(c.prev.next=c),c.next=l}}for(var d=[],p=new WeakSet,h=0,v=Object.keys(i);h<v.length;h++){var g=i[v[h]];for(s=g.prev,u=g.next;s;)p.add(s),s=s.prev;for(;u;)p.add(u),u=u.next}for(o=0;o<t.length;o++){var _=t[o];if(!p.has(_))for(_.prev||d.push(_);_&&!p.has(_);)p.add(_),_=_.next}return[d,i]},e.prototype.geMiddlewareList=function(){for(var e=[],t=this.normalizeRelativeEntries(),n=t[0],i=t[1],o=r.__spreadArrays(this.absoluteEntries,n),a=0,s=o=this.sort(o);a<s.length;a++){for(var u=s[a],c={prev:void 0,next:void 0},f=u.name&&i[u.name]||c,l=f.prev,d=f.next,p=l;null==p?void 0:p.prev;)p=p.prev;for(;p;)e.push(p.middleware),p=p.next;e.push(u.middleware);for(var h=u;h.next;)e.push(h.next.middleware),h=h.next;for(p=d;p;)e.push(p.middleware),p=p.next}return e.reverse()},e.prototype.resolve=function(e,t){for(var n=0,r=this.geMiddlewareList();n<r.length;n++){e=(0,r[n])(e,t)}return e},e}();t.MiddlewareStack=i;var o={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},a={high:3,normal:2,low:1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(38),i=function(){this.middlewareStack=new r.MiddlewareStack};t.Command=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isa=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return"object"==typeof e&&("__type"in e&&t.indexOf(e.__type)>-1||"name"in e&&t.indexOf(e.name)>-1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.StringWrapper=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,r.__spread([null],arguments)),n=new t;return Object.setPrototypeOf(n,e.prototype),n},t.StringWrapper.prototype=Object.create(String.prototype,{constructor:{value:t.StringWrapper,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(t.StringWrapper,String);var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))},t}(t.StringWrapper);t.LazyJsonString=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendedEncodeURIComponent=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.dateToUtcString=function(e){var t=e.getUTCFullYear(),n=e.getUTCMonth(),o=e.getUTCDay(),a=e.getUTCDate(),s=e.getUTCHours(),u=e.getUTCMinutes(),c=e.getUTCSeconds();return r[o]+", "+(a<10?"0"+a:""+a)+" "+i[n]+" "+t+" "+(s<10?"0"+s:""+s)+":"+(u<10?"0"+u:""+u)+":"+(c<10?"0"+c:""+c)+" GMT"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}();t.HttpResponse=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(r.__assign(r.__assign({},this),{headers:r.__assign({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var i,o=t[n];return r.__assign(r.__assign({},e),((i={})[n]=Array.isArray(o)?r.__spread(o):o,i))}),{}))),n},e}();t.HttpRequest=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidHostname=function(e){return/^[a-zA-Z0-9]{1}$|^[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9]$/.test(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);function i(e,t){if("string"==typeof e){var n=Promise.resolve(t(e));return function(){return n}}if("object"==typeof e){var r=Promise.resolve(e);return function(){return r}}return e}t.normalizeEndpoint=i,t.resolveEndpointsConfig=function(e){var t=this,n=void 0===e.tls||e.tls,o=e.endpoint?i(e.endpoint,e.urlParser):function(){return e.region().then((function(i){return r.__awaiter(t,void 0,void 0,(function(){var t;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,e.regionInfoProvider(i)];case 1:if(!(t=(r.sent()||{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((n?"https:":"http:")+"//"+t)]}}))}))}))};return r.__assign(r.__assign({},e),{endpoint:o,tls:n})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);function i(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}t.resolveRegionConfig=function(e){var t=e.region||e.regionDefaultProvider(e);return r.__assign(r.__assign({},e),{region:i(t)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.destroyRequestHandlerConfig=function(e){e.requestHandler.destroy&&e.requestHandler.destroy()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);function i(e){var t=this;return function(n){return function(i){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,e.retryStrategy.retry(n,i)]}))}))}}}t.retryMiddleware=i,t.retryMiddlewareOptions={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high"},t.getRetryPlugin=function(e){return{applyToStack:function(n){e.maxRetries>0&&n.add(i(e),t.retryMiddlewareOptions)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CLOCK_SKEW_ERROR_CODES={AuthFailure:!0,InvalidSignatureException:!0,RequestExpired:!0,RequestInTheFuture:!0,RequestTimeTooSkewed:!0,SignatureDoesNotMatch:!0},t.STILL_PROCESSING_ERROR_CODES={PriorRequestNotComplete:!0},t.THROTTLING_ERROR_CODES={BandwidthLimitExceeded:!0,ProvisionedThroughputExceededException:!0,RequestLimitExceeded:!0,RequestThrottled:!0,RequestThrottledException:!0,SlowDown:!0,ThrottledException:!0,Throttling:!0,ThrottlingException:!0,TooManyRequestsException:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(39);t.resolveRetryConfig=function(e){var t=void 0===e.maxRetries?3:e.maxRetries;return r.__assign(r.__assign({},e),{maxRetries:t,retryStrategy:e.retryStrategy||new i.ExponentialBackOffStrategy(t)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(103);function o(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}t.resolveAwsAuthConfig=function(e){var t,n=this,a=o(e.credentials||e.credentialDefaultProvider(e)),s=e.signingEscapePath,u=void 0===s||s,c=e.systemClockOffset,f=void 0===c?e.systemClockOffset||0:c,l=e.sha256;return t=e.signer?o(e.signer):function(){return o(e.region)().then((function(t){return r.__awaiter(n,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[n.sent()||{},t]]}}))}))})).then((function(t){var n=r.__read(t,2),o=n[0],s=n[1],c=o.signingRegion,f=void 0===c?e.signingRegion:c,d=o.signingService,p=void 0===d?e.signingName:d;return e.signingRegion=e.signingRegion||f||s,e.signingName=e.signingName||p,new i.SignatureV4({credentials:a,region:e.signingRegion,service:e.signingName,sha256:l,uriEscapePath:u})}))},r.__assign(r.__assign({},e),{systemClockOffset:f,signingEscapePath:u,credentials:a,signer:t})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(43);t.escapeUriPath=function(e){var t,n,o=[];try{for(var a=r.__values(e.split("/")),s=a.next();!s.done;s=a.next()){var u=s.value;o.push(i.escapeUri(u))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o.join("/")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(2),o=function(e){return new Date(Date.now()+e)};function a(e){return function(t){return function(n){return r.__awaiter(this,void 0,void 0,(function(){var a,s,u,c,f,l,d,p,h;return r.__generator(this,(function(v){switch(v.label){case 0:return i.HttpRequest.isInstance(n.request)?"function"!=typeof e.signer?[3,2]:[4,e.signer()]:[2,t(n)];case 1:return s=v.sent(),[3,3];case 2:s=e.signer,v.label=3;case 3:return a=s,c=t,f=[r.__assign({},n)],l={},[4,a.sign(n.request,{signingDate:new Date(Date.now()+e.systemClockOffset)})];case 4:return[4,c.apply(void 0,[r.__assign.apply(void 0,f.concat([(l.request=v.sent(),l)]))])];case 5:return u=v.sent(),d=u.response.headers,(p=d&&(d.date||d.Date))&&(h=Date.parse(p),g=h,_=e.systemClockOffset,Math.abs(o(_).getTime()-g)>=3e5&&(e.systemClockOffset=h-Date.now())),[2,u]}var g,_}))}))}}}t.awsAuthMiddleware=a,t.awsAuthMiddlewareOptions={name:"awsAuthMiddleware",step:"finalizeRequest",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware"},t.getAwsAuthPlugin=function(e){return{applyToStack:function(n){n.addRelativeTo(a(e),t.awsAuthMiddlewareOptions)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveUserAgentConfig=function(e){return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(2);function o(e){return function(t){return function(n){var o=n.request;if(!i.HttpRequest.isInstance(o))return t(n);var a=o.headers,s="node"===e.runtime?"user-agent":"x-amz-user-agent";return a[s]?a[s]+=" "+e.defaultUserAgent:a[s]=""+e.defaultUserAgent,e.customUserAgent&&(a[s]+=" "+e.customUserAgent),t(r.__assign(r.__assign({},n),{request:o}))}}}t.userAgentMiddleware=o,t.getUserAgentMiddlewareOptions={name:"getUserAgentMiddleware",step:"build",tags:["SET_USER_AGENT","USER_AGENT"]},t.getUserAgentPlugin=function(e){return{applyToStack:function(n){n.add(o(e),t.getUserAgentMiddlewareOptions)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(44),i=n(47),o=n(84),a=n(87),s=n(89),u=n(27),c=function(){function e(e){a.supportsWebCrypto(u.locateWindow())?this.hash=new i.Sha256(e):s.isMsWindow(u.locateWindow())?this.hash=new r.Sha256(e):this.hash=new o.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromUtf8=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)},t.toUtf8=function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var a="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromUtf8=function(e){return(new TextEncoder).encode(e)},t.toUtf8=function(e){return new TextDecoder("utf-8").decode(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(0).__exportStar(n(85),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(48),o=n(86),a=n(5),s=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=u(e);if(t.byteLength>i.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(i.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(i.BLOCK_SIZE);n.set(t);for(var r=0;r<i.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;this.hash.update(t),this.outer.update(n);for(r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!function(e){if("string"==typeof e)return 0===e.length;return 0===e.byteLength}(e)&&!this.error)try{this.hash.update(u(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.digestSync()]}))}))},e}();function u(e){return"string"==typeof e?a.fromUtf8(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(48),i=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var i=this.bufferLength;i<r.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<r.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(r.DIGEST_LENGTH);for(i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],f=t[7],l=0;l<r.BLOCK_SIZE;l++){if(l<16)this.temp[l]=(255&e[4*l])<<24|(255&e[4*l+1])<<16|(255&e[4*l+2])<<8|255&e[4*l+3];else{var d=this.temp[l-2],p=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,h=((d=this.temp[l-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[l]=(p+this.temp[l-7]|0)+(h+this.temp[l-16]|0)}var v=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&u^~s&c)|0)+(f+(r.KEY[l]+this.temp[l]|0)|0)|0,g=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;f=c,c=u,u=s,s=a+v|0,a=o,o=i,i=n,n=v+g|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=a,t[4]+=s,t[5]+=u,t[6]+=c,t[7]+=f},e}();t.RawSha256=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(0).__exportStar(n(88),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function o(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function a(e){return e&&i.every((function(t){return"function"==typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!o(e)||"object"!=typeof e.crypto.subtle)&&a(e.crypto.subtle)},t.supportsSecureRandom=o,t.supportsSubtleCrypto=a,t.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:if(!a(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(0).__exportStar(n(90),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,n=t.getRandomValues,i=t.subtle;return r.map((function(e){return i[e]})).concat(n).every((function(e){return"function"==typeof e}))}return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(2),o=n(92),a=n(93),s=function(){function e(e){void 0===e&&(e={}),this.httpOptions=e}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=this,s=null==t?void 0:t.abortSignal,u=this.httpOptions.requestTimeout;if(null==s?void 0:s.aborted){var c=new Error("Request aborted");return c.name="AbortError",Promise.reject(c)}var f=e.path;if(e.query){var l=a.buildQueryString(e.query);l&&(f+="?"+l)}var d=e.port,p=e.protocol+"//"+e.hostname+(d?":"+d:"")+f,h={body:e.body,headers:new Headers(e.headers),method:e.method,mode:"cors"};"undefined"!=typeof AbortController&&(h.signal=s);var v=new Request(p,h),g=[fetch(v).then((function(e){var t,o,a=e.headers,s={};try{for(var u=r.__values(a.entries()),c=u.next();!c.done;c=u.next()){var f=c.value;s[f[0]]=f[1]}}catch(e){t={error:e}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(t)throw t.error}}return n.httpOptions.bufferBody?e.blob().then((function(t){return{response:new i.HttpResponse({headers:s,statusCode:e.status,body:t})}})):{response:new i.HttpResponse({headers:s,statusCode:e.status,body:e.body})}})),o.requestTimeout(u)];return s&&g.push(new Promise((function(e,t){s.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),Promise.race(g)},e}();t.FetchHttpHandler=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requestTimeout=function(e){return void 0===e&&(e=0),new Promise((function(t,n){e&&setTimeout((function(){var t=new Error("Request did not complete within "+e+" ms");t.name="TimeoutError",n(t)}),e)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(24);t.buildQueryString=function(e){var t,n,o=[];try{for(var a=r.__values(Object.keys(e).sort()),s=a.next();!s.done;s=a.next()){var u=s.value,c=e[u];if(u=i.escapeUri(u),Array.isArray(c))for(var f=0,l=c.length;f<l;f++)o.push(u+"="+i.escapeUri(c[f]));else{var d=u;(c||"string"==typeof c)&&(d+="="+i.escapeUri(c)),o.push(d)}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o.join("&")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.parseQueryString=function(e){var t,n,i={};if(e=e.replace(/^\?/,""))try{for(var o=r.__values(e.split("&")),a=o.next();!a.done;a=o.next()){var s=a.value,u=r.__read(s.split("="),2),c=u[0],f=u[1],l=void 0===f?null:f;c=decodeURIComponent(c),l&&(l=decodeURIComponent(l)),c in i?Array.isArray(i[c])?i[c].push(l):i[c]=[i[c],l]:i[c]=l}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(96),i=n(97),o=n(50),a=function(){function e(e,t){this.headerMarshaller=new r.HeaderMarshaller(e,t)}return e.prototype.marshall=function(e){var t=e.headers,n=e.body,r=this.headerMarshaller.format(t),i=r.byteLength+n.byteLength+16,a=new Uint8Array(i),s=new DataView(a.buffer,a.byteOffset,a.byteLength),u=new o.Crc32;return s.setUint32(0,i,!1),s.setUint32(4,r.byteLength,!1),s.setUint32(8,u.update(a.subarray(0,8)).digest(),!1),a.set(r,12),a.set(n,r.byteLength+12),s.setUint32(i-4,u.update(a.subarray(8,i-4)).digest(),!1),a},e.prototype.unmarshall=function(e){var t=i.splitMessage(e),n=t.headers,r=t.body;return{headers:this.headerMarshaller.parse(n),body:r}},e.prototype.formatHeaders=function(e){return this.headerMarshaller.format(e)},e}();t.EventStreamMarshaller=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(15),o=n(49),a=function(){function e(e,t){this.toUtf8=e,this.fromUtf8=t}return e.prototype.format=function(e){var t,n,i,o,a=[];try{for(var s=r.__values(Object.keys(e)),u=s.next();!u.done;u=s.next()){var c=u.value,f=this.fromUtf8(c);a.push(Uint8Array.from([f.byteLength]),f,this.formatHeaderValue(e[c]))}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}var l=new Uint8Array(a.reduce((function(e,t){return e+t.byteLength}),0)),d=0;try{for(var p=r.__values(a),h=p.next();!h.done;h=p.next()){var v=h.value;l.set(v,d),d+=v.byteLength}}catch(e){i={error:e}}finally{try{h&&!h.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}return l},e.prototype.formatHeaderValue=function(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":var t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":var n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":var r=new Uint8Array(9);return r[0]=5,r.set(e.value.bytes,1),r;case"binary":var a=new DataView(new ArrayBuffer(3+e.value.byteLength));a.setUint8(0,6),a.setUint16(1,e.value.byteLength,!1);var s=new Uint8Array(a.buffer);return s.set(e.value,3),s;case"string":var u=this.fromUtf8(e.value),c=new DataView(new ArrayBuffer(3+u.byteLength));c.setUint8(0,7),c.setUint16(1,u.byteLength,!1);var f=new Uint8Array(c.buffer);return f.set(u,3),f;case"timestamp":var l=new Uint8Array(9);return l[0]=8,l.set(o.Int64.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!g.test(e.value))throw new Error("Invalid UUID received: "+e.value);var d=new Uint8Array(17);return d[0]=9,d.set(i.fromHex(e.value.replace(/\-/g,"")),1),d}},e.prototype.parse=function(e){for(var t={},n=0;n<e.byteLength;){var r=e.getUint8(n++),a=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,r));switch(n+=r,e.getUint8(n++)){case 0:t[a]={type:s,value:!0};break;case 1:t[a]={type:s,value:!1};break;case 2:t[a]={type:u,value:e.getInt8(n++)};break;case 3:t[a]={type:c,value:e.getInt16(n,!1)},n+=2;break;case 4:t[a]={type:f,value:e.getInt32(n,!1)},n+=4;break;case 5:t[a]={type:l,value:new o.Int64(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:var g=e.getUint16(n,!1);n+=2,t[a]={type:d,value:new Uint8Array(e.buffer,e.byteOffset+n,g)},n+=g;break;case 7:var _=e.getUint16(n,!1);n+=2,t[a]={type:p,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,_))},n+=_;break;case 8:t[a]={type:h,value:new Date(new o.Int64(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:var y=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,t[a]={type:v,value:i.toHex(y.subarray(0,4))+"-"+i.toHex(y.subarray(4,6))+"-"+i.toHex(y.subarray(6,8))+"-"+i.toHex(y.subarray(8,10))+"-"+i.toHex(y.subarray(10))};break;default:throw new Error("Unrecognized header type tag")}}return t},e}();t.HeaderMarshaller=a;var s="boolean",u="byte",c="short",f="integer",l="long",d="binary",p="string",h="timestamp",v="uuid",g=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(50);t.splitMessage=function(e){var t=e.byteLength,n=e.byteOffset,i=e.buffer;if(t<16)throw new Error("Provided message too short to accommodate event stream message overhead");var o=new DataView(i,n,t),a=o.getUint32(0,!1);if(t!==a)throw new Error("Reported message length does not match received message length");var s=o.getUint32(4,!1),u=o.getUint32(8,!1),c=o.getUint32(t-4,!1),f=(new r.Crc32).update(new Uint8Array(i,n,8));if(u!==f.digest())throw new Error("The prelude checksum specified in the message ("+u+") does not match the calculated CRC32 checksum ("+f.digest()+")");if(f.update(new Uint8Array(i,n+8,t-12)),c!==f.digest())throw new Error("The message checksum ("+f.digest()+") did not match the expected value of "+c);return{headers:new DataView(i,n+8+4,s),body:new Uint8Array(i,n+8+4+s,a-s-16)}}},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(99),i=n(100),o=n(101);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|p(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(f(t),e=s(e,t<0?0:0|p(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return N(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(r)return N(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,n);case"utf8":case"utf-8":return j(this,t,n);case"ascii":return I(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return A(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function _(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var f=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*a}else-1!==f&&(o-=o-f),f=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var l=!0,d=0;d<u;d++)if(c(e,o+d)!==c(t,d)){l=!1;break}if(l)return o}return-1}function m(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function b(e,t,n,r){return H(N(t,e.length-n),e,n,r)}function w(e,t,n,r){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return w(e,t,n,r)}function O(e,t,n,r){return H(q(t),e,n,r)}function S(e,t,n,r){return H(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function A(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function j(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,c=e[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=n)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(f=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(f=u)}null===f?(f=65533,l=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),i+=l}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return f(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return l(null,e)},u.allocUnsafeSlow=function(e){return l(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=h,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?j(this,0,e):v.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(r,i),f=e.slice(t,n),l=0;l<s;++l)if(c[l]!==f[l]){o=c[l],a=f[l];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return _(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return _(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return m(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return O(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function x(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=B(e[o]);return i}function R(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function C(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function k(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function M(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function T(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function U(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,o){return o||U(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function L(e,t,n,r,o){return o||U(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||C(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||C(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||C(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||C(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||C(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||C(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||C(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||C(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||C(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||k(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||k(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):T(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):T(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);k(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);k(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):T(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):T(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=u.isBuffer(e)?e:N(new u(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function N(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(52))},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),a=r[0],s=r[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),f=0,l=s>0?a-4:a;for(n=0;n<l;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[f++]=t>>16&255,u[f++]=t>>8&255,u[f++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[f++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[f++]=t>>8&255,u[f++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(f(e,a,a+16383>s?s:a+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function f(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,f=-7,l=n?i-1:0,d=n?-1:1,p=e[t+l];for(l+=d,o=p&(1<<-f)-1,p>>=-f,f+=s;f>0;o=256*o+e[t+l],l+=d,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=r;f>0;a=256*a+e[t+l],l+=d,f-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,h=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+l>=1?d/u:d*Math.pow(2,1-l))*u>=2&&(a++,u/=2),a+l>=f?(s=0,a=f):a+l>=1?(s=(t*u-1)*Math.pow(2,i),a+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&s,p+=h,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+p]=255&a,p+=h,a/=256,c-=8);e[n+p-h]|=128*v}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";n.r(t),n.d(t,"createScope",(function(){return p})),n.d(t,"getSigningKey",(function(){return h})),n.d(t,"clearCredentialCache",(function(){return v})),n.d(t,"SignatureV4",(function(){return j}));var r="X-Amz-Date".toLowerCase(),i=["authorization",r,"date"],o="X-Amz-Signature".toLowerCase(),a="X-Amz-Security-Token".toLowerCase(),s={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},u=/^proxy-/,c=/^sec-/,f="AWS4-HMAC-SHA256-PAYLOAD",l={},d=[];function p(e,t,n){return e+"/"+t+"/"+n+"/aws4_request"}function h(e,t,n,r,i){var o=n+":"+r+":"+i+":"+t.accessKeyId+":"+t.sessionToken;if(o in l)return l[o];for(d.push(o);d.length>50;)delete l[d.shift()];return l[o]=new Promise((function(a,s){for(var u=Promise.resolve("AWS4"+t.secretAccessKey),c=function(t){(u=u.then((function(n){return r=t,(i=new e(n)).update(r),i.digest();var r,i}))).catch((function(){}))},f=0,d=[n,r,i,"aws4_request"];f<d.length;f++){c(d[f])}u.then(a,(function(e){delete l[o],s(e)}))}))}function v(){d.length=0,Object.keys(l).forEach((function(e){delete l[e]}))}var g=n(0);function _(e,t,n){for(var r=e.headers,i={},o=0,a=Object.keys(r).sort();o<a.length;o++){var f=a[o],l=f.toLowerCase();(l in s||(null==t?void 0:t.has(l))||u.test(l)||c.test(l))&&(!n||n&&!n.has(l))||(i[l]=r[f].trim().replace(/\s+/g," "))}return i}var y=n(24);var m=n(53),b=n(15);function w(e,t){var n=e.headers,r=e.body;return Object(g.__awaiter)(this,void 0,void 0,(function(){var e,i,o,a,s;return Object(g.__generator)(this,(function(u){switch(u.label){case 0:for(e=0,i=Object.keys(n);e<i.length;e++)if("x-amz-content-sha256"===(o=i[e]).toLowerCase())return[2,n[o]];return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||Object(m.isArrayBuffer)(r)?((a=new t).update(r),s=b.toHex,[4,a.digest()]):[3,3];case 2:return[2,s.apply(void 0,[u.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}}))}))}function E(e){var t=e.headers,n=e.query,r=Object(g.__rest)(e,["headers","query"]);return Object(g.__assign)(Object(g.__assign)({},r),{headers:Object(g.__assign)({},t),query:n?O(n):void 0})}function O(e){return Object.keys(e).reduce((function(t,n){var r,i=e[n];return Object(g.__assign)(Object(g.__assign)({},t),((r={})[n]=Array.isArray(i)?Object(g.__spreadArrays)(i):i,r))}),{})}function S(e){e="function"==typeof e.clone?e.clone():E(e);for(var t=0,n=Object.keys(e.headers);t<n.length;t++){var r=n[t];i.indexOf(r.toLowerCase())>-1&&delete e.headers[r]}return e}function A(e){return function(e){if("number"==typeof e)return new Date(1e3*e);if("string"==typeof e)return Number(e)?new Date(1e3*Number(e)):new Date(e);return e}(e).toISOString().replace(/\.\d{3}Z$/,"Z")}var j=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,i=e.service,o=e.sha256,a=e.uriEscapePath,s=void 0===a||a;if(this.service=i,this.sha256=o,this.uriEscapePath=s,this.applyChecksum="boolean"!=typeof t||t,"string"==typeof r){var u=Promise.resolve(r);this.regionProvider=function(){return u}}else this.regionProvider=r;if("object"==typeof n){var c=Promise.resolve(n);this.credentialProvider=function(){return c}}else this.credentialProvider=n}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),Object(g.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,f,l,d,h,v,y,m,b,O,A,j,x,R;return Object(g.__generator)(this,(function(C){switch(C.label){case 0:return[4,Promise.all([this.regionProvider(),this.credentialProvider()])];case 1:return n=C.sent(),r=n[0],i=n[1],o=t.signingDate,a=void 0===o?new Date:o,s=t.expiresIn,u=void 0===s?3600:s,c=t.unsignableHeaders,f=t.signableHeaders,l=I(a),d=l.longDate,h=l.shortDate,u>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(v=p(h,r,this.service),y=function(e){for(var t="function"==typeof e.clone?e.clone():E(e),n=t.headers,r=t.query,i=void 0===r?{}:r,o=0,a=Object.keys(n);o<a.length;o++){var s=a[o];"x-amz-"===s.toLowerCase().substr(0,6)&&(i[s]=n[s],delete n[s])}return Object(g.__assign)(Object(g.__assign)({},e),{headers:n,query:i})}(S(e)),i.sessionToken&&(y.query["X-Amz-Security-Token"]=i.sessionToken),y.query["X-Amz-Algorithm"]="AWS4-HMAC-SHA256",y.query["X-Amz-Credential"]=i.accessKeyId+"/"+v,y.query["X-Amz-Date"]=d,y.query["X-Amz-Expires"]=u.toString(10),m=_(y,c,f),y.query["X-Amz-SignedHeaders"]=P(m),b=y.query,O="X-Amz-Signature",A=this.getSignature,j=[d,v,this.getSigningKey(i,r,h)],x=this.createCanonicalRequest,R=[y,m],[4,w(e,this.sha256)]);case 2:return[4,A.apply(this,j.concat([x.apply(this,R.concat([C.sent()]))]))];case 3:return b[O]=C.sent(),[2,y]}}))}))},e.prototype.sign=function(e,t){return Object(g.__awaiter)(this,void 0,void 0,(function(){return Object(g.__generator)(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,i=t.signingDate,o=void 0===i?new Date:i,a=t.priorSignature;return Object(g.__awaiter)(this,void 0,void 0,(function(){var e,t,i,s,u,c,l,d,h,v;return Object(g.__generator)(this,(function(g){switch(g.label){case 0:return[4,Promise.all([this.regionProvider(),this.credentialProvider()])];case 1:return e=g.sent()[0],t=I(o),i=t.shortDate,s=t.longDate,u=p(i,e,this.service),[4,w({headers:{},body:r},this.sha256)];case 2:return c=g.sent(),(l=new this.sha256).update(n),h=b.toHex,[4,l.digest()];case 3:return d=h.apply(void 0,[g.sent()]),v=[f,s,u,a,d,c].join("\n"),[2,this.signString(v,{signingDate:o})]}}))}))},e.prototype.signString=function(e,t){var n=(void 0===t?{}:t).signingDate,r=void 0===n?new Date:n;return Object(g.__awaiter)(this,void 0,void 0,(function(){var t,n,i,o,a,s,u,c;return Object(g.__generator)(this,(function(f){switch(f.label){case 0:return[4,Promise.all([this.regionProvider(),this.credentialProvider()])];case 1:return t=f.sent(),n=t[0],i=t[1],o=I(r).shortDate,u=(s=this.sha256).bind,[4,this.getSigningKey(i,n,o)];case 2:return(a=new(u.apply(s,[void 0,f.sent()]))).update(e),c=b.toHex,[4,a.digest()];case 3:return[2,c.apply(void 0,[f.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,i=n.signingDate,o=void 0===i?new Date:i,s=n.signableHeaders,u=n.unsignableHeaders;return Object(g.__awaiter)(this,void 0,void 0,(function(){var t,n,i,c,f,l,d,h,v,y,m;return Object(g.__generator)(this,(function(g){switch(g.label){case 0:return[4,Promise.all([this.regionProvider(),this.credentialProvider()])];case 1:return t=g.sent(),n=t[0],i=t[1],c=S(e),f=I(o),l=f.longDate,d=f.shortDate,h=p(d,n,this.service),c.headers[r]=l,i.sessionToken&&(c.headers[a]=i.sessionToken),[4,w(c,this.sha256)];case 2:return v=g.sent(),!function(e,t){e=e.toLowerCase();for(var n=0,r=Object.keys(t);n<r.length;n++){if(e===r[n].toLowerCase())return!0}return!1}("x-amz-content-sha256",c.headers)&&this.applyChecksum&&(c.headers["x-amz-content-sha256"]=v),y=_(c,u,s),[4,this.getSignature(l,h,this.getSigningKey(i,n,d),this.createCanonicalRequest(c,y,v))];case 3:return m=g.sent(),c.headers.authorization="AWS4-HMAC-SHA256 Credential="+i.accessKeyId+"/"+h+", SignedHeaders="+P(y)+", Signature="+m,[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){for(var t=e.query,n=void 0===t?{}:t,r=[],i={},a=function(e){if(e.toLowerCase()===o)return"continue";r.push(e);var t=n[e];"string"==typeof t?i[e]=Object(y.escapeUri)(e)+"="+Object(y.escapeUri)(t):Array.isArray(t)&&(i[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([Object(y.escapeUri)(e)+"="+Object(y.escapeUri)(n)])}),[]).join("&"))},s=0,u=Object.keys(n).sort();s<u.length;s++){a(u[s])}return r.map((function(e){return i[e]})).filter((function(e){return e})).join("&")}(e)+"\n"+r.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+r.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return Object(g.__awaiter)(this,void 0,void 0,(function(){var r,i;return Object(g.__generator)(this,(function(o){switch(o.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return i=o.sent(),[2,"AWS4-HMAC-SHA256\n"+e+"\n"+t+"\n"+Object(b.toHex)(i)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,r){return Object(g.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u;return Object(g.__generator)(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return i=c.sent(),s=(a=this.sha256).bind,[4,n];case 2:return(o=new(s.apply(a,[void 0,c.sent()]))).update(i),u=b.toHex,[4,o.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n){return h(this.sha256,e,n,t,this.service)},e}();function I(e){var t=A(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.substr(0,8)}}function P(e){return Object.keys(e).sort().join(";")}},function(e,t,n){"use strict";n.r(t),n.d(t,"Analytics",(function(){return Y})),n.d(t,"AWSPinpointProvider",(function(){return G.c})),n.d(t,"AWSKinesisProvider",(function(){return G.b})),n.d(t,"AWSKinesisFirehoseProvider",(function(){return G.a})),n.d(t,"AmazonPersonalizeProvider",(function(){return G.d}));var r=n(3),i=n(25),o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e},s=[],u=function(){function e(e,t){this.context=e,this.methodName=t,this._originalMethod=e[t].bind(e)}return e.add=function(e,t,n){c(e,t).set(n)},e.remove=function(e,t){c(e,t).remove()},e.prototype.set=function(e){var t=this;this.context[this.methodName]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t._originalMethod.apply(t,a(n)))}},e.prototype.remove=function(){this.context[this.methodName]=this._originalMethod},e}();function c(e,t){var n=s.filter((function(n){return n.context===e&&n.methodName===t}))[0];return n||(n=new u(e,t),s.push(n)),n}var f=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},d=new r.ConsoleLogger("PageViewTracker"),p="aws-amplify-analytics-prevUrl",h={enable:!1,provider:"AWSPinpoint",getUrl:function(){return r.JS.browserOrNode().isBrowser?window.location.origin+window.location.pathname:""}},v=function(){function e(e,t){d.debug("initialize pageview tracker with opts",t),this._config=Object.assign({},h,t),this._tracker=e,this._hasEnabled=!1,this._trackFunc=this._trackFunc.bind(this),"SPA"===this._config.type?this._pageViewTrackSPA():this._pageViewTrackDefault()}return e.prototype.configure=function(e){return Object.assign(this._config,e),"SPA"===this._config.type&&this._pageViewTrackSPA(),this._config},e.prototype._isSameUrl=function(){return sessionStorage.getItem(p)===this._config.getUrl()&&(d.debug("the url is same"),!0)},e.prototype._pageViewTrackDefault=function(){return f(this,void 0,void 0,(function(){var e,t,n,i;return l(this,(function(o){switch(o.label){case 0:return r.JS.browserOrNode().isBrowser&&window.addEventListener&&window.sessionStorage?(e=this._config.getUrl(),"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()]):(d.debug("not in the supported web enviroment"),[2]);case 1:return n=o.sent(),[3,3];case 2:n=this._config.attributes,o.label=3;case 3:return t=n,i=Object.assign({url:e},t),this._config.enable&&!this._isSameUrl()&&(this._tracker({name:this._config.eventName||"pageView",attributes:i},this._config.provider).catch((function(e){d.debug("Failed to record the page view event",e)})),sessionStorage.setItem(p,e)),[2]}}))}))},e.prototype._trackFunc=function(){return f(this,void 0,void 0,(function(){var e,t,n,i;return l(this,(function(o){switch(o.label){case 0:return r.JS.browserOrNode().isBrowser&&window.addEventListener&&history.pushState&&window.sessionStorage?(e=this._config.getUrl(),"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()]):(d.debug("not in the supported web enviroment"),[2]);case 1:return n=o.sent(),[3,3];case 2:n=this._config.attributes,o.label=3;case 3:return t=n,i=Object.assign({url:e},t),this._isSameUrl()||(this._tracker({name:this._config.eventName||"pageView",attributes:i},this._config.provider).catch((function(e){d.debug("Failed to record the page view event",e)})),sessionStorage.setItem(p,e)),[2]}}))}))},e.prototype._pageViewTrackSPA=function(){r.JS.browserOrNode().isBrowser&&window.addEventListener&&history.pushState?this._config.enable&&!this._hasEnabled?(u.add(history,"pushState",this._trackFunc),u.add(history,"replaceState",this._trackFunc),window.addEventListener("popstate",this._trackFunc),this._trackFunc(),this._hasEnabled=!0):(u.remove(history,"pushState"),u.remove(history,"replaceState"),window.removeEventListener("popstate",this._trackFunc),this._hasEnabled=!1):d.debug("not in the supported web enviroment")},e}(),g=r.JS.browserOrNode().isBrowser&&window.Element?window.Element.prototype:null,_=g?g.matches||g.matchesSelector||g.webkitMatchesSelector||g.mozMatchesSelector||g.msMatchesSelector||g.oMatchesSelector:null;function y(e,t){if(e&&1===e.nodeType&&t){if("string"==typeof t||1===t.nodeType)return e===t||m(e,t);if("length"in t)for(var n=0,r=void 0;r=t[n];n++)if(e===r||m(e,r))return!0}return!1}function m(e,t){if("string"!=typeof t)return!1;if(_)return _.call(e,t);for(var n=e.parentNode.querySelectorAll(t),r=0,i=void 0;i=n[r];r++)if(i===e)return!0;return!1}function b(e,t,n,r,i){void 0===i&&(i={});var o=function(e){var t;if(i.composed&&"function"==typeof e.composedPath)for(var o=e.composedPath(),a=0,s=void 0;s=o[a];a++)1===s.nodeType&&y(s,n)&&(t=s);else t=function(e,t,n){if(void 0===n&&(n=!1),e&&1===e.nodeType&&t)for(var r,i=(n?[e]:[]).concat(function(e){for(var t=[],n=e;n&&n.parentNode&&1===n.parentNode.nodeType;)n=n.parentNode,t.push(n);return t}(e)),o=0;r=i[o];o++)if(y(r,t))return r}(e.target,n,!0);t&&r.call(t,e,t)};return e.addEventListener(t,o,i.useCapture),{destroy:function(){e.removeEventListener(t,o,i.useCapture)}}}var w=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},E=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},O=new r.ConsoleLogger("EventTracker"),S={enable:!1,events:["click"],selectorPrefix:"data-amplify-analytics-",provider:"AWSPinpoint"},A=function(){function e(e,t){r.JS.browserOrNode().isBrowser&&window.addEventListener?(this._config=Object.assign({},S,t),this._tracker=e,this._delegates={},this._trackFunc=this._trackFunc.bind(this),O.debug("initialize pageview tracker with opts",this._config),this.configure(this._config)):O.debug("not in the supported web environment")}return e.prototype.configure=function(e){var t=this;if(Object.assign(this._config,e),this._config.enable){if(this._config.enable&&0===Object.keys(this._delegates).length){var n="["+this._config.selectorPrefix+"on]";this._config.events.forEach((function(e){t._delegates[e]=b(document,e,n,t._trackFunc,{composed:!0,useCapture:!0})}))}}else Object.keys(this._delegates).forEach((function(e){"function"==typeof t._delegates[e].destroy&&t._delegates[e].destroy()})),this._delegates={};return this._config},e.prototype._trackFunc=function(e,t){return w(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return E(this,(function(c){switch(c.label){case 0:return n={},r=t.getAttribute(this._config.selectorPrefix+"on").split(/\s*,\s*/),i=t.getAttribute(this._config.selectorPrefix+"name"),(o=t.getAttribute(this._config.selectorPrefix+"attrs"))&&o.split(/\s*,\s*/).forEach((function(e){var t=e.trim().split(/\s*:\s*/);n[t[0]]=t[1]})),"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()];case 1:return s=c.sent(),[3,3];case 2:s=this._config.attributes,c.label=3;case 3:return a=s,u=Object.assign({type:e.type,target:e.target.localName+" with id "+e.target.id},a,n),O.debug("events needed to be recorded",r),O.debug("attributes needed to be attached",n),r.indexOf(e.type)<0?(O.debug("event "+e.type+" is not selected to be recorded"),[2]):(this._tracker({name:i||"event",attributes:u},this._config.provider).catch((function(t){O.debug("Failed to record the "+e.type+" event', "+t)})),[2])}}))}))},e}(),j=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},I=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},P=new r.ConsoleLogger("SessionTracker"),x={enable:!1,provider:"AWSPinpoint"},R=!1,C=function(){function e(e,t){this._config=Object.assign({},x,t),this._tracker=e,this._hasEnabled=!1,this._trackFunc=this._trackFunc.bind(this),this._trackBeforeUnload=this._trackBeforeUnload.bind(this),this.configure(this._config)}return e.prototype._envCheck=function(){if(!r.JS.browserOrNode().isBrowser)return!1;if(!document||!document.addEventListener)return P.debug("not in the supported web environment"),!1;if(void 0!==document.hidden)this._hidden="hidden",this._visibilityChange="visibilitychange";else if(void 0!==document.msHidden)this._hidden="msHidden",this._visibilityChange="msvisibilitychange";else{if(void 0===document.webkitHidden)return P.debug("not in the supported web environment"),!1;this._hidden="webkitHidden",this._visibilityChange="webkitvisibilitychange"}return!0},e.prototype._trackFunc=function(){return j(this,void 0,void 0,(function(){var e,t,n;return I(this,(function(r){switch(r.label){case 0:return"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()];case 1:return t=r.sent(),[3,3];case 2:t=this._config.attributes,r.label=3;case 3:return e=t,n=Object.assign({},e),document.visibilityState===this._hidden?this._tracker({name:"_session.stop",attributes:n},this._config.provider).catch((function(e){P.debug("record session stop event failed.",e)})):this._tracker({name:"_session.start",attributes:n},this._config.provider).catch((function(e){P.debug("record session start event failed.",e)})),[2]}}))}))},e.prototype._trackBeforeUnload=function(e){var t=this;("function"==typeof this._config.attributes?Promise.resolve(this._config.attributes()):Promise.resolve(this._config.attributes)).then((function(e){var n=Object.assign({},e);t._tracker({name:"_session.stop",attributes:n,immediate:!0},t._config.provider).catch((function(e){P.debug("record session stop event failed.",e)}))}))},e.prototype._sendInitialEvent=function(){return j(this,void 0,void 0,(function(){var e,t,n;return I(this,(function(r){switch(r.label){case 0:return R?(P.debug("the start session has been sent when the page is loaded"),[2]):(R=!0,"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()]);case 1:return t=r.sent(),[3,3];case 2:t=this._config.attributes,r.label=3;case 3:return e=t,n=Object.assign({},e),this._tracker({name:"_session.start",attributes:n},this._config.provider).catch((function(e){P.debug("record session start event failed.",e)})),[2]}}))}))},e.prototype.configure=function(e){return this._envCheck()?(Object.assign(this._config,e),this._config.enable&&!this._hasEnabled?(this._sendInitialEvent(),document.addEventListener(this._visibilityChange,this._trackFunc,!1),window.addEventListener("beforeunload",this._trackBeforeUnload,!1),this._hasEnabled=!0):!this._config.enable&&this._hasEnabled&&(document.removeEventListener(this._visibilityChange,this._trackFunc,!1),window.removeEventListener("beforeunload",this._trackBeforeUnload,!1),this._hasEnabled=!1),this._config):this._config},e}(),k=function(){return(k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},M=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},T=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},U=new r.ConsoleLogger("AnalyticsClass"),D="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",L={pageView:v,event:A,session:C},z=null,B=function(){function e(){this._config={},this._pluggables=[],this._disabled=!1,this._trackers={},z=this,this.record=this.record.bind(this),r.Hub.listen("auth",F),r.Hub.listen("storage",F),r.Hub.listen("analytics",F),r.Amplify.register(this)}return e.prototype.getModuleName=function(){return"Analytics"},e.prototype.configure=function(e){var t=this;if(!e)return this._config;U.debug("configure Analytics",e);var n,o,a,s=r.Parser.parseMobilehubConfig(e);return this._config=Object.assign({},this._config,s.Analytics,e),this._config.disabled&&(this._disabled=!0),this._pluggables.forEach((function(e){var n="AWSPinpoint"!==e.getProviderName()||t._config.AWSPinpoint?t._config[e.getProviderName()]:t._config;e.configure(k({disabled:t._config.disabled},n))})),0===this._pluggables.length&&this.addPluggable(new i.a),void 0===this._config.autoSessionRecord&&(this._config.autoSessionRecord=!0),n="configured",o=null,a="The Analytics category has been configured successfully",r.Hub.dispatch("analytics",{event:n,data:o,message:a},"Analytics",D),U.debug("current configuration",this._config),this._config},e.prototype.addPluggable=function(e){if(e&&"Analytics"===e.getCategory()){this._pluggables.push(e);var t="AWSPinpoint"!==e.getProviderName()||this._config.AWSPinpoint?this._config[e.getProviderName()]:this._config,n=k({disabled:this._config.disabled},t);return e.configure(n),n}},e.prototype.getPluggable=function(e){for(var t=0;t<this._pluggables.length;t+=1){var n=this._pluggables[t];if(n.getProviderName()===e)return n}return U.debug("No plugin found with providerName",e),null},e.prototype.removePluggable=function(e){for(var t=0;t<this._pluggables.length&&this._pluggables[t].getProviderName()!==e;)t+=1;return t===this._pluggables.length?void U.debug("No plugin found with providerName",e):void this._pluggables.splice(t,t+1)},e.prototype.disable=function(){this._disabled=!0},e.prototype.enable=function(){this._disabled=!1},e.prototype.startSession=function(e){return M(this,void 0,void 0,(function(){var t;return T(this,(function(n){return t={event:{name:"_session.start"},provider:e},[2,this._sendEvent(t)]}))}))},e.prototype.stopSession=function(e){return M(this,void 0,void 0,(function(){var t;return T(this,(function(n){return t={event:{name:"_session.stop"},provider:e},[2,this._sendEvent(t)]}))}))},e.prototype.record=function(e,t,n){return M(this,void 0,void 0,(function(){var r,i;return T(this,(function(o){return this.isAnalyticsConfigured()?(i=null,i="string"==typeof e?{event:{name:e,attributes:t,metrics:n},provider:"AWSPinpoint"}:{event:e,provider:t},[2,this._sendEvent(i)]):(r="Analytics has not been configured",U.debug(r),[2,Promise.reject(new Error(r))])}))}))},e.prototype.updateEndpoint=function(e,t){return M(this,void 0,void 0,(function(){var n;return T(this,(function(r){return n=k(k({},e),{name:"_update_endpoint"}),[2,this.record(n,t)]}))}))},e.prototype._sendEvent=function(e){var t=this;if(!this.isAnalyticsConfigured()){var n="Analytics has not been configured";return U.debug(n),Promise.reject(new Error(n))}if(this._disabled)return U.debug("Analytics has been disabled"),Promise.resolve();var r=e.provider?e.provider:"AWSPinpoint";return new Promise((function(n,i){t._pluggables.forEach((function(t){t.getProviderName()===r&&t.record(e,{resolve:n,reject:i})}))}))},e.prototype.autoTrack=function(e,t){if(L[e]){"session"===e&&(this._config.autoSessionRecord=t.enable);var n=this._trackers[e];n?n.configure(t):this._trackers[e]=new L[e](this.record,t)}else U.debug("invalid tracker type")},e.prototype.isAnalyticsConfigured=function(){return this._config&&Object.entries(this._config).length>0},e}(),N=!1,q=!1,H=!1,F=function(e){var t=e.channel,n=e.payload;switch(U.debug("on hub capsule "+t,n),t){case"auth":V(n);break;case"storage":$(n);break;case"analytics":K(n)}},$=function(e){var t=e.data,n=t.attrs,r=t.metrics;n&&H&&z.record({name:"Storage",attributes:n,metrics:r}).catch((function(e){U.debug("Failed to send the storage event automatically",e)}))},V=function(e){var t=e.event;if(t){var n=function(e){return M(void 0,void 0,void 0,(function(){var t;return T(this,(function(n){switch(n.label){case 0:if(!q||!H)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,z.record({name:"_userauth."+e})];case 2:return[2,n.sent()];case 3:return t=n.sent(),U.debug("Failed to send the "+e+" event automatically",t),[3,4];case 4:return[2]}}))}))};switch(t){case"signIn":return n("sign_in");case"signUp":return n("sign_up");case"signOut":return n("sign_out");case"signIn_failure":return n("auth_fail");case"configured":(q=!0)&&H&&W()}}},K=function(e){var t=e.event;if(t)switch(t){case"pinpointProvider_configured":H=!0,q&&H&&W()}},W=function(){var e=z.configure();!N&&e.autoSessionRecord&&(z.updateEndpoint({immediate:!0}).catch((function(e){U.debug("Failed to update the endpoint",e)})),N=!0),z.autoTrack("session",{enable:e.autoSessionRecord})},Y=new B,G=n(28);t.default=Y},function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var r=n(0),i=n(13),o=n(17),a=n(18),s=n(19),u=n(20),c=n(21),f=n(5),l=n(14),d=n(22),p=n(32),h=new Set(["ap-south-1","eu-north-1","eu-west-3","eu-west-2","eu-west-1","ap-northeast-2","ap-northeast-1","me-south-1","ca-central-1","sa-east-1","ap-east-1","ap-southeast-1","ap-southeast-2","eu-central-1","us-east-1","us-east-2","us-west-1","us-west-2"]),v=new Set(["cn-north-1","cn-northwest-1"]),g=new Set(["us-iso-east-1"]),_=new Set(["us-isob-east-1"]),y=new Set(["us-gov-west-1","us-gov-east-1"]),m={apiVersion:"2015-08-04",disableHostPrefix:!1,signingName:"firehose",regionInfoProvider:function(e,t){var n=void 0;switch(e){case"ap-east-1":n={hostname:"firehose.ap-east-1.amazonaws.com"};break;case"ap-northeast-1":n={hostname:"firehose.ap-northeast-1.amazonaws.com"};break;case"ap-northeast-2":n={hostname:"firehose.ap-northeast-2.amazonaws.com"};break;case"ap-south-1":n={hostname:"firehose.ap-south-1.amazonaws.com"};break;case"ap-southeast-1":n={hostname:"firehose.ap-southeast-1.amazonaws.com"};break;case"ap-southeast-2":n={hostname:"firehose.ap-southeast-2.amazonaws.com"};break;case"ca-central-1":n={hostname:"firehose.ca-central-1.amazonaws.com"};break;case"cn-north-1":n={hostname:"firehose.cn-north-1.amazonaws.com.cn"};break;case"cn-northwest-1":n={hostname:"firehose.cn-northwest-1.amazonaws.com.cn"};break;case"eu-central-1":n={hostname:"firehose.eu-central-1.amazonaws.com"};break;case"eu-north-1":n={hostname:"firehose.eu-north-1.amazonaws.com"};break;case"eu-west-1":n={hostname:"firehose.eu-west-1.amazonaws.com"};break;case"eu-west-2":n={hostname:"firehose.eu-west-2.amazonaws.com"};break;case"eu-west-3":n={hostname:"firehose.eu-west-3.amazonaws.com"};break;case"me-south-1":n={hostname:"firehose.me-south-1.amazonaws.com"};break;case"sa-east-1":n={hostname:"firehose.sa-east-1.amazonaws.com"};break;case"us-east-1":n={hostname:"firehose.us-east-1.amazonaws.com"};break;case"us-east-2":n={hostname:"firehose.us-east-2.amazonaws.com"};break;case"us-gov-east-1":n={hostname:"firehose.us-gov-east-1.amazonaws.com"};break;case"us-gov-west-1":n={hostname:"firehose.us-gov-west-1.amazonaws.com"};break;case"us-west-1":n={hostname:"firehose.us-west-1.amazonaws.com"};break;case"us-west-2":n={hostname:"firehose.us-west-2.amazonaws.com"};break;default:h.has(e)&&(n={hostname:"firehose.{region}.amazonaws.com".replace("{region}",e)}),v.has(e)&&(n={hostname:"firehose.{region}.amazonaws.com.cn".replace("{region}",e)}),g.has(e)&&(n={hostname:"firehose.{region}.c2s.ic.gov".replace("{region}",e)}),_.has(e)&&(n={hostname:"firehose.{region}.sc2s.sgov.gov".replace("{region}",e)}),y.has(e)&&(n={hostname:"firehose.{region}.amazonaws.com".replace("{region}",e)}),void 0===n&&(n={hostname:"firehose.{region}.amazonaws.com".replace("{region}",e)})}return Promise.resolve(n)}},b=Object(r.__assign)(Object(r.__assign)({},m),{requestHandler:new a.FetchHttpHandler,sha256:o.Sha256,urlParser:s.parseUrl,bodyLengthChecker:u.calculateBodyLength,streamCollector:c.streamCollector,base64Decoder:l.fromBase64,base64Encoder:l.toBase64,utf8Decoder:f.fromUtf8,utf8Encoder:f.toUtf8,defaultUserAgent:Object(d.defaultUserAgent)(p.a,p.b),runtime:"browser",credentialDefaultProvider:Object(i.invalidFunction)("Credential is missing"),regionDefaultProvider:Object(i.invalidFunction)("Region is missing")}),w=n(8),E=n(16),O=n(9),S=n(10),A=n(11),j=n(12),I=function(e){function t(t){var n=this,i=Object(r.__assign)(Object(r.__assign)({},b),t),o=Object(w.resolveRegionConfig)(i),a=Object(w.resolveEndpointsConfig)(o),s=Object(A.resolveAwsAuthConfig)(a),u=Object(S.resolveRetryConfig)(s),c=Object(j.resolveUserAgentConfig)(u),f=Object(O.resolveHostHeaderConfig)(c);return(n=e.call(this,f)||this).config=f,n.middlewareStack.use(Object(A.getAwsAuthPlugin)(n.config)),n.middlewareStack.use(Object(S.getRetryPlugin)(n.config)),n.middlewareStack.use(Object(j.getUserAgentPlugin)(n.config)),n.middlewareStack.use(Object(E.getContentLengthPlugin)(n.config)),n.middlewareStack.use(Object(O.getHostHeaderPlugin)(n.config)),n}return Object(r.__extends)(t,e),t.prototype.destroy=function(){},t}(n(1).Client)},function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n(0),i=n(2);function o(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,o,f,l,d,p,h,v,g,_,y;return Object(r.__generator)(this,(function(b){switch(b.label){case 0:return i=[Object(r.__assign)({},e)],o={},[4,E(e.body,t)];case 1:switch(n=r.__assign.apply(void 0,i.concat([(o.body=b.sent(),o)])),l="UnknownError",d=n.body.__type.split("#"),l=void 0===d[1]?d[0]:d[1],l){case"InvalidArgumentException":case"com.amazonaws.firehose.v20150804#InvalidArgumentException":return[3,2];case"InvalidKMSResourceException":case"com.amazonaws.firehose.v20150804#InvalidKMSResourceException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.firehose.v20150804#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.firehose.v20150804#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return p=[{}],[4,a(n,t)];case 3:return f=r.__assign.apply(void 0,[r.__assign.apply(void 0,p.concat([b.sent()])),{name:l,$metadata:m(e)}]),[3,11];case 4:return h=[{}],[4,s(n,t)];case 5:return f=r.__assign.apply(void 0,[r.__assign.apply(void 0,h.concat([b.sent()])),{name:l,$metadata:m(e)}]),[3,11];case 6:return v=[{}],[4,u(n,t)];case 7:return f=r.__assign.apply(void 0,[r.__assign.apply(void 0,v.concat([b.sent()])),{name:l,$metadata:m(e)}]),[3,11];case 8:return g=[{}],[4,c(n,t)];case 9:return f=r.__assign.apply(void 0,[r.__assign.apply(void 0,g.concat([b.sent()])),{name:l,$metadata:m(e)}]),[3,11];case 10:_=n.body,l=_.code||_.Code||l,f=Object(r.__assign)(Object(r.__assign)({},_),{name:""+l,message:_.message||_.Message||l,$fault:"client",$metadata:m(e)}),b.label=11;case 11:return y=f.message||f.Message||l,f.message=y,delete f.Message,[2,Promise.reject(Object.assign(new Error(y),f))]}}))}))}var a=function(e,t){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var n,i;return Object(r.__generator)(this,(function(o){return n=e.body,i=p(n,t),[2,Object(r.__assign)({name:"InvalidArgumentException",$fault:"client",$metadata:m(e)},i)]}))}))},s=function(e,t){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var n,i;return Object(r.__generator)(this,(function(o){return n=e.body,i=h(n,t),[2,Object(r.__assign)({name:"InvalidKMSResourceException",$fault:"client",$metadata:m(e)},i)]}))}))},u=function(e,t){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var n,i;return Object(r.__generator)(this,(function(o){return n=e.body,i=_(n,t),[2,Object(r.__assign)({name:"ResourceNotFoundException",$fault:"client",$metadata:m(e)},i)]}))}))},c=function(e,t){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var n,i;return Object(r.__generator)(this,(function(o){return n=e.body,i=y(n,t),[2,Object(r.__assign)({name:"ServiceUnavailableException",$fault:"server",$metadata:m(e)},i)]}))}))},f=function(e,t){var n={};return void 0!==e.DeliveryStreamName&&(n.DeliveryStreamName=e.DeliveryStreamName),void 0!==e.Records&&(n.Records=l(e.Records,t)),n},l=function(e,t){var n,i,o=[];try{for(var a=Object(r.__values)(e),s=a.next();!s.done;s=a.next()){var u=s.value;o.push(d(u,t))}}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return o},d=function(e,t){var n={};return void 0!==e.Data&&(n.Data=t.base64Encoder(e.Data)),n},p=function(e,t){var n={__type:"InvalidArgumentException",message:void 0};return void 0!==e.message&&null!==e.message&&(n.message=e.message),n},h=function(e,t){var n={__type:"InvalidKMSResourceException",code:void 0,message:void 0};return void 0!==e.code&&null!==e.code&&(n.code=e.code),void 0!==e.message&&null!==e.message&&(n.message=e.message),n},v=function(e,t){var n={__type:"PutRecordBatchOutput",Encrypted:void 0,FailedPutCount:void 0,RequestResponses:void 0};return void 0!==e.Encrypted&&null!==e.Encrypted&&(n.Encrypted=e.Encrypted),void 0!==e.FailedPutCount&&null!==e.FailedPutCount&&(n.FailedPutCount=e.FailedPutCount),void 0!==e.RequestResponses&&null!==e.RequestResponses&&(n.RequestResponses=g(e.RequestResponses,t)),n},g=function(e,t){return(e||[]).map((function(e){return function(e,t){var n={__type:"PutRecordBatchResponseEntry",ErrorCode:void 0,ErrorMessage:void 0,RecordId:void 0};return void 0!==e.ErrorCode&&null!==e.ErrorCode&&(n.ErrorCode=e.ErrorCode),void 0!==e.ErrorMessage&&null!==e.ErrorMessage&&(n.ErrorMessage=e.ErrorMessage),void 0!==e.RecordId&&null!==e.RecordId&&(n.RecordId=e.RecordId),n}(e)}))},_=function(e,t){var n={__type:"ResourceNotFoundException",message:void 0};return void 0!==e.message&&null!==e.message&&(n.message=e.message),n},y=function(e,t){var n={__type:"ServiceUnavailableException",message:void 0};return void 0!==e.message&&null!==e.message&&(n.message=e.message),n},m=function(e){return{httpStatusCode:e.statusCode,httpHeaders:e.headers,requestId:e.headers["x-amzn-requestid"]}},b=function(e,t){return function(e,t){return e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)}(e,t).then((function(e){return t.utf8Encoder(e)}))},w=function(e,t,n,o,a){var s=Object(r.__assign)(Object(r.__assign)({},e.endpoint),{protocol:"https",method:"POST",path:n,headers:t});return void 0!==o&&(s.hostname=o),void 0!==a&&(s.body=a),new i.HttpRequest(s)},E=function(e,t){return b(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},O=n(7),S=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(r.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(O.getSerdePlugin)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i;return Object(r.__generator)(this,(function(r){return(n={})["Content-Type"]="application/x-amz-json-1.1",n["X-Amz-Target"]="Firehose_20150804.PutRecordBatch",i=JSON.stringify(f(e,t)),[2,w(t,n,"/",void 0,i)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,a;return Object(r.__generator)(this,(function(s){switch(s.label){case 0:return e.statusCode>=400?[2,o(e,t)]:[4,E(e.body,t)];case 1:return n=s.sent(),{},i=v(n,t),a=Object(r.__assign)({$metadata:m(e),__type:"PutRecordBatchOutput"},i),[2,Promise.resolve(a)]}}))}))}(e,t)},t}(n(1).Command)}])}));
//# sourceMappingURL=aws-amplify-analytics.min.js.map
{"ast":null,"code":"var _jsxFileName = \"/home/ec2-user/environment/react-amplified/src/App.js\";\nimport faker from 'faker';\nimport _ from 'lodash';\nimport React, { Component } from 'react';\nimport logo from \"./logo.svg\";\nimport Amplify, { API, graphqlOperation, Auth } from 'aws-amplify';\nimport './App.css';\nimport awsmobile from './aws-exports';\nimport { render } from \"react-dom\";\nimport { Bootstrap } from 'a-theme-react';\nimport { AmplifyAuthenticator, withAuthenticator, AmplifySignOut } from '@aws-amplify/ui-react';\nimport { Button, Input, Form, Grid, Header, Image, Message, Segment, Dropdown } from 'semantic-ui-react';\nconst addressDefinitions = faker.definitions.address;\n\nconst stateOptions = _.map(addressDefinitions.state, (state, index) => ({\n  key: addressDefinitions.state_abbr[index],\n  text: state,\n  value: addressDefinitions.state_abbr[index]\n}));\n\nconst loadEvents = () => _.times(3, () => {\n  const name = faker.name.findName();\n  return {\n    key: name,\n    text: name,\n    value: _.snakeCase(name)\n  };\n});\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isFetching: true,\n      value: [],\n      options: [],\n      template: [],\n      modelname: \"\",\n      topic: \"\",\n      timeout: 0\n    };\n\n    this.handleChange = (e, {\n      value\n    }) => {\n      this.setState({\n        value\n      });\n    };\n\n    this.handleTemplateChange = (e, {\n      template\n    }) => {\n      this.setState({\n        template\n      });\n    };\n\n    this.handleTopicChange = (e, {\n      template\n    }) => {\n      this.setState({\n        topic\n      });\n    };\n\n    this.handleModelNameChange = (e, {\n      template\n    }) => {\n      this.setState({\n        modelname\n      });\n    };\n\n    this.handleTimeoutChange = (e, {\n      template\n    }) => {\n      this.setState({\n        timeout\n      });\n    };\n\n    this.handleClickAdd = async () => {\n      const path = \"/items/iotevents/add\"; // you can specify the path\n\n      var formdata = {\n        \"template\": this.state.template,\n        \"topic\": this.state.topic,\n        \"timeout\": this.state.timeout,\n        \"modelname\": this.state.modelname\n      };\n      const apiResponse = await API.post(\"api75996003\", path);\n      console.log('response:' + apiResponse);\n      this.setState({\n        apiResponse\n      });\n    };\n  }\n\n  async loadEvents() {\n    const path = \"/iotevents/list\"; // you can specify the path\n\n    try {\n      const apiResponse = await API.get(\"api75996003\", path);\n      this.setState({\n        options: apiResponse.options\n      });\n      this.setState({\n        isFetching: false\n      });\n    } catch (err) {\n      console.log(\"error calling api: \" + err);\n    }\n  }\n\n  render() {\n    const {\n      isFetching,\n      options,\n      value,\n      template\n    } = this.state;\n    this.loadEvents();\n    const templateOptions = [{\n      key: 'Simple Alarm',\n      text: 'Simple Alarm',\n      value: 'Simple Alarm'\n    }, {\n      key: 'HVAC Temperature Control',\n      text: 'HVAC Temperature Control',\n      value: 'HVAC Temperature Control'\n    }];\n    return /*#__PURE__*/React.createElement(AmplifyAuthenticator, {\n      theme: Bootstrap,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      style: styles.container,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      textAlign: \"center\",\n      style: {\n        height: '100vh'\n      },\n      verticalAlign: \"middle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Grid.Column, {\n      style: {\n        maxWidth: 450\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      as: \"h2\",\n      color: \"teal\",\n      textAlign: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }\n    }, \"IoT Events - Demo\"), /*#__PURE__*/React.createElement(Segment, {\n      stacked: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Segment, {\n      basic: true,\n      padded: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Segment.Inline, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown, {\n      placeholder: \"Existing Event Models\",\n      search: true,\n      selection: true,\n      disabled: isFetching,\n      loading: isFetching,\n      options: options,\n      defaultValue: value,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      secondary: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 19\n      }\n    }, \"Remove\"))), /*#__PURE__*/React.createElement(Segment.Group, {\n      basic: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Segment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown, {\n      placeholder: \"Select Event Model template\",\n      selection: true,\n      options: templateOptions,\n      onChange: this.handleTemplateChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 26\n      }\n    })), /*#__PURE__*/React.createElement(Segment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      onChange: this.handleModelNameChange,\n      placeholder: \"Event Model Name...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 26\n      }\n    })), /*#__PURE__*/React.createElement(Segment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      onChange: this.handleTimeoutChange,\n      placeholder: \"Alarm Timeout(s)...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 26\n      }\n    })), /*#__PURE__*/React.createElement(Segment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      onChange: this.handleTopicChange,\n      placeholder: \"Input Topic...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 26\n      }\n    }))), /*#__PURE__*/React.createElement(Segment.Inline, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      primary: true,\n      onClick: this.handleClickAdd,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }\n    }, \"Add\"))), /*#__PURE__*/React.createElement(AmplifySignOut, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }\n    })))));\n  }\n\n}\n\nconst styles = {\n  container: {\n    width: 500,\n    margin: '0 auto',\n    display: 'flex',\n    flex: 1,\n    flexDirection: 'column',\n    justifyContent: 'center',\n    padding: 20\n  },\n  todo: {\n    marginBottom: 15\n  },\n  input: {\n    border: 'none',\n    backgroundColor: '#ddd',\n    marginBottom: 10,\n    padding: 8,\n    fontSize: 18\n  },\n  todoName: {\n    fontSize: 20,\n    fontWeight: 'bold'\n  },\n  todoDescription: {\n    marginBottom: 0\n  },\n  button: {\n    backgroundColor: 'black',\n    color: 'white',\n    outline: 'none',\n    fontSize: 18,\n    padding: '12px 0px'\n  }\n};\nexport default App; //export default withAuthenticator(App, {  includeGreetings: true})","map":{"version":3,"sources":["/home/ec2-user/environment/react-amplified/src/App.js"],"names":["faker","_","React","Component","Amplify","API","graphqlOperation","Auth","awsmobile","render","Bootstrap","AmplifyAuthenticator","withAuthenticator","AmplifySignOut","Button","Input","Form","Grid","Header","Image","Message","Segment","Dropdown","addressDefinitions","definitions","address","stateOptions","map","state","index","key","state_abbr","text","value","loadEvents","times","name","findName","snakeCase","App","isFetching","options","template","modelname","topic","timeout","handleChange","e","setState","handleTemplateChange","handleTopicChange","handleModelNameChange","handleTimeoutChange","handleClickAdd","path","formdata","apiResponse","post","console","log","get","err","templateOptions","styles","container","height","maxWidth","width","margin","display","flex","flexDirection","justifyContent","padding","todo","marginBottom","input","border","backgroundColor","fontSize","todoName","fontWeight","todoDescription","button","color","outline"],"mappings":"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","sourcesContent":["import faker from 'faker';\nimport _ from 'lodash';\nimport React, { Component } from 'react';\nimport logo from './logo.svg';\nimport Amplify, { API, graphqlOperation, Auth } from 'aws-amplify';\nimport './App.css';\nimport awsmobile from './aws-exports';\nimport { render } from \"react-dom\";\nimport { Bootstrap } from 'a-theme-react';\n\nimport { AmplifyAuthenticator, withAuthenticator, AmplifySignOut } from '@aws-amplify/ui-react';\n\nimport { Button, Input, Form, Grid, Header, Image, Message, Segment, Dropdown } from 'semantic-ui-react'\n\nconst addressDefinitions = faker.definitions.address\nconst stateOptions = _.map(addressDefinitions.state, (state, index) => ({\n  key: addressDefinitions.state_abbr[index],\n  text: state,\n  value: addressDefinitions.state_abbr[index],\n}))\n\n\nconst loadEvents = () =>\n  _.times(3, () => {\n    const name = faker.name.findName()\n    return { key: name, text: name, value: _.snakeCase(name) }\n  })\n\nclass App extends Component {\n  state = {\n    isFetching: true,\n    value: [],\n    options: [],\n    template: [],\n    modelname: \"\",\n    topic: \"\",\n    timeout: 0\n  }\n\n  handleChange = (e, { value }) => {\n  this.setState({ value })\n  }\n  \n  handleTemplateChange = (e, { template }) => {\n  this.setState({ template })\n  }\n  \n  handleTopicChange = (e, { template }) => {\n  this.setState({ topic })\n  }\n  \n  handleModelNameChange = (e, { template }) => {\n  this.setState({ modelname })\n  }\n  \n  handleTimeoutChange = (e, { template }) => {\n  this.setState({ timeout })\n  }\n  \n  async loadEvents() {\n   const path = \"/iotevents/list\"; // you can specify the path\n    try{\n      const apiResponse = await API.get(\"api75996003\" , path);\n      this.setState({ options: apiResponse.options });\n      this.setState({isFetching: false});\n    }catch(err){\n      console.log(\"error calling api: \" + err);\n    }\n  }\n\n  handleClickAdd = async ()  => {\n   const path = \"/items/iotevents/add\"; // you can specify the path\n   var formdata = {\n      \"template\": this.state.template,\n      \"topic\":  this.state.topic,\n      \"timeout\":  this.state.timeout,\n      \"modelname\":  this.state.modelname\n    }\n   \n    const apiResponse = await API.post(\"api75996003\" , path);\n    console.log('response:' + apiResponse);\n    this.setState({ apiResponse });\n  }\n  \n  render() {\n    const {isFetching,options, value, template } = this.state\n    this.loadEvents();\n    \n    const templateOptions = [\n      {\n        key: 'Simple Alarm',\n        text: 'Simple Alarm',\n        value: 'Simple Alarm'\n      },\n      {\n        key: 'HVAC Temperature Control',\n        text: 'HVAC Temperature Control',\n        value: 'HVAC Temperature Control',\n      }\n    ]\n    return (\n      <AmplifyAuthenticator theme={Bootstrap}>\n        <div className=\"App\" style={styles.container}>\n        <Grid textAlign='center' style={{ height: '100vh' }} verticalAlign='middle'>\n          <Grid.Column style={{ maxWidth: 450 }}>\n            <Header as='h2' color='teal' textAlign='center'>\n              IoT Events - Demo\n            </Header>\n            <Segment stacked>\n              <Segment basic padded>\n                <Segment.Inline >\n                  <Dropdown placeholder='Existing Event Models' \n                  search \n                  selection \n                  disabled={isFetching}\n                  loading={isFetching}\n                  options={options}\n                  defaultValue={value}\n                  onChange={this.handleChange}\n                  />\n                  <Button secondary>Remove</Button>\n                </Segment.Inline>\n              </Segment>\n              <Segment.Group basic>\n                <Segment><Dropdown \n                  placeholder='Select Event Model template' \n                  selection \n                  options={templateOptions}\n                  onChange={this.handleTemplateChange}\n                  /></Segment>\n                <Segment><Input onChange={this.handleModelNameChange} placeholder=\"Event Model Name...\" /></Segment>\n                <Segment><Input onChange={this.handleTimeoutChange} placeholder=\"Alarm Timeout(s)...\" /></Segment>\n                <Segment><Input onChange={this.handleTopicChange} placeholder=\"Input Topic...\" /></Segment>\n              </Segment.Group>\n              <Segment.Inline >\n                <Button primary onClick={this.handleClickAdd}>Add</Button>\n              </Segment.Inline>\n            </Segment>\n            <AmplifySignOut />\n          </Grid.Column>\n        </Grid>\n      </div>\n    </AmplifyAuthenticator>\n    )\n  }\n}\n\nconst styles = {\n  container: { width: 500, margin: '0 auto', display: 'flex', flex: 1, flexDirection: 'column', justifyContent: 'center', padding: 20 },\n  todo: {  marginBottom: 15 },\n  input: { border: 'none', backgroundColor: '#ddd', marginBottom: 10, padding: 8, fontSize: 18 },\n  todoName: { fontSize: 20, fontWeight: 'bold' },\n  todoDescription: { marginBottom: 0 },\n  button: { backgroundColor: 'black', color: 'white', outline: 'none', fontSize: 18, padding: '12px 0px' }\n}\n\nexport default App\n//export default withAuthenticator(App, {  includeGreetings: true})\n"]},"metadata":{},"sourceType":"module"}